"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9443],{72418:(e,t,i)=>{i.d(t,{M:()=>E,f:()=>P});var a=i(30758),n=i(97500),l=i.n(n),s=i(61e3),r=i(11205),o=i(106),d=i(93492),c=i(80600),u=i(38557),p=i(45176);var y=i(89913),g=i(19554),m=i(95722),b=i(97137),f=i(49753),T=i(48975),h=i(16674),x=i(46440);const w="BKsbV2Xl786X9a09XROH",R="HbKLiGoYM4dpuK8L4TMX",k="VmwiDoU6RpqyzK_n7XRO",A="rEx3EYgBzS8SoY7dmC6x";var S=i(86070);let E=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});const N=e=>{const{currentTarget:t,detail:i}=e;i>0&&t&&t.blur()},P=({uri:e,isFollowing:t,onFollow:i,size:n=E.sm,className:P,onClick:I=()=>{},showUpsell:C=!0,canDownload:$=!0,condensedAll:v,condensed:O})=>{const[j,L]=(0,a.useState)(!1),{capability:V,availability:M,addDownload:D}=(0,h.$)(e,$),_=!(0,T.n)(),U=(0,f.V)(),B=(0,x.e)(e);((e,t)=>{const i=(0,c.i)(),n=(0,a.useRef)(!1);(0,a.useEffect)((()=>{e===p.kw.DOWNLOADING&&!1===n.current&&(n.current=!0,i.say(d.Ru.get("download.downloading",t.totalItems)))}),[i,e,t]);const l=(0,u.Z)(e);(0,a.useEffect)((()=>{l===p.kw.DOWNLOADING&&e===p.kw.YES&&(n.current=!1,i.say(d.Ru.get("download.complete")))}),[i,l,e])})(M,B);const z=(0,a.useCallback)((e=>{e.preventDefault(),V===p.vs.NO_PERMISSION?I(e,p.NV.NO_PERMISSION):(!1===t?(i(),L(!0)):D(),I(e,p.NV.ADD)),N(e)}),[D,V,t,I,i]),K=(0,a.useCallback)((t=>{t.preventDefault(),U(e),N(t),I(t,p.NV.REMOVE)}),[e,U,I]);if((0,a.useEffect)((()=>{!0===j&&!0===t&&(D(),L(!1))}),[t,j,D]),M===p.kw.YES)return(0,S.jsx)(y.Zp,{label:d.Ru.get("download.remove"),children:(0,S.jsx)(s.H,{className:P,onClick:K,iconOnly:r.F,semanticColor:"textBrightAccent",size:n,"aria-label":d.Ru.get("download.remove"),"aria-checked":!0,condensedAll:v,condensed:O})});if(V===p.vs.NO_CAPABILITY||V===p.vs.NO_PERMISSION_HIDE)return null;if(V===p.vs.NO_PERMISSION)return C?(0,S.jsx)("div",{className:l()(w,P),children:(0,S.jsx)(b.y,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,S.jsx)(m.z,{children:(0,S.jsx)("span",{children:d.Ru.get("download.upsell")})}),renderInline:!1,children:(0,S.jsx)("div",{children:(0,S.jsx)(y.Zp,{label:d.Ru.get("download.download"),children:(0,S.jsx)(s.H,{onClick:z,iconOnly:o.i,size:n,"aria-label":d.Ru.get("download.download"),"aria-checked":!1,condensedAll:v,condensed:O,disabled:_})})})})}):null;if(M===p.kw.NO)return(0,S.jsx)(y.Zp,{label:d.Ru.get("download.download"),children:(0,S.jsx)(s.H,{className:P,onClick:z,iconOnly:o.i,size:n,"aria-label":d.Ru.get("download.download"),"aria-checked":!1,condensedAll:v,condensed:O,disabled:_})});let Y;switch(n){case E.xs:Y=16;break;case E.sm:Y=24;break;default:Y=32}return(0,S.jsxs)("div",{className:l()(k,P),role:"switch","aria-checked":!0,children:[(0,S.jsx)(y.Zp,{label:d.Ru.get("download.cancel"),children:(0,S.jsx)("button",{style:{height:Y,width:Y},className:l()(R,P),onClick:K,"aria-label":d.Ru.get("download.cancel")})}),(0,S.jsx)("span",{className:l()(A),children:(0,S.jsx)(g.C,{"aria-valuetext":d.Ru.get("progress.downloading-tracks"),percentage:B.percentage,size:Y})})]})}},47066:(e,t,i)=>{i.d(t,{F:()=>v});var a=i(30758),n=i(3118),l=i(93492),s=i(43758),r=i(84676),o=i(34094),d=i(97500),c=i.n(d),u=i(36625),p=i(13505),y=i(80104),g=i(86070);const m=({children:e})=>(0,g.jsx)(p.E,{dir:"auto",className:c()(y.A.rowTitle,y.A.discTitle,"standalone-ellipsis-one-line"),as:"div",variant:"bodyMediumBold",children:e});var b=i(22360),f=i(37502),T=i(74618),h=i(1782);const x=({discNumber:e})=>(0,g.jsxs)("div",{className:c()(y.A.trackListRowGrid,y.A.discRow),children:[(0,g.jsx)(T.y,{ariaColIndex:0,children:(0,g.jsx)("div",{className:y.A.rowMarker,children:(0,g.jsx)(f.a,{children:(0,g.jsx)(u.I,{size:"small"})})})}),(0,g.jsx)(h.U,{ariaColIndex:1,children:(0,g.jsx)(b.l,{children:(0,g.jsx)(m,{children:l.Ru.get("tracklist.disc-sperator.title",e)})})})]});var w=i(40997),R=i(88308),k=i(23705),A=i(74010),S=i(17976),E=i(11663);const N=(e,t)=>{const{request:i}=(0,a.useContext)(E.j),n=(0,R.lB)((()=>t),[t]),l=(0,a.useMemo)((()=>function(e){return(0,S.YD)(e)?e.items.reduce(((e,t)=>(e.push(t.discNumber-1),e.concat(Array(t.nrTracks??0).fill(t.discNumber)))),[]):null}(n)),[n]);return(0,a.useCallback)((async(t,a)=>{const s=await i(k.xt,{uri:e,offset:null!==l?t-l[t]:t,limit:a});return(0,A.T)(s?.data,n)}),[n,l,i,e])};var P=i(61895),I=i(90630),C=i(24395),$=i(78172);const v=a.memo((function({albumName:e,nrTracks:t,discs:i,albumUri:d,highlightUri:c,scrollToIndex:u,usePlayContextItem:p,hasHeaderRow:y=!0,initalTracks:m,isCompactMode:b=!1}){const f=(0,n.NC)(I.LX5),T=N(d,i),h=(0,a.useRef)(null),R=(0,a.useRef)(!1),[k,A]=(0,a.useState)(null);(0,a.useEffect)((()=>{h.current&&(k?h.current.scrollToIndex(k):u&&h.current.scrollToIndex(u))}),[k,u]);const S=(0,a.useCallback)((async(e,t)=>{const i=await T(e,t);if(c&&!k){const e=i.items?.findIndex((e=>e.type===$.c.TRACK&&e?.uri===c));A(e||-1)}return i}),[T,c,k]),E=(0,r.w)(),v=(0,a.useCallback)((e=>({uri:e.type===$.c.TRACK?e.linkedUri??e.uri:""})),[]),O=(0,a.useCallback)(((t,i)=>{if("AlbumDisc"===t.type)return(0,g.jsx)(x,{discNumber:t.discNumber},`${i}-${t.discNumber}`);const a=t.linkedUri??t.uri,n=t.playcount?parseInt(t.playcount,10):0,s=!(R.current||!c||c!==t.uri&&c!==a);s&&(R.current=!0);const r=t.hasAssociatedVideo;return(0,g.jsxs)("div",{children:[c===t.uri&&(0,g.jsx)(P.c,{artistOrShow:t.artists.map((e=>e.name)).join(l.Ru.getSeparator()),title:t.name,uri:a,entityType:P.p.TRACK}),(0,g.jsx)(o.d,{index:i,trackNumber:t.trackNumber,contextUri:d,uri:a,uid:t.uid,albumName:e,duration_ms:t.duration.milliseconds,name:t.name,isPlayable:t.isPlayable,artists:t.artists,isExplicit:t.isExplicit,isMOGEFRestricted:t.is19PlusOnly,playcount:n,shouldHighLight:s,usePlayContextItem:p,isCompactMode:b,hasAssociatedVideo:r&&f})]},i+t.uri)}),[c,e,d,p,b,f]);return(0,g.jsx)(C.pZ,{value:"album-tracklist",children:(0,g.jsx)(w.S4,{ariaLabel:e,hasHeaderRow:y,rowPlaceholder:s.Bz,columns:E,renderRow:O,resolveItem:v,nrTracks:t,fetchTracks:S,limit:300,outerRef:h,tracks:m,isCompactMode:b,columnPersistenceKey:"album-tracklist"},d)})}))},61895:(e,t,i)=>{i.d(t,{c:()=>h,p:()=>b});var a=i(30758),n=i(48237),l=i(87347),s=i(34109),r=i(93492),o=i(82220),d=i(69623),c=i(68508),u=i(36663),p=i(20967),y=i(39876),g=i(82362),m=i(86070);let b=function(e){return e.ALBUM="album",e.ARTIST="artist",e.AUDIOBOOK="audiobook",e.EPISODE="episode",e.PLAYLIST="playlist",e.PODCAST="podcast",e.TRACK="track",e}({});const f=e=>e===b.TRACK?r.Ru.get("web-player.deeplink-intent.add-to-library.liked-songs-title"):e===b.EPISODE?r.Ru.get("web-player.deeplink-intent.add-to-library.episodes-title"):r.Ru.get("web-player.deeplink-intent.add-to-library.title"),T=({entityType:e,artistOrShow:t,title:i})=>e===b.ARTIST||e===b.PODCAST?r.Ru.get("web-player.deeplink-intent.add-to-library.artist-description",{name:t??""}):r.Ru.get("web-player.deeplink-intent.add-to-library.description",{title:i??"",name:t??""}),h=e=>{const{intent:t,clear:i}=(0,d.AT)();return t!==d.pg.ADD_TO_LIBRARY?null:(0,m.jsx)(x,{...e,clearDeeplinkIntent:i})};function x({uri:e,entityType:t,artistOrShow:i,title:d,clearDeeplinkIntent:h}){const x=(0,u.f)(),w=(0,p._)(),{enqueueSnackbar:R}=(0,n.dh)(),[k,A]=(0,a.useState)(null),{spec:S,logger:E}=(0,g.r)(l.K0,{data:{uri:e,identifier:t}}),{spec:N,logger:P}=(0,g.r)(s.y4,{data:{uri:e,identifier:t}}),I=(0,y.t)(S);(0,a.useEffect)((()=>{t===b.PLAYLIST?w?.contains([e]).then((e=>A(e[0]))):x.contains(e).then((e=>A(e[0])))}),[t,x,w,e]),(0,a.useEffect)((()=>{k&&(R(r.Ru.get("web-player.deeplink-intent.add-to-library.already-in-library")),P.logImpression(N.impression()),h())}),[h,R,k,P,N]);const C=(0,a.useCallback)((()=>{E.logInteraction(S.closeButtonFactory().hitUiHide()),h()}),[h,E,S]),$=(0,a.useCallback)((()=>{t===b.PLAYLIST?w?.add([e],{before:"start"}):x.add({uris:[e]}),t===b.EPISODE||t===b.TRACK?E.logInteraction(S.addButtonFactory().hitAddToPlaylist({playlist:t===b.TRACK?c.BP:c.Xn,itemToBeAdded:e})):E.logInteraction(S.addButtonFactory().hitFollow({itemToBeFollowed:e})),h()}),[h,t,x,E,w,S,e]);return null===k?null:(0,m.jsx)(o.T,{ref:I,titleText:f(t),descriptionText:T({entityType:t,artistOrShow:i,title:d}),confirmText:r.Ru.get("playlist.extender.button.add"),cancelText:r.Ru.get("block-user.dialog.cancel"),onConfirm:$,onClose:C,"aria-label":f(t)})}},80600:(e,t,i)=>{i.d(t,{i:()=>l});var a=i(30758);class n{constructor(e={}){this.settings={level:e.level||"polite",parent:e.parent||document.body,idPrefix:e.idPrefix||"live-region-",delay:e.delay||0},this.currentRegion=document.createElement("span")}say(e,t=this.settings.delay){this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());const i="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",i),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((()=>{this.currentRegion.textContent=e}),t)}clearNode(){const e=this.settings.parent.querySelector(`[id^="${this.settings.idPrefix}"]`);e&&this.settings.parent.removeChild(e)}}const l=({delay:e,idPrefix:t,level:i,parent:l}={})=>{const s=(0,a.useMemo)((()=>new n({delay:e,idPrefix:t,level:i,parent:l})),[e,t,i,l]);return(0,a.useEffect)((()=>()=>{s.clearNode()}),[s]),s}},29208:(e,t,i)=>{i.d(t,{t:()=>d});var a=i(30758),n=i(33279),l=i(86422),s=i(2106),r=i(15425);const o=[n.$.INDEX,n.$.TITLE_AND_ARTIST,n.$.PLAYS,n.$.DURATION],d=()=>{const{isCompactMode:e}=(0,l.a)(),t=(0,r.My)()===s.m.Web;return(0,a.useMemo)((()=>(({isWebPlayer:e,isCompactMode:t})=>{const i=[...o];return e&&i.splice(i.indexOf(n.$.PLAYS),1),t&&i.splice(i.indexOf(n.$.TITLE_AND_ARTIST),1,n.$.TITLE,n.$.ARTIST),i})({isWebPlayer:t,isCompactMode:e})),[e,t])}},26923:(e,t,i)=>{i.d(t,{J:()=>c});var a=i(62411),n=i(3118),l=i(72574),s=i(48975),r=i(90630),o=i(98962),d=i(67759);const c=e=>{const[t]=(0,d.A)(e),i=(0,s.n)(),c=(0,a.d4)(o.F6),u=(0,n.NC)(r.U4t),p=!i&&t,y=(0,l.o_h)(e);return y?.type===l.NQG.ALBUM?{playUri:p&&!u?(0,l.Uu7)(c,(0,l.o_h)(e)?.id).toURI():e,playOptions:p?{useListPlatformPlay:u}:{}}:{playUri:e,playOptions:{}}}},38557:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(30758);function n(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current}},13946:(e,t,i)=>{i.d(t,{P:()=>a.P});var a=i(6704)},17807:(e,t,i)=>{i.d(t,{L$:()=>o,Q2:()=>d,hV:()=>r,j2:()=>s,pr:()=>u,qc:()=>l,rO:()=>c});var a=i(88176),n=i(2036);const l=({albumArtists:e,albumName:t,albumType:i,shouldLocalize:l,i18n:s})=>{if(!i||!t||!e)return"";const r=i!==a._m.Ep?(e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1))(i):i,o=(0,n.C)(i),d=`${t} - ${r} by ${e} | Spotify`,c=s.get("i18n.meta.album.title",t,o,e);return l?c:d},s=({i18n:e,shouldLocalize:t,artistTitleTagExperimentVariants:i={artistTitleTagSongsVariantEnabled:!1,artistTitleTagSongsAndMoreVariantEnabled:!1,artistTitleTagSongsAndMusicVariantEnabled:!1},artistName:a})=>{if(!a)return"";const{artistTitleTagSongsVariantEnabled:n,artistTitleTagSongsAndMoreVariantEnabled:l,artistTitleTagSongsAndMusicVariantEnabled:s}=i;if(t){if(n)return e.get("i18n.meta.artist.title.artist-songs",a);if(s)return e.get("i18n.meta.artist.title.artist-songs-and-music",a);if(l)return e.get("i18n.meta.artist.title.artist-songs-and-more",a)}return`${a} | Spotify`},r=({showOrAudiobookName:e,type:t})=>e?`${e} | ${t} on Spotify`:"",o=({episodeOrChapterName:e,showOrAudiobookName:t,type:i})=>e&&t?`${e} - ${t} | ${i} on Spotify`:"",d=({playlistName:e,userName:t,isSpotifyOwned:i=!1,spotifyPlaylistTitleTagVariants:a={spotifyPlaylistTitleTagVariant1Enabled:!1,spotifyPlaylistTitleTagVariant2Enabled:!1,spotifyPlaylistTitleTagVariant3Enabled:!1},userPlaylistTitleTagVariants:n={userPlaylistTitleTagVariant1Enabled:!1,userPlaylistTitleTagVariant2Enabled:!1,userPlaylistTitleTagVariant3Enabled:!1},count:l})=>{if(!e||!t)return"";const{spotifyPlaylistTitleTagVariant1Enabled:s,spotifyPlaylistTitleTagVariant2Enabled:r,spotifyPlaylistTitleTagVariant3Enabled:o}=a,{userPlaylistTitleTagVariant1Enabled:d,userPlaylistTitleTagVariant2Enabled:c,userPlaylistTitleTagVariant3Enabled:u}=n;if(l){const a=l>1?"Songs":"Song",n=l>1?"songs":"song";if(i){if(s)return`${e} - ${l} ${a} | Spotify Playlist`;if(r)return`${e} - Top ${l} ${a} | Spotify Playlist`;if(o)return`${e} - ${l} ${a} - playlist by Spotify`}if(d)return`${e} - playlist by ${t} - ${l} ${n} | Spotify`;if(c)return`${e} - ${l} ${n} - playlist by ${t} | Spotify`;if(u)return`${e} - ${l} ${n} | Spotify`}return`${e}${i?"":` - playlist by ${t}`} | ${i?"Spotify Playlist":"Spotify"}`},c=({i18n:e,trackArtistsList:t,trackName:i,shouldLocalize:a,disabled:n=!1})=>{if(!t||!i)return"";let l=`${i} - song and lyrics by ${t} | Spotify`,s=e.get("i18n.meta.track-lyrics.title",i,t);return n&&(l=`${i} - song by ${t} | Spotify`,s=e.get("i18n.meta.track.title",i,t)),a?s:l},u=({i18n:e,shouldLocalize:t})=>{const i=e.get("i18n.meta.home.title");return t?i:"Spotify - Web Player: Music for everyone"}}}]);