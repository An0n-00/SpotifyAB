"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{97019:(e,t,a)=>{a.d(t,{y:()=>g});var r=a(30758),n=a(97500),i=a.n(n),s=a(58566),o=a(77287),l=a(45848);const c="zUf7jtv9GPOKC1jYO5TO",d="T8QLel3PoQTgJUpGYj7Q";var u=a(86070);const m=(0,r.memo)((({isLoading:e})=>{const t=(0,o.h)("shimmer");return(0,u.jsx)("div",{className:l.A.imageContainer,children:(0,u.jsx)("div",{ref:t,className:i()(l.A.imageWrapper,{[d]:e})})})})),p=(0,r.memo)((({isLoading:e})=>(0,u.jsx)("div",{className:i()(l.A.shortcut,c),"data-testid":"skeleton-shortcut",children:(0,u.jsxs)("div",{className:l.A.draggable,children:[(0,u.jsx)(m,{isLoading:e}),(0,u.jsx)("div",{className:i()(l.A.main,l.A.skeletonShortcut),children:(0,u.jsx)(s.Y,{as:"p",variant:"bodyMediumBold",className:l.A.name,isLoading:e})})]})}))),g=(0,r.memo)((({withTitle:e})=>(0,u.jsxs)("section",{className:l.A.shortcuts,children:[e&&(0,u.jsx)("div",{className:l.A.title,children:(0,u.jsx)(s.Y,{as:"h2",variant:"titleMedium",charCount:25,isLoading:!0})}),(0,u.jsx)("div",{className:i()(l.A.grid,{[l.A.gridOf4Columns]:true}),children:[...new Array(8).keys()].slice(0,8).map(((e,t)=>(0,u.jsx)(p,{isLoading:!0},t)))})]})))},92039:(e,t,a)=>{a.r(t),a.d(t,{SKELETON_CARDS_COUNT:()=>G,SKELETON_SHELVES_COUNT:()=>W,default:()=>Y,getRequestIdForImpressions:()=>z});var r=a(30758),n=a(53177),i=a(97500),s=a.n(i),o=a(3118),l=a(53441),c=a(93492),d=a(64359),u=a(97019),m=a(99035),p=a(29442),g=a(96401),h=a(26906),f=a(60841),y=a(95059),v=a(71272),x=a(90630),C=a(59764);var b=a(62411),j=a(13505),P=a(3585),I=a(61e3),S=a(42360),L=a(50107),w=a(99802),N=a(82362);const T="iC5KPBY1LYMrQkGPnG8m";var A=a(86070);const R=()=>{const e=(0,b.wA)(),t=(0,w.s)(),{spec:a}=(0,N.r)(S.V,{}),n=(0,r.useCallback)((()=>{e(L.r8.actions.open()),t.logInteraction(a.learnMoreButtonFactory().hitUiReveal())}),[e,t,a]);return(0,A.jsxs)(j.E,{as:"p",semanticColor:"textBase",className:T,children:[(0,A.jsx)(P.p,{size:"small"}),c.Ru.get("home.dsa-message",(0,A.jsx)(I.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:n,children:c.Ru.get("home.dsa-message-link")}))]})};var E=a(98785),k=a(50325),_=a(35117),D=a(12100),M=a(16077),U=a(8903),B=a(90131),O=a(32824),F=a(17807),H=a(42262),V=a(5180);const W=6,G=6,z=e=>{const t="object"==typeof e?.responseIds?e?.responseIds:void 0;return t?.["/home"]?.continuum},$=(0,r.memo)((({shelfCount:e,cardCount:t})=>(0,A.jsxs)("div",{className:s()(V.A.homepageContent,"contentSpacing"),children:[(0,A.jsx)(u.y,{withTitle:!1}),[...new Array(e).keys()].map(((e,a)=>(0,A.jsx)(k.f,{withTitle:!0,cardCount:t},a)))]}))),Y=(0,n.mc)((()=>{(0,B.m)("home");const e=(0,o.NC)(x.MX4),t=(0,M.W)({type:"locale",uri:"home"}),a=(0,o.NC)(x.q4i),{data:n,error:i,loading:u,extensions:b}=(0,_.f)(),j=!(0,U.p)(),P=(0,D.f)().replace("-chip",""),{spec:I}=(0,N.r)(l.Y,{data:{identifier:P?`home/${P}`:"home",uri:"spotify:home",reason:z(b)??""}});(()=>{const e=(0,o.NC)(x.ojr),t=(0,h.vh)(),a=(0,y.c)(),n=(0,f.V)();(0,r.useEffect)((()=>{const r={category:"unauth_home_exposures",action:"unauth_home_page_visit",variant:e,label:"dwp",os:(0,v.f)(),sp_t:(0,C.v8)("sp_t")};a&&n&&t.send((0,g.r)(r))}),[e,a,t,n])})();const S=(0,r.useRef)(null);if((0,p.b)(S),u)return(0,A.jsx)("section",{className:s()(V.A.home,e?V.A.homepageWithCarousels:V.A.homepage),"data-testid":"home-page",children:(0,A.jsx)($,{shelfCount:W,cardCount:G})});if(null!==i)return(0,A.jsx)(m.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")});const L=n?.home;return"HomeResponsePayload"!==L?.__typename?(0,A.jsx)(m.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")}):0===L.sectionContainer.sections.totalCount||0===L.sectionContainer.sections.items.length?((0,O.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,A.jsx)(m.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")})):(0,A.jsxs)(H.r,{spec:I,children:[(0,A.jsx)(d.Q,{children:(0,F.pr)({i18n:c.Ru,shouldLocalize:t})}),(0,A.jsx)("section",{className:s()(V.A.home,e?V.A.homepageWithCarousels:V.A.homepage),"data-testid":"home-page",children:(0,A.jsxs)("div",{className:s()(V.A.homepageContent,"contentSpacing"),ref:S,children:[j&&(0,A.jsx)(R,{}),(0,A.jsx)(E.g,{greeting:L.greeting?.transformedLabel??null,container:L.sectionContainer,enableFeedBaseline:a})]})})]})}),{name:"Home"})},69766:(e,t,a)=>{a.d(t,{Q:()=>Tt});var r=a(30758),n=a(3118),i=a(76481),s=a(55095),o=a(53177),l=a(97500),c=a.n(l),d=a(36625),u=a(36260),m=(a(38077),a(93492)),p=a(40565),g=a(79202),h=a(585),f=a(55669),y=a(56695),v=a(90836);const x="zY64dUtDiPaHVSF0rgiv",C="D95gFpWgTnJhJVmom2RM",b="jD__bD8Dee3zEgB0Axjc",j="J1NxTZftpbEbhXwcZjZO",P="U84UYjEwZ6o7ybM8SVMB";var I=a(86070);const S=({onNotInterested:e,target:t})=>t&&(0,I.jsx)(h.b,{menu:(0,I.jsx)(f.W,{children:(0,I.jsx)(y.D,{className:c()(b,v.A.menuItemButton),role:"menuitem",leadingIcon:(0,I.jsx)(p.P,{semanticColor:"textSubdued",size:"small"}),onClick:e,children:m.Ru.get("promotions.context-menu.not-interested")})}),children:(0,I.jsx)(g.e,{size:g.M.xs,label:m.Ru.get("show_more"),className:j})});var L=a(49567),w=a(58793),N=a(67759);var T=a(85387),A=a(72574);var R=a(72288);const E=({target:e})=>{const[t,a]=(0,R.x)(`home-native-ads-not-interested:${e}`,!1),n=(0,r.useCallback)((()=>{e&&a(!0)}),[a,e]);return{isNotInterested:!!e&&t,handleNotInterested:n}};var k=a(46307);const _=["PLAY","ADD_TO_LIBRARY","NOT_INTERESTED"],D=({nativeAd:e})=>{const{mediaSlot:t,pretitleTranslation:a,target:n,titleTranslation:i}=e.content.data,{AddToLibraryIcon:s,handleAddToLibrary:o,isAddedToLibrary:l}=(({target:e})=>{const[t,a]=(0,N.A)(e),{Icon:n,setState:i}=(0,w.Q)(t?L.t.CURATED:L.t.UNCURATED,L.A);return{AddToLibraryIcon:n,handleAddToLibrary:(0,r.useCallback)((()=>{e&&(i(t?L.t.UNCURATED:L.t.CURATED),a(!t))}),[t,i,a,e]),isAddedToLibrary:t}})({target:n}),{destination:c,handleNavigation:p}=(({target:e})=>{const t=(0,T.Zp)(),a=(0,r.useMemo)((()=>(0,A.o_h)(e)?.toURLPath()??""),[e]),n=(0,r.useCallback)(((e,r)=>{r?.preventDefault(),t(a)}),[a,t]);return{destination:a,handleNavigation:n}})({target:n}),{handleNotInterested:g}=E({target:n}),{handlePlay:h,isPlaying:f}=(({target:e})=>{const{isPlaying:t,togglePlay:a}=(0,k.P)({uri:e},{featureIdentifier:"home_native_ad"});return{handlePlay:()=>{a()},isPlaying:t}})({target:n}),y=(0,r.useMemo)((()=>_.map((e=>({type:e,target:n})))),[n]),v=(0,r.useMemo)((()=>"ImageV2"===t?.image?.data.__typename?t?.image?.data.imageId:void 0),[t]);return(0,I.jsx)(u.M,{actions:y,addToLibraryButtonLabel:m.Ru.get("save_to_your_library"),addToLibraryIcon:s,className:C,contextMenu:(0,I.jsx)(S,{onNotInterested:g,target:n}),href:c,isExternalLinkTargetFn:()=>!1,isInLibrary:l,isPlaying:f,mediaSlotImageFallbackIcon:d.I,mediaSlotImageSrc:v,onAddToLibrary:o,onNavigate:p,onPlay:h,onShare:()=>{},pauseButtonLabel:m.Ru.get("playlist.a11y.pause",i?.transformedLabel||""),playButtonLabel:m.Ru.get("playlist.a11y.play",i?.transformedLabel||""),pretitle:a?.transformedLabel,pretitleSemanticColor:"textSubdued",removeFromLibraryButtonLabel:m.Ru.get("remove_from_your_library"),shareButtonLabel:"",title:i?.transformedLabel})};var M=a(13505),U=a(22915),B=a(73675);const O=({subtitle:e,title:t})=>(0,I.jsx)(B.k,{title:t?.transformedLabel??"",trailing:(0,I.jsxs)("div",{className:P,children:[(0,I.jsx)(M.E,{variant:"bodySmall",semanticColor:"textSubdued",children:e?.transformedLabel??""}),(0,I.jsx)(U.N,{size:"small",semanticColor:"textSubdued"})]})});var F=a(5180);const H=({nativeAd:e,section:t})=>{const{isNotInterested:a}=E({target:e?.content.data.target??""});return!a&&(0,I.jsxs)("section",{className:c()(x,F.A.fixedShelf),"data-shelf-collapsable":!0,children:[(0,I.jsx)(O,{...t.data}),(0,I.jsx)(D,{nativeAd:e})]})},V=(0,o.mc)((({section:e})=>{const t=(0,r.useMemo)((()=>e.sectionItems.items.find((e=>"NativeAdsResponseWrapper"===e.content?.__typename&&"NativeAdsDefaultNative"===e.content.data.__typename))),[e]);return t&&(0,I.jsx)(H,{nativeAd:t,section:e})}),{name:"HomeNativeAdsShelf"});var W=a(14818),G=a(47701),z=a(49263),$=a(26411),Y=a(1648),K=a(32825),Q=a(44397),q=a(82751),Z=a(88176);const J=e=>{switch(e){case Z.r7.Album:return d.I;case Z.r7.Artist:return $.r;case Z.r7.Playlist:return Y.e;case Z.r7.Track:return K.v;case Z.r7.Video:return Q.B;default:return q.d}},X=e=>{const t=(0,A.o_h)(e);if(t)return{href:t.toURLPath(),isExternalTarget:!1};return URL.canParse(e)&&new URL(e).host.includes("open.spotify.com")?{href:e,isExternalTarget:!0}:{href:e,isExternalTarget:!1}};var ee=a(44816),te=a(80687);const ae=(0,r.createContext)({onSetDisliked:()=>{},isDislikedInLocalStorage:!1}),re=({children:e,promotionUri:t})=>{const[a,n]=(0,R.x)(`home-promotion-disliked:${t}`,!1),i=(0,r.useMemo)((()=>({onSetDisliked:()=>n(!0),isDislikedInLocalStorage:a})),[a,n]);return a?null:(0,I.jsx)(ae.Provider,{value:i,children:e})};var ne=a(46106),ie=a(73080),se=a(99802);const oe="vM8M5NM7DIyeDgnEvDwt",le="nMEsN3cKwfOWwnhr6ORE",ce="vvyeNsGyrEOq4WPTy_7i",de=()=>{},ue=e=>"PromotionResponseWrapper"===e.content?.__typename&&"PromotionDefaultNative"===e.content.data.__typename,me=({promotionSectionItem:e,spec:t})=>{const a=(0,se.s)(),n=(0,T.Zp)(),i=e.content.data,s=t.promotionItemFactory({identifier:"default_native",uri:i.target}),{copyUri:o,iconActions:l,libraryUri:c,playUri:d,notInterestedUri:p}=(0,r.useMemo)((()=>(e=>{let t,a,r,n;const i=[];return e.forEach((e=>{e.type!==Z.j3.Navigate&&e.target&&e.type&&(e.type===Z.j3.Play&&(t=e.target),e.type===Z.j3.AddToLibrary&&(a=e.target),e.type===Z.j3.Share&&(r=e.target),e.type===Z.j3.NotInterested&&(n=e.target),i.push({target:e.target,type:e.type}))})),{iconActions:i,notInterestedUri:n,copyUri:r,libraryUri:a,playUri:t}})(i.actions)),[i.actions]),[v,x]=(0,N.A)(c??""),{setState:C,Icon:b}=(0,w.Q)(v?L.t.CURATED:L.t.UNCURATED,L.A),{isPlaying:j,togglePlay:P,isActive:S}=(0,k.P)({uri:d??""},{featureIdentifier:"home_promotion"}),A=d?()=>{const e=(0,ne.$I)({isPlaying:j,isActive:S,spec:s.playButtonFactory({uri:d}),logger:a,uri:d});P({loggingParams:e})}:de,{onCopyLink:R}=(0,ie.L)({sharingInfo:null,uri:o??"",interactionData:{intent:"share",type:"click"}}),{href:E,isExternalTarget:_}=X(i.target),{onNotInterested:D}=(e=>{const{onSetDisliked:t,isDislikedInLocalStorage:a}=(0,r.useContext)(ae),n=(0,te.A)(),[i,s]=(0,r.useState)(a?"INIT":"SUCCESS");return{isMarkedNotInterested:a||"SUCCESS"===i,onNotInterested:(0,r.useCallback)((async()=>{if(s("PENDING"),e)try{await n.build().withHost(ee.L1).withMethod("POST").withPath(`feedback/v1/feedback/home-promotion/dislike?uri=${encodeURIComponent(e)}&reason=local`).withEndpointIdentifier("feedback/v1/feedback/home-promotion/dislike").withoutMarket().send(),t(!0)}catch(e){s("ERROR")}}),[e,n,t])}})(p),M=(0,r.useCallback)((()=>{c&&(C(v?L.t.UNCURATED:L.t.CURATED),v?a.logInteraction(s.saveButtonFactory({uri:c}).hitRemoveLike({itemNoLongerLiked:c})):a.logInteraction(s.saveButtonFactory({uri:c}).hitLike({itemToBeLiked:c})),x(!v))}),[v,c,a,s,C,x]),U=(0,r.useCallback)(((e,t)=>{a.logInteraction(s.hitUiNavigate({destination:i.target})),_||(t.preventDefault(),n(E))}),[s,a,i.target,E,_,n]),B=(0,r.useCallback)((()=>{o&&(a.logInteraction(s.shareButtonFactory({uri:o}).hitCopyToClipboard()),R())}),[s,a,R,o]),O=(0,r.useCallback)((()=>{p&&(a.logInteraction(s.notInterestedButtonFactory({uri:p}).hitDislike({itemToBeDisliked:p})),D())}),[s,a,D,p]),F=(e=>{if(!e||!("__typename"in e)||"ImageV2"!==e.__typename)return;const t=[];return e.sources.forEach((e=>{t.push(`${e.url} ${e.maxWidth}w`)})),{src:e.imageId,srcSet:t.length>0?t.join(", "):void 0}})(i.mediaSlot?.image?.data);return(0,I.jsx)(u.M,{actions:l,addToLibraryButtonLabel:m.Ru.get("save_to_your_library"),addToLibraryIcon:b,body:i.bodyTranslation?.transformedLabel,className:le,contextMenu:p?(0,I.jsx)(h.b,{menu:(0,I.jsx)(f.W,{children:(0,I.jsx)(y.D,{role:"menuitem",leadingIcon:(0,I.jsx)(z.r,{semanticColor:"textSubdued",size:"small"}),onClick:O,children:m.Ru.get("promotions.context-menu.not-interested")})}),children:(0,I.jsx)(g.e,{size:g.M.xs,label:m.Ru.get("show_more"),className:ce})}):null,href:E,isExternalLinkTargetFn:()=>_,isInLibrary:v,isPlaying:j,mediaSlotImageFallbackIcon:J(i.mediaSlot?.fallbackIcon),mediaSlotImageSrc:F?.src,onAddToLibrary:M,onNavigate:U,onPlay:A,onShare:B,pauseButtonLabel:m.Ru.get("playlist.a11y.pause",i.titleTranslation?.transformedLabel||""),playButtonLabel:m.Ru.get("playlist.a11y.play",i.titleTranslation?.transformedLabel||""),pretitle:i.pretitleTranslation?.transformedLabel,pretitleSemanticColor:(e=>{switch(e){case Z.cf.TextAnnouncement:return"textAnnouncement";case Z.cf.TextBrightAccent:return"textBrightAccent";case Z.cf.TextNegative:return"textNegative";case Z.cf.TextPositive:return"textPositive";case Z.cf.TextSubdued:return"textSubdued";case Z.cf.TextWarning:return"textWarning";default:return"textBase"}})(i.pretitleSemanticColor),removeFromLibraryButtonLabel:m.Ru.get("remove_from_your_library"),shareButtonLabel:m.Ru.get("mwp.list.item.share"),subtitle:i.subtitleTranslation?.transformedLabel,title:i.titleTranslation?.transformedLabel})};var pe=a(42262),ge=a(39876),he=a(82362);const fe=(0,o.mc)((({section:e,index:t})=>{const a=e.sectionItems.items.find(ue),{spec:r}=(0,he.r)(W.b,{data:{uri:a?.uri,position:t,identifier:e.uri,reason:""}}),n=r.promotionFactory({uri:a?.uri}),i=a?.content.data.target,s=n.promotionItemFactory({identifier:"default_native",uri:(0,A.o_h)(i)?i:a?.content.data.uri}),o=(0,ge.t)(s);if(!a)return null;const l=(0,G.wA)(e.data.headerEntity,e.data.title??{transformedLabel:m.Ru.get("promotions.default-section-title")},null);return(0,I.jsx)(re,{promotionUri:a.content.data.uri,children:(0,I.jsx)(pe.r,{spec:r,children:(0,I.jsxs)("section",{ref:o,className:c()(oe,F.A.fixedShelf),"data-shelf-collapsable":!0,children:[(0,I.jsx)(B.k,{...l}),(0,I.jsx)(me,{promotionSectionItem:a,spec:n})]})})})}),{name:"HomePromotionShelf"});var ye=a(61e3),ve=a(81878),xe=a(14259),Ce=a(51955),be=a(89913),je=a(34314),Pe=a(12367),Ie=a(56463);const Se="JYoTSXH6KEr_MIwisdZi",Le=({title:e,pretitle:t,body:a,uri:n,images:i,spec:s})=>{const o=(0,se.s)(),l=(0,T.Zp)(),[c,d]=(0,N.A)(n||""),{isPlaying:p,togglePlay:g,isActive:h}=(0,k.P)({uri:n},{featureIdentifier:"album"}),{onCopyLink:f}=(0,ie.L)({sharingInfo:null,uri:n,interactionData:{intent:"share",type:"click",itemIdSuffix:"album/share"}}),y=(0,r.useCallback)((()=>{const e=(0,ne.$I)({isPlaying:p,isActive:h,spec:s.playButtonFactory(),logger:o,uri:n});g({loggingParams:e})}),[s,h,p,o,g,n]),{href:v,isExternalTarget:x}=X(n),C=(0,r.useCallback)(((e,t)=>{o.logInteraction(s.hitUiNavigate({destination:n})),x||(t.preventDefault(),l(v))}),[s,o,n,v,x,l]),{setState:b,Icon:j}=(0,w.Q)(c?L.t.CURATED:L.t.UNCURATED,L.A),P=(0,r.useCallback)((()=>{b(c?L.t.UNCURATED:L.t.CURATED),o.logInteraction(c?s.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:n}):s.saveButtonFactory().hitLike({itemToBeLiked:n})),d(!c)}),[b,c,o,s,n,d]),S=(0,r.useCallback)((()=>{o.logInteraction(s.shareButtonFactory().hitCopyToClipboard()),f()}),[s,o,f]),A=(0,ge.t)(s);return(0,I.jsx)("div",{ref:A,children:(0,I.jsx)(u.M,{title:e,href:v,pretitle:t,body:a,isExternalLinkTargetFn:()=>!1,actions:[{target:n,type:"PLAY"},{target:n,type:"ADD_TO_LIBRARY"},{target:n,type:"SHARE"}],onPlay:y,onAddToLibrary:P,onShare:S,isPlaying:p,isInLibrary:c,onNavigate:C,mediaSlotImageSrc:i[0]?.url,playButtonLabel:m.Ru.get("playlist.a11y.play",e),pauseButtonLabel:m.Ru.get("playlist.a11y.pause",e),addToLibraryButtonLabel:m.Ru.get("save_to_your_library"),removeFromLibraryButtonLabel:m.Ru.get("remove_from_your_library"),shareButtonLabel:m.Ru.get("mwp.list.item.share"),className:Se,addToLibraryIcon:j})})};var we=a(2036);const Ne=({name:e,uri:t,images:a,artists:r,spec:n,type:i})=>(0,I.jsx)(Pe.h,{menu:(0,I.jsx)(Ie.h,{uri:t,artistUri:r?.[0]?.uri}),children:(0,I.jsx)(Le,{title:e,pretitle:`${(0,we.C)(i)} â€¢ ${r.map((e=>e.name)).join(m.Ru.getSeparator())}`,uri:t,images:a,spec:n})});var Te=a(26630);const Ae=({name:e,uri:t,images:a,description:r,spec:n})=>(0,I.jsx)(Pe.h,{menu:(0,I.jsx)(Te.W,{uri:t}),children:(0,I.jsx)(Le,{title:e,pretitle:m.Ru.get("playlist"),body:r,uri:t,images:a,spec:n})});var Re=a(53858),Ee=a(52596);const ke="ixncPYxvXKu9liUB7s4j",_e="Qhy0EgG4oltMwIF_10L6",De=(0,o.mc)((({section:e})=>{const{spec:t,logger:a}=(0,he.r)(Ce.j,{data:{identifier:e.uri,uri:e.uri}}),n=(0,G.wA)(e.data.headerEntity,e.data.title,e.data.subtitle),i=e.sectionItems.items.map(((e,a)=>((e,t)=>{if((0,je.vd)(e.content)){const a=e.content.data,r=(0,G.f0)(a);switch(a.__typename){case"Album":return(0,I.jsx)(Ne,{uri:a.uri,name:a.name,images:r,artists:(0,Re.K)(a.artists),type:a.albumType,spec:t});case"Playlist":return(0,I.jsx)(Ae,{uri:a.uri,name:a.name,images:r,spec:t});case"GenericError":case"NotFound":case"Artist":case"DiscoveryFeed":case"RestrictedContent":case"Audiobook":case"Chapter":case"Episode":case"Podcast":case"Track":case"User":return null;default:return(0,Ee.k)(a),null}}return null})(e,t.spotlightCardFactory({position:a,uri:e.uri})))).filter((e=>!!e)),[s,o]=(0,r.useState)(i[0]),[l,d]=(0,r.useState)(0),u=(0,r.useCallback)((()=>{d(l+1),o(i[l+1]),a.logInteraction(t.nextButtonFactory().hitUiReveal())}),[l,a,i,t]),p=(0,r.useCallback)((()=>{d(l-1),o(i[l-1]),a.logInteraction(t.previousButtonFactory().hitUiReveal())}),[l,a,i,t]),g=i.length>1?(0,I.jsxs)("div",{className:_e,children:[(0,I.jsx)(be.Zp,{label:m.Ru.get("carousel.left"),children:(0,I.jsx)(ye.H,{size:"small",iconOnly:ve.g,"aria-label":m.Ru.get("carousel.left"),disabled:0===l,onClick:p})}),(0,I.jsx)(be.Zp,{label:m.Ru.get("carousel.right"),children:(0,I.jsx)(ye.H,{size:"small",iconOnly:xe.V,"aria-label":m.Ru.get("carousel.right"),disabled:l===i.length-1,onClick:u})})]}):null;return i.length<1?null:(0,I.jsx)(pe.r,{spec:t,children:(0,I.jsxs)("section",{className:c()(ke,F.A.fixedShelf),"data-shelf-collapsable":!0,children:[(0,I.jsx)(B.k,{...n,trailing:g,onClickTitle:()=>{n.titleUri&&a.logInteraction(t.shelfHeaderFactory().hitUiNavigate({destination:n.titleUri}))}}),s]})})}),{name:"HomeV2SpotlightShelf"});var Me=a(73966),Ue=a(35393),Be=a(90630),Oe=a(1112),Fe=a(58452),He=a(64640);const Ve=(0,o.mc)((({section:e,index:t})=>{const a=(0,n.NC)(Be.MX4),i=(0,n.NC)(He.BC),s=(0,G.wA)(e.data.headerEntity,e.data.title,"HomeGenericSectionData"===e.data.__typename?e.data.subtitle:null),o="GenreResponseWrapper"===e.data.headerEntity?.__typename&&"Genre"===e.data.headerEntity?.data?.__typename?e.data.headerEntity.data.uri:e.uri,l=(0,r.useMemo)((()=>e.sectionItems.items.map(((e,t)=>(0,je.e0)(e,t,i))).filter((e=>null!==e))),[i,e.sectionItems.items]);return l.length?a?(0,I.jsx)(Me.R,{seeAllUri:o,id:e.uri,className:F.A.homeRegularDensityCarouselShelf,index:t,...s,children:l}):(0,I.jsx)(Oe.x,{config:(0,Fe.s1)(Fe.yV.HOME_REGULAR_DENSITY),children:(0,I.jsx)(Ue.p,{total:e.sectionItems.totalCount,seeAllUri:o,id:e.uri,index:t,...s,children:l})}):null}),{name:"HomeV2GenericShelf"});var We=a(98037),Ge=a(57071);const ze=(0,o.mc)((e=>{const t=(0,n.NC)(Be.MX4),{section:a,index:i}=e,s=(0,r.useMemo)((()=>e.section.sectionItems.items.map(((e,t)=>{if("TrackResponseWrapper"!==e.content.__typename||"Track"!==e.content.data.__typename)return null;const a=e.content.data;return(0,I.jsx)(Ge.O,{title:a.name,trackUri:a.uri,artists:a.artists.items,album:a.albumOfTrack,contentRating:a.contentRating,referrerIdentifier:"home",index:t},a.uri)})).filter((e=>null!==e))),[e.section.sectionItems.items]);return t?(0,I.jsx)(Me.R,{index:i,title:a.data.title?.transformedLabel??"",seeAllUri:a.uri,id:a.uri,className:F.A.homeMusicVideosCarouselShelf,children:s}):(0,I.jsx)(Oe.x,{config:(0,Fe.s1)(Fe.yV.MUSIC_VIDEOS),children:(0,I.jsx)(Ue.p,{index:i,title:a.data.title?.transformedLabel??"",seeAllUri:a.uri,id:a.uri,total:a.sectionItems.totalCount,children:s})})}),{name:"HomeV2MusicVideosShelf"});var $e=a(24335);const Ye=(0,o.mc)((({section:e,index:t})=>{const a=(0,n.NC)(Be.MX4),r=e.data.title?.transformedLabel??m.Ru.get("view.recently-played");return a?(0,I.jsx)($e.RecentlyPlayedHomeCarouselShelf,{title:r,index:t,id:e.uri,className:F.A.homeHighDensityCarouselShelf}):(0,I.jsx)($e.RecentlyPlayedHomeGridShelf,{title:r,index:t,id:e.uri})}),{name:"HomeV2RecentlyPlayedShelf"});var Ke=a(73836),Qe=a(58294),qe=a(83596),Ze=a(18973),Je=a(46444),Xe=a(21956),et=a(46514),tt=a(48450),at=a(95573),rt=a(95717);const nt="mwc_1Zp_E6v9sr0fTnL1",it="sbehppetBlPlPp7TSib7",st="Zg_jTjYYhVRuKwqeO4s3",ot="X3QSU3mxBfBtfhpubU5I",lt="vMptgdkEGfu4daB_6D7U",ct="ZMRUy3XCzjoj3U3v8zNb",dt="CA3jSSFaq_a0kpsSL69X",ut="Fj9nUGnQyCPsnhDKLx7n",mt="knJzYlLp6ylpADL42ohP";function pt(e){return!!(e&&e.fileId&&e.uri)}const gt=({canvas:e,canvasContainerClass:t,onCardLoaded:a})=>pt(e)?(0,I.jsx)(Je.Gg,{className:ut,fileId:e.fileId,canvasUrl:e.url,overridePlatformId:et.Z,playerContainerClass:t,canvasUri:e.uri,playbackType:Je.RT.LoopOnHover,useContainerMouseOverEvents:!0,onLoaded:a}):null,ht=({canvas:e,onCardLoaded:t,className:a})=>{const r=(0,rt.g)(e?.thumbnail?.sources,{desiredSize:300,desiredLabel:"standard"});return(0,I.jsx)(tt._,{className:c()(ct,a),src:r?.url,loading:"lazy",testid:"card-image",fadeIn:!0,onLoad:t,children:(0,I.jsx)(Y.e,{size:"xxlarge",className:dt})})};var ft=function(e){return e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(ft||{});const yt=({uri:e,index:t,canvas:a,discoveryFeedUri:n,uri:i,canvasContainerClass:s,title:o,requestId:l})=>{const{open:d}=(0,Xe.P)(),{spec:u,logger:m}=(0,he.r)(Ze.y,{data:{position:t,uri:e,reason:l??""}}),p=(0,ge.t)(u),g=(0,at.j)(),[h,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(ft.NOT_LOADED),x=()=>{const e=u.hitUiReveal();m.logInteraction(e),d(n,"discovery",i)},C=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=C.current;if(g)return;if(!pt(a))return;const t=()=>{v(ft.LOADING)};return e?.addEventListener("pointerenter",t,{once:!0}),()=>{e?.removeEventListener("pointerenter",t)}}),[a,g]);const b=(0,r.useCallback)((()=>{f(!0)}),[]),j=(0,r.useCallback)((()=>{v(ft.LOADED)}),[]),P=!h,S=y!==ft.LOADED,L=y===ft.LOADING||y===ft.LOADED;return(0,I.jsxs)("div",{className:nt,tabIndex:0,role:"button",onClick:x,ref:C,onKeyDown:e=>{"Enter"===e.key&&x()},children:[(0,I.jsxs)("div",{className:c()(ot,{[lt]:y===ft.LOADING}),ref:p,children:[P&&(0,I.jsx)("div",{className:st}),L&&(0,I.jsx)(gt,{canvas:a,canvasContainerClass:s,onCardLoaded:j}),S&&(0,I.jsx)(ht,{canvas:a,onCardLoaded:b})]}),(0,I.jsx)("div",{className:mt,children:(0,I.jsx)(Qe.Z,{variant:"ballad",lineClamp:2,title:o,dir:"auto",children:o})}),(0,I.jsx)(qe.A,{semanticColor:"textBase",size:"medium",className:it})]})};var vt=a(62187),xt=a(29844);const Ct="a_zIjVculIT6AAmqITi3",bt="Flfusx_bjoqsdTvLD3n9";const jt=({children:e,section:t,index:a})=>{const n=(0,r.useRef)(null),i=(0,r.useRef)(null),{spec:s}=(0,he.r)(vt.f,{data:{position:a,identifier:t.uri,uri:t.uri}});return(0,xt.w)({refOrElement:n,observeOnly:"width",observeOnMount:!0,onResize:()=>{const e=i.current;if(!e)return;const t=e.children[0];if(!t)return;const a=t.getBoundingClientRect().top;for(const t of e.children)t.nodeType===Node.ELEMENT_NODE&&(t.getBoundingClientRect().top>a?t.style.display="none":t.style.display="flex")}}),(0,I.jsx)(pe.r,{spec:s,children:(0,I.jsxs)("section",{className:Ct,ref:n,children:[(0,I.jsx)(B.k,{title:t.data.title?.transformedLabel??"",pageId:t.uri}),(0,I.jsx)("div",{className:bt,ref:i,children:e})]})})},Pt=({children:e,index:t,section:a})=>(0,I.jsx)(Me.R,{id:a.uri,title:a.data.title?.transformedLabel??"",className:F.A.homeWatchFeedCarouselShelf,index:t,withEncoreCards:!0,showSeeAll:!1,children:e}),It=(0,o.mc)((e=>{const t=(0,n.NC)(Be.MX4),a=(0,r.useMemo)((()=>e.section.sectionItems.items.map(((t,a)=>{if("DiscoveryFeedResponseWrapper"===t.content.__typename&&"DiscoveryFeed"===t.content.data.__typename){const r=((e,t,a,r)=>{if("TrackResponseWrapper"!==e.firstItem?.__typename||"Track"!==e.firstItem.data.__typename)return null;const n=e.firstItem.data;return(0,I.jsx)(yt,{index:a,uri:n.uri,discoveryFeedUri:t,canvas:n.canvas,title:e.title??"",canvasContainerClass:`Home_WatchFeed_Canvas_${r}_${a}`},`${n.uri}-${a}`)})(t.content.data,t.uri,a,e.index);if(r)return r}return null})).filter((e=>null!==e))),[e.section.sectionItems.items,e.index]);return a.length?t?(0,I.jsx)(Pt,{...e,children:a}):(0,I.jsx)(jt,{...e,children:a}):null}),{name:"HomeV2WatchFeedShelf"});var St=a(41240);const Lt="DbwXO2cO6bYBhrHpU__Q",wt=(0,o.mc)((({uri:e,shelfTitle:t,title:a,description:r})=>(0,I.jsxs)("section",{className:c()(Lt,F.A.fixedShelf),"data-shelf-collapsable":!0,children:[(0,I.jsx)(B.k,{title:t}),(0,I.jsx)(St.n,{uri:e,title:a,description:r})]})),{name:"HomeYourDJShelf"});var Nt=a(76300);const Tt=(0,r.memo)((({greeting:e,section:t,index:a})=>{const r=function(){const e=(0,Nt._)();return function(t,a){if(!e)return!1;const r=(0,s.M)(t,a).sectionItems.items[0];return"PlaylistResponseWrapper"===r.content.__typename&&"Playlist"===r.content.data.__typename}}(),o=(0,n.NC)(Be.BYw),l=(0,n.NC)(Be.hWV),c=(0,n.NC)(Be.k6b);switch(t.data?.__typename){case"HomeGenericSectionData":return(0,I.jsx)(Ve,{section:(0,s.M)(t,t.data),index:a});case"HomeShortsSectionData":return(0,I.jsx)(Ke.$,{greeting:e,section:(0,s.M)(t,t.data),index:a});case"HomeRecentlyPlayedSectionData":return(0,I.jsx)(Ye,{section:(0,s.M)(t,t.data),index:a});case"HomeGridSectionData":return l?(0,I.jsx)(We.A,{index:a,section:(0,s.M)(t,t.data)}):(0,I.jsx)(Ve,{section:(0,s.M)(t,t.data),index:a});case"HomePromotionSectionData":return(0,I.jsx)(fe,{section:(0,s.M)(t,t.data),index:a});case"HomeSpotlightSectionData":return c?(0,I.jsx)(De,{section:(0,s.M)(t,t.data)}):null;case"HomeNativeAdsSectionData":return(0,I.jsx)(V,{section:(0,s.M)(t,t.data),index:a});case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,s.M)(t,t.data),{data:a,sectionItems:n}=e,i=n.items[0];if(r(t,t.data)&&"PlaylistResponseWrapper"===i.content.__typename&&"Playlist"===i.content.data.__typename){const{data:e}=i.content;return(0,I.jsx)(wt,{uri:e.uri,shelfTitle:a.title?.transformedLabel??"",title:e.name,description:e.description??""})}return null}case"HomeWatchFeedSectionData":if(o){const e=(0,s.M)(t,t.data);return(0,I.jsx)(It,{index:a,section:e})}return null;case"HomeFeatureActivationSectionDataV2":return(0,I.jsx)(i.G,{sectionItems:t.sectionItems.items,uri:t.uri,localStorageKey:t.data.localStorageKey});case"HomeMusicVideosSectionData":return(0,I.jsx)(ze,{section:(0,s.M)(t,t.data),index:a});case"HomeFeedBaselineSectionData":case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,Ee.k)(t.data),null}}))},98785:(e,t,a)=>{a.d(t,{g:()=>Xt});var r=a(30758),n=a(62411),i=a(13505),s=a(57977),o=a(54853),l=a(47060),c=a(90082),d=a(88647),u=a(15752),m=a(36625),p=a(33650),g=a(66521),h=a(16465),f=a(85568),y=a(98674),v=a(3118),x=a(93492),C=a(12032),b=a(97500),j=a.n(b),P=a(85387),I=a(50154),S=a(65717),L=a(72574);var w=a(61e3),N=a(56266);const T={screenLg:"1200px",homeRegularDensityMinWidth:"210px",homeRegularDensityMinWidthSmallScreens:"160px",homeFeedBaselineMinWidth:"380px",homeFeedBaselineMaxWidth:"480px",homeFeedBaselineHalfWidth:"430px",gridContainer:"DgRp3EC01YPhzdK9Imn5",withFiniteRowCount:"ihWXb2VdDvsS3bvPrpJF",uniformRowHeight:"frDxJ3jhWuIFWag59N0Q",card:"Q36ugVAb7krhThyRTmJ_",overlayForCenteredImage:"ky4dHMtg46D0NG1znEYF",overlayForCenteredImageGradient:"kI0KOHhAWcqJTU3NyxGg",overlayForCenteredImageDynamicColors:"qF9rZunA5zsqZCAJ8pKq",overlayTop:"QSkuUiKpZ4MHrdOB83XV",withFooterOverlay:"pobLn0CELRvb4TjnNApn",overlayBottom:"AqLt2Nk3rygv3mAt_6gi",hasFooter:"FuL5IvTt_AoeX2tB_U_Q",header:"XKQRNQAUOAjRwwjuUnRU",headerImage:"EHmWppnjgBNjT9yPUXpw",withHeaderImage:"KwklVh4oNn_BXeDMDHcS",headerContainer:"ZhCb7WHaVm5AdY29Cvaq",titleClamp:"auugTSHlDcy58VCqeLjc",titleLink:"YSflHyCWx4tGL7LrqtLE",audioPreviewContainerText:"lOuOe8nZaKHVgh38HPog",carousel:"t8hK7HwEUiIjAwheYDse",carouselScrollContent:"bXQccTSllyjV42080L0j",carouselScroller:"fTzLARQ0EPCvPmol3wtF",carouselChevrons:"VSAtCKDeRfQH7O1t2eff",fillSpaceAbsolute:"IriswrXFrjhQwRTmrgIf",backgroundInCarousel:"RWVDgIkhym_nHPfxrxEO",canvasInCarousel:"hpHKwaBDciLDmKsUx6A6",currentlyPlayingStatus:"uw7snqn4j_j7v0S1Fpmi",footerPlayContainer:"PHgLQg31p9qeCUcSicCg",audioPreviewContainer:"EBU7aYrd4J_LgPaKmyJA",footerPlayContainerLeft:"lGxecOZ8oBfh2DzjoP0p",footerPlayContainerRight:"Hf9Q0qSpT2RXgmYT6bNE",footer:"OGu88AVNWY3IM3QlZjG0",footerDescription:"bdiJ1G8TQ1rV0_rYDjws",footerDescriptionContent:"FUyKOZGo4cLlF8PSnINm",expandFooterButton:"ZZqy7vcJrfQy4lXxCTB6",playButtonContainer:"qWtIAYA_A_mOQIlxBb02",isListeningToPreview:"R6fpPFFvUR3y3foJIDHD",isPlayingContext:"BdPspy97AcLd4WhT_L2N",transcriptForAudio:"Z_ouIT4D_IDAEK9NFivF",transcriptForVideo:"Xl2pUStmWsam79qkFAe7",audioWave:"hDiIlhxofBNpk5iFSYik",isExpandedFooter:"Icn8TjyVe6vIEWpxmYhl",centeredContainer:"TLbWzWrBDxGsZRv8m6lg",artworkImage:"IpLgaK4Oik13ltWcX5FA",parentArtworkImage:"P0gaJ5S6AlrdulY7vERi",previewHasCompleted:"nlj9PLnUOp6p9CpfeJr3",videoPreview:"mEYwOgcSR3UWyvz0OSVE",videoLoaded:"W_nKYaO8fH_8YLcmEaBR",transcript:"gSDmqCUB7gyRLyDhNVfF",videoPreviewCompleted:"CWroJ7w75YEPvOQ63QIZ",pulsateText:"dPKkgM2ctEg7P_MAUwjA",playing:"je5WMu3WPFt5JRsMVZb_",loading:"fl8QTa21ubkcNPWPywc9",pulsateLoading:"yQiJ5xD8GjZPS_kJYdgf",transcriptText:"S1JkAKIjGrjk74I1YEyb",spoken:"CJoYZ3wN9vIyNxjiMs6q",unspoken:"LF44BrY9AtFsXZOTo2WQ",subtitle:"yb0K_tfQMa762cHBS2LJ",previewHasCompletedContainer:"kraOhQgefWTb4HdrEa2y"};var A=a(86070);const R=e=>{const{isExpandedFooter:t,setIsExpandedFooter:a,children:n}=e,s=(0,r.useRef)(null),o=(0,r.useRef)(null),[l,c]=(0,r.useState)(!1),d=t?x.Ru.get("show_less"):x.Ru.get("show_more"),u=(0,r.useCallback)((e=>{e.stopPropagation(),a((e=>!e))}),[a]);(0,r.useEffect)((()=>{requestAnimationFrame((()=>{o.current&&s.current&&c(o.current.clientHeight>s.current.clientHeight)}))}),[]);const m={"--mask-image":`url(${(0,N.b)("images/mask.png")})`,"--mask-image-rtl":`url(${(0,N.b)("images/mask-rtl.png")})`};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{ref:s,className:T.footerDescription,style:m,children:(0,A.jsx)(i.E,{variant:"bodySmall",className:T.footerDescriptionContent,ref:o,children:n})}),(l||t)&&(0,A.jsx)(w.H,{onClick:u,className:T.expandFooterButton,size:"small",condensedAll:!0,semanticColor:"textBase",tabIndex:0,children:d})]})};var E=a(66917),k=a(31531),_=a(96205),D=a(67759);const M=({uri:e,size:t})=>{const[a,r]=(0,D.A)(e);return(0,A.jsx)(E.M,{size:t,isAdded:a,onClick:()=>{r(!a)},condensed:!0})},U=({uri:e,size:t})=>(0,_.v)(e)?(0,A.jsx)(k.g,{uri:e,size:t}):(0,A.jsx)(M,{uri:e,size:t});var B=a(79202),O=a(15097),F=a(21974),H=a(60347),V=a(10703),W=a(1091),G=a(51496);const z=({uri:e,name:t,togglePreview:a,isListeningToPreview:n,userHasCompletedPreview:s,overture:o,durationMs:l})=>{const c=(0,L.gHQ)(e),[d,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null);d&&n&&u(!1);const g=(0,r.useCallback)((a=>{if(c&&(n||d)){const e=l&&a?(0,G.f)(l-a):(0,G.f)(NaN);return x.Ru.get("preview.remaining-time",{time:e})}const r=t??x.Ru.get("playing"),i=n&&!d;return(0,L.gHQ)(e)?i?r:x.Ru.get("preview.episode"):(0,L._Tv)(e)?i?r:x.Ru.get("preview.album"):(0,L.nuB)(e)?i?r:x.Ru.get("preview.playlist"):i?r:x.Ru.get("preview")}),[c,n,l,d,t,e]),h=(0,r.useCallback)((()=>n?(0,A.jsx)(W.J,{animated:!0}):(0,A.jsx)(O.X,{size:"small"})),[n]);return(0,r.useEffect)((()=>{if(!c)return;if(!o)return;const e=e=>{p(e.data.position)};return o.addListener(V.LW.PROGRESS,e),()=>{o.removeListener(V.LW.PROGRESS,e)}}),[o,c]),s?(0,A.jsx)(F.n,{className:T.audioPreviewContainer,iconOnly:()=>(0,A.jsx)(H.r,{size:"small"}),onClick:e=>{e.stopPropagation(),a()},size:"small"}):(0,A.jsx)(F.n,{className:j()(T.audioPreviewContainer,d?T.loading:null,n?T.playing:null),disabled:d,iconLeading:h,onClick:e=>{e.stopPropagation(),n||u(!0),a()},size:"small",children:(0,A.jsx)(i.E,{variant:"bodySmall",className:T.audioPreviewContainerText,children:g(m)})})},$=e=>{const{isPlayingContext:t}=e;return!t&&e.uri&&e.isPreviewAvailable?(0,A.jsx)(z,{...e}):t?(0,A.jsxs)("div",{className:T.currentlyPlayingStatus,children:[(0,A.jsx)(W.J,{animated:!0}),(0,A.jsx)(i.E,{variant:"bodySmall",semanticColor:"textPositive",children:x.Ru.get("playing")})]}):null};var Y=a(585),K=a(37926);const Q=e=>{const{uri:t,overture:a,isPlayingContext:r,isPreviewAvailable:n,isListeningToPreview:i,togglePreview:s,durationMs:o,currentPreviewItem:l,isAddable:c,isPlayable:d,ariaPlayLabel:u,ariaPauseLabel:m,menu:p,onMoreButtonClick:g,handlePlayButtonClick:h,userHasCompletedPreview:f}=e;return(0,A.jsxs)("div",{className:T.footerPlayContainer,children:[(0,A.jsx)("div",{className:T.footerPlayContainerLeft,children:(0,A.jsx)($,{isPreviewAvailable:n,isPlayingContext:r,isListeningToPreview:i,uri:l?.uri??null,name:l?.name??null,overture:a,durationMs:o,togglePreview:s,userHasCompletedPreview:f})}),(0,A.jsxs)("div",{className:T.footerPlayContainerRight,onClick:e=>{e.stopPropagation()},children:[(0,A.jsx)(Y.b,{menu:p,children:(0,A.jsx)(B.e,{size:"large",label:x.Ru.get("more"),onClick:g})}),c&&(0,A.jsx)(U,{size:"large",uri:t}),d&&(0,A.jsx)("div",{className:T.playButtonContainer,children:(0,A.jsx)(K.R,{isPlaying:r,onClick:h,ariaPlayLabel:u,ariaPauseLabel:m,version:r?K.H.primary:K.H.secondary})})]})]})};var q=a(30848),Z=a(89913),J=a(5119),X=a(86869),ee=a(44475),te=a(58452),ae=a(29844);const re=Number(T.homeFeedBaselineHalfWidth.replace("px",""))||430,ne=({uri:e,text:t,images:a,imageColor:n,renderSubtitle:s,cardRef:o})=>{const l=(0,r.useRef)(null),c=(0,X.K)({ref:l}),[d,u]=(0,r.useState)(32),m=(0,r.useCallback)((()=>{const e=o.current?.clientWidth??te.Pm,a=2*(l.current?.clientWidth??te.Pm),r=e<re?24:32,n=(0,ee.L)(t,r,700);u(n>a?24:32)}),[o,t]);(0,r.useEffect)((()=>{m()}),[m]),(0,ae.w)({refOrElement:o,onResize:m,observeOnly:"width",observeOnMount:!1});const p={"--title-line-clamp":2,"--title-font-size":`${d}px`,"--title-font-size-small":(32===d?24:20)+"px"};return(0,A.jsxs)("header",{className:T.header,style:p,children:[(0,A.jsx)("div",{className:T.headerImage,children:(0,A.jsx)(q.M,{images:a,color:n,is1DCardHeader:!0})}),(0,A.jsxs)("div",{className:T.headerContainer,children:[(0,A.jsx)(J.N,{to:e,className:T.titleLink,children:(0,A.jsx)(Z.Zp,{label:t,disabled:!c,children:(0,A.jsx)(i.E,{as:"span",variant:"titleSmall",semanticColor:"textBase",ref:l,className:T.titleClamp,children:t})})}),s?(0,A.jsx)(i.E,{as:"span",variant:"bodySmall",semanticColor:"textSubdued",className:j()(T.subtitle),children:s()}):null]})]})};var ie=a(8260),se=a(73638);const oe=e=>{const{carouselLayout:t,withFooterOverlay:a}=e,{dynamicColors:r}=(0,se.q)(),n={"--background-base-high-contrast":r?.highContrast.backgroundBase.toCSS(ie.a.RGBA)||"","--higher-contrast-text-base-color":r?.higherContrast.textBase.toCSS(ie.a.RGBA)||""};return t?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{"aria-hidden":!0,className:T.overlayTop}),(0,A.jsx)("div",{"aria-hidden":!0,className:j()({[T.withFooterOverlay]:a,[T.overlayBottom]:!a})})]}):(0,A.jsx)("div",{"aria-hidden":!0,style:n,className:j()(T.overlayForCenteredImage,T.overlayForCenteredImageDynamicColors)})};var le=a(75773),ce=a(25558),de=a(68031),ue=a(90630),me=a(57818),pe=a(46307);var ge=a(42372),he=a(6963);const fe=32,ye=[0,6e3];const ve=1e3/60,xe=({analyser:e,forceAlwaysInView:t,playing:a})=>{const n=(0,v.NC)(ue.eZG),i=(0,r.useRef)(null),s=(0,r.useRef)(null),o=(0,ge.SF)(),{ref:l,inView:c}=(0,le.Wx)({root:o.current,initialInView:!1}),d=(0,r.useRef)(new Uint8Array(fe)),[u]=(0,r.useState)((()=>function(e){const t=new Uint8Array(e),a=new Array(e).fill(80),r=Array.from({length:e},(()=>100*Math.random()+80));return()=>{for(let n=0;n<e;n++)a[n]=a[n]+.4*(r[n]-a[n]),t[n]=Math.round(a[n]),Math.abs(a[n]-r[n])<1&&(r[n]=100*Math.random()+80);return t}}(fe))),[m,p]=(0,r.useState)(a);(0,r.useEffect)((()=>{if(!a){const e=setTimeout((()=>p(!1)),500);return()=>clearTimeout(e)}return p(!0),()=>{}}),[a]);const g=m&&(c||t)&&n!==ue.UiV.OFF,h=(0,r.useCallback)((()=>{if(!i.current)return;const t=i.current?.getContext("2d");if(!i.current||!t)return;const a=i.current.width/window.devicePixelRatio,r=i.current.height/window.devicePixelRatio;let s=null;if(n===ue.UiV.REAL){if(e){const t=new Uint8Array(e.frequencyBinCount);e.getByteFrequencyData(t),s=function(e,t){const a=44100/e.length,r=Math.floor(ye[0]/a),n=Math.ceil(ye[1]/a),i=e.slice(r,n),s=new Uint8Array(fe);for(let e=0;e<fe;e++){const a=i[Math.floor(e/fe*i.length)]??0;t[e]=.6*t[e]+.4*a,s[e]=t[e]}return s}(t,d.current)}}else n===ue.UiV.RAND&&(s=u());s&&function(e,t,a,r){const n=t/2,i=a/2;e.clearRect(0,0,t,a),e.fillStyle="rgba(255, 255, 255, 35%)";for(let t=0;t<fe;t++){const a=Math.max(0,Math.min(255,r[t]??0))*(i/255),s=n+-192+12*t-1.5;e.beginPath(),e.roundRect(s,i-a,3,2*a,1.5),e.fill()}}(t,a,r,s)}),[e,n,u]),f=(0,r.useCallback)((()=>{if(!i.current?.parentElement)return;const{offsetWidth:e,offsetHeight:t}=i.current.parentElement,a=window.devicePixelRatio||1;i.current.width=e*a,i.current.height=t*a,i.current.style.width=`${e}px`,i.current.style.height=`${t}px`;const r=i.current.getContext("2d");r?.scale(a,a)}),[]);return(0,ae.w)({onResize:(0,he.s)(f)(200),refOrElement:s}),(0,r.useEffect)((()=>{if(!g)return()=>{};let e,t=null;const a=r=>{(null===t||(t?r-t:0)>=ve)&&(h(),t=r),e=requestAnimationFrame(a)};return e=requestAnimationFrame(a),()=>{e&&cancelAnimationFrame(e)}}),[h,g]),(0,A.jsx)("div",{"aria-hidden":!0,ref:s,style:{width:"100%",height:"100%"},children:(0,A.jsx)("canvas",{style:{width:"100%",height:"100%"},ref:e=>{l(e),i.current=e,f()}})})};var Ce=a(555);const be=({onClick:e})=>(0,A.jsx)("div",{className:T.previewHasCompletedContainer,children:(0,A.jsx)(Ce.$,{size:"large",onClick:t=>{t.stopPropagation(),t.preventDefault(),e()},colorSet:"invertedLight",children:x.Ru.get("preview.continue-playing")})}),je=1500,Pe=e=>1e3*parseFloat(e.replace("s","")),Ie=({line:e,positionMs:t,playing:a})=>{const[n,s]=(0,r.useState)(0);(0,r.useEffect)((()=>{s(0)}),[t]);const o=a;(0,r.useEffect)((()=>{let e;return()=>{e&&cancelAnimationFrame(e)}}),[o]);const l=t+n;return(0,A.jsx)("div",{className:T.transcriptText,children:e.map((({word:e,start:t},a)=>(0,A.jsx)(i.E,{variant:"bodyMediumBold",className:l>=t?T.spoken:T.unspoken,children:e},a)))})},Se=({data:e,url:t,overture:a,shiftTranscriptByOffsetFromURL:n})=>{const[i,s]=(0,r.useState)(0),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),u=(0,r.useMemo)((()=>(e=>{const t=new URL(e).searchParams.get("offsets.start");return t?Pe(t):0})(t)),[t]);(0,r.useEffect)((()=>{if(!a)return;const e=e=>{const t=e.data.position+(n?u:0);s(t)},t=()=>{l(!0),c||d(!0)},r=()=>{l(!1)};return a.on(V.LW.PROGRESS,e),a.on(V.LW.PLAYING,t),a.on(V.LW.PAUSED,r),()=>{a.removeListener(V.LW.PROGRESS,e),a.removeListener(V.LW.PLAYING,t),a.removeListener(V.LW.PAUSED,r)}}),[n,u,a,c]);const m=((e,t)=>{const a=(0,r.useMemo)((()=>Math.floor(t/je)*je),[t]);return(0,r.useMemo)((()=>{const t=[];for(let r=0;r<e.length;r++){const n=e[r],i=Pe(n.offsets.start);if(i>=a&&i<a+je){const e=Pe(n.offsets.end);t.push({word:`${n.word} `,start:i,end:e})}if(i>=a+je)break}return t}),[e,a])})(e.words,i);return c&&m.length?(0,A.jsx)(Ie,{line:m,positionMs:i,playing:o}):null};var Le=a(46710),we=a(49593),Ne=a(49810);const Te=(e,t=!0)=>{const{data:a,error:r}=(0,Le.I)({queryKey:["transcript",e],gcTime:15*Ne.i,staleTime:15*Ne.i,queryFn:async()=>{if(!e)return null;const t=await(async e=>we.n.getInstance().build().fromURL(e).withoutMarket().withoutAuthorization().send())(e);return"words"in t.body?t.body:null},enabled:t});return{data:a??null,error:r}},Ae=e=>{const{hasAudioWave:t,analyser:a,userHasCompletedPreview:r,handleContinuePlayingButtonClick:n,overture:i,previewState:s,parentImages:o,images:l,imageColor:c,handleCardClick:d,entityUrl:u,transcriptUrl:m,shiftTranscriptByOffsetFromURL:p}=e,g=(0,v.NC)(ue.eSY),{data:h}=Te(m,g),f=o&&o.length>0&&l?.[0]?.url!==o?.[0]?.url;return(0,A.jsxs)(J.N,{tabIndex:-1,onClick:d,to:u,className:T.centeredContainer,children:[(0,A.jsxs)("div",{"aria-hidden":!0,className:j()(T.artworkImage,{[T.previewHasCompleted]:r}),children:[t?(0,A.jsx)("div",{className:T.audioWave,children:(0,A.jsx)(xe,{analyser:a,playing:s.playing})}):null,(0,A.jsx)(q.M,{images:l,color:c,desiredSize:180*window.devicePixelRatio}),f&&(0,A.jsx)("div",{className:T.parentArtworkImage,children:(0,A.jsx)(q.M,{images:o,color:c,desiredSize:80*window.devicePixelRatio})})]}),g&&h&&m&&(0,A.jsx)("div",{className:j()(T.transcript,T.transcriptForAudio),children:(0,A.jsx)(Se,{url:m,data:h,overture:i,shiftTranscriptByOffsetFromURL:p})}),r?(0,A.jsx)(be,{onClick:n}):null]})};var Re=a(46444),Ee=a(95573);const ke=({item:e,cardRef:t,playerContainerClass:a,isListening:r,overridePlatformId:n})=>{const i=(0,Ee.j)();return!e?.canvas?.fileId||i?(0,A.jsx)("div",{className:T.backgroundInCarousel,style:{backgroundColor:e.background?.color??"transparent"},children:e.background?.imageUrl&&(0,A.jsx)("img",{alt:"",src:e.background.imageUrl})}):(0,A.jsx)(Re.Gg,{className:T.canvasInCarousel,fileId:e.canvas.fileId,canvasType:e.canvas.type,canvasUri:e.canvas.uri,canvasUrl:e.canvas.url,canvasThumbnailUrl:e.canvas.thumbnailUrl,playbackType:r?Re.RT.Loop:Re.RT.LoopOnHover,playerContainerClass:`${a}_${e.canvas.fileId}`,mouseHoverRef:t,overridePlatformId:n,loadingStrategy:"lazy"})};var _e=a(42746);const De=e=>{const{previewItems:t,currentPreviewItemIndex:a,setCurrentPreviewItemIndex:n,playPreview:i,isListeningToPreview:s,playerContainerClass:o,cardRef:l}=e,c=(0,r.useCallback)((e=>{if(!t)return;if(a===e)return;const r=t[e];r&&(n(e),s&&i(r))}),[a,s,i,t,n]);return(0,A.jsx)(_e.FN,{wheelScrollEnabled:!1,scrollingMethod:_e.Hv.SNAP,scrollSnapAlign:"center",className:j()(T.carousel,T.fillSpaceAbsolute),scrollContentClassName:T.carouselScrollContent,scrollerClassName:T.carouselScroller,chevronsClassName:T.carouselChevrons,showButtons:_e.C_.ON_HOVER,edgeGradients:_e.TB.NONE,onScroll:c,children:t.map(((e,t)=>(0,A.jsx)(ke,{item:e,playerContainerClass:o,cardRef:l,isListening:s,overridePlatformId:"desktop-home-1d-card-canvas"},`${e.uri}_${t}`)))})};var Me=a(72545);const Ue=({uri:e,fileId:t,poster:a,overridePlatformId:n,playerContainerClass:i,className:s,startOffsetMs:o,endOffsetMs:l,children:c})=>{const{registerURI:d,unregisterURI:u}=(0,Me.J)(),m=(0,r.useMemo)((()=>({videoPlayerContainer:`.${i}`})),[i]),p=(0,de.H)(m,void 0,void 0,void 0,n);(0,r.useEffect)((()=>(d(e,{uri:e,overture:p}),()=>{u(e)})),[e,d,u,p]);const g=(0,r.useRef)(null);return(0,r.useEffect)((()=>{if(!t)return;const r=()=>{g.current&&g.current.classList.add(T.videoLoaded)};return p.addListener(V.LW.FIRST_BYTES,r),p.playTracks([(0,V.a2)({mediaType:"video",format:"MANIFEST_ID",fileId:t,uri:e,poster:a??"",options:{position:o},logData:{playbackId:(0,me.E)()}})],{paused:!0,loop:!1,muted:!0}),()=>{p.removeListener(V.LW.FIRST_BYTES,r)}}),[e,p,t,a,o,l]),(0,A.jsxs)("div",{ref:g,className:j()(i,s),children:[a&&(0,A.jsx)("img",{"data-poster":!0,src:a,alt:""}),c]})},Be=e=>{const{userHasCompletedPreview:t,handleContinuePlayingButtonClick:a,overture:r,transcriptUrl:n,uri:i,playerContainerClass:s,handleCardClick:o,entityUrl:l,startOffsetMs:c,endOffsetMs:d,fileId:u,poster:m,shiftTranscriptByOffsetFromURL:p}=e,g=(0,v.NC)(ue.eSY),{data:h}=Te(n,g);return(0,A.jsxs)(J.N,{tabIndex:-1,onClick:o,to:l,className:T.centeredContainer,children:[(0,A.jsx)(Ue,{uri:i,fileId:u,startOffsetMs:c??0,endOffsetMs:d??0,className:j()(T.videoPreview,{[T.videoPreviewCompleted]:t}),playerContainerClass:`${s}_Video`,overridePlatformId:"desktop-home-1d-card-video",poster:m,children:g&&h&&n&&(0,A.jsx)("div",{className:j()(T.transcript,T.transcriptForVideo),children:(0,A.jsx)(Se,{url:n,data:h,overture:r,shiftTranscriptByOffsetFromURL:p})})}),t?(0,A.jsx)(be,{onClick:a}):null]})},Oe=({currentPreviewItem:e,uri:t,hasAudioWave:a,playerContainerClass:n,loop:i})=>{const[s,o]=(0,r.useState)({playing:!1,muted:!0,completed:!1,duration:0}),l={uri:t,currentPreviewItem:e,previewState:s,setPreviewState:o,hasAudioWave:a,playerContainerClass:n,loop:i,enabled:!0},c=(({uri:e,currentPreviewItem:t,setPreviewState:a,previewState:n,enabled:i})=>{const{isPlaying:s}=(0,pe.P)({uri:e},{featureIdentifier:"home"}),o=(0,ce.c)(),l=(0,Me.J)(),c=l.getStateForURI(e)?.overture??null,d=t?.video,u=(0,v.NC)(ue.x8),m=Boolean(d?.fileId),p=i&&u&&m,[g,h]=(0,r.useState)(null),f=p&&null===g,y=d?.startOffsetMs??0,x=d?.endOffsetMs??0,C=d?.transcriptUrl??null,b=Boolean(n&&n.playing&&!n.muted),j=Boolean(n&&n.completed&&!s),P=(0,r.useCallback)((async()=>{c&&((await c.getState()).playbackState.playing?c.setMuted(!n.muted):(c.setVolume(o.currentPlayerVolume),c.setMuted(!1),c.resume()))}),[c,n.muted,o.currentPlayerVolume]),I=(0,r.useCallback)((()=>{}),[]),S=(0,r.useCallback)((()=>{c&&c.pause().catch((()=>{}))}),[c]),L=(0,r.useCallback)((async()=>{f&&c&&(b||j||(c.setMuted(!0),c.resume()))}),[f,c,b,j]),w=(0,r.useCallback)((()=>{f&&c&&(b||j||c.pause().catch((()=>{})))}),[f,c,b,j]);return(0,r.useEffect)((()=>{if(!p)return;if(!c)return;const e=e=>{h(e.data.error)};return c.addListener(V.LW.ERROR,e),()=>{c.removeListener(V.LW.ERROR,e)}})),(0,r.useEffect)((()=>{if(!f)return;if(!c)return;const e=e=>{e.data.position>=x&&(c.seek(y),c.pause(),a((e=>({...e,completed:!0}))))};return c.addListener(V.LW.PROGRESS,e),()=>{c.removeListener(V.LW.PROGRESS,e)}}),[f,c,a,x,y]),{durationMs:x,isListeningToPreview:b,isPreviewAvailable:f,togglePreview:P,pausePreview:S,userHasCompletedPreview:j,playPreview:I,overture:c,transcriptUrl:C,shiftTranscriptByOffsetFromURL:!1,onPointerEnter:L,onPointerLeave:w,analyser:null}})(l),d=(({uri:e,currentPreviewItem:t,previewState:a,hasAudioWave:n,playerContainerClass:i,loop:s,enabled:o})=>{const{isPlaying:l}=(0,pe.P)({uri:e},{featureIdentifier:"home"}),c=(0,ce.c)(),d=Boolean(t?.audio?.url),u=(0,v.NC)(ue.o5i),m=(0,v.NC)(ue.eZG),p=o&&u&&d,g=t?.audio?.transcriptUrl??null,h=(0,r.useMemo)((()=>{if(m!==ue.UiV.REAL)return null;if(!n)return null;const e=new AudioContext({latencyHint:"playback",sampleRate:44100}),t=e.createAnalyser();t.fftSize=256;const a=e.createGain();return{audioContext:e,analyser:t,gainNode:a}}),[m,n]);(0,r.useEffect)((()=>()=>{h&&h.audioContext.close()}),[h]);const f=(0,r.useMemo)((()=>({audioPlayerContainer:`.${i}_Audio`,audioProcessorOptions:{disable:!0},preinitMediaElement:!1,disallowProtectedTracks:!0,enableWithoutEME:!0,createPlayer:()=>{const e=document.createElement("audio");if(h){const{audioContext:t,analyser:a,gainNode:r}=h;e.crossOrigin="anonymous";const n=t.createMediaElementSource(e);n.connect(a),n.connect(r),r.connect(t.destination)}return e}})),[h,i]),[y,x]=(0,r.useState)(!1),C=Boolean(a&&a.playing&&y),b=Boolean(a&&a.completed&&!l),j=(0,r.useCallback)(((e,t)=>{h?(h.gainNode.gain.value=t*t*t,e.setVolume(1)):e.setVolume(t)}),[h]),P=(0,r.useCallback)(((e,t)=>t.playbackState.playing&&y),[y]),I=(0,r.useCallback)((e=>{x(!1),e.pause().catch((()=>{}))}),[x]),S=(0,de.H)(f,I,P,j,"desktop-home-1d-card-audio"),L=(0,r.useCallback)(((e,t)=>{x(t),j(S,e)}),[S,j]),w=(0,r.useCallback)((t=>{const a=t.audio?.url;a&&S.playTracks([(0,V.a2)({noAuth:!0,format:"GENERIC_MEDIA",mediaType:"audio",uri:e,url:a,logData:{playbackId:(0,me.E)()}})],{loop:s,paused:!1,muted:!1})}),[S,e,s]),N=(0,r.useCallback)((async()=>{if(!p)return;if(!t)return;const e=await S.getCurrentState();e.track?.url===t.audio?.url?e.playbackState.playing?y?L(0,!1):L(c.currentPlayerVolume,!0):(L(c.currentPlayerVolume,!0),S.resume()):(L(c.currentPlayerVolume,!0),w(t))}),[p,t,S,L,c.currentPlayerVolume,y,w]),T=(0,r.useCallback)((()=>{I(S)}),[I,S]),A=(0,r.useCallback)((async()=>{if(!p)return;if(!t)return;if(!n)return;if(C||b||l)return;const e=await S.getCurrentState();L(0,!1),e.track?.url===t?.audio?.url?S.resume():w(t)}),[p,t,n,C,b,S,l,L,w]),R=(0,r.useCallback)((()=>{p&&n&&(C||b||(L(0,!1),S.pause().catch((()=>{}))))}),[p,n,C,b,L,S]);return{durationMs:a.duration??0,isPreviewAvailable:p,isListeningToPreview:C,togglePreview:N,playPreview:w,pausePreview:T,overture:S,userHasCompletedPreview:b,transcriptUrl:g,shiftTranscriptByOffsetFromURL:!0,onPointerEnter:A,onPointerLeave:R,analyser:h?.analyser??null}})({...l,enabled:!c.isPreviewAvailable}),u=c.isPreviewAvailable?"video":"audio",m="video"===u?c:d,{isPreviewAvailable:p,overture:g}=m;return(0,r.useEffect)((()=>{if(!p)return;if(!g)return;const e=e=>{o((t=>({...t,duration:e.data.duration})))},t=e=>{o((t=>({...t,muted:e.data.muted})))},a=()=>{o((e=>({...e,playing:!0,completed:!1})))},r=()=>{o((e=>({...e,playing:!1})))},n=()=>{o((e=>({...e,playing:!1,completed:!0})))};return g.on(V.LW.DURATION_CHANGED,e),g.on(V.LW.MUTED_CHANGED,t),g.on(V.LW.PLAYING,a),g.on(V.LW.PAUSED,r),g.on(V.LW.TRACK_ENDED,n),()=>{g.removeListener(V.LW.DURATION_CHANGED,e),g.removeListener(V.LW.MUTED_CHANGED,t),g.removeListener(V.LW.PLAYING,a),g.removeListener(V.LW.PAUSED,r),g.removeListener(V.LW.TRACK_ENDED,n)}}),[g,p]),{...m,type:u,previewState:s}};const Fe=new(a(44947).l)("feedBaselineLookup","query","a950fb7c4ecdcaf2aad2f3ca9ee9c3aa4b9c43c97e1d07d05148c4d355bea7fc",null),He=(e,t)=>(0,Ne.I)(Fe,e,t);var Ve=a(55095),We=a(6583),Ge=a(34314),ze=a(95717);const $e=(0,r.createContext)(new Map);function Ye(e,t){const a=new Map;for(const t of e)a.set(t,null);return t&&t.lookup.forEach((e=>{if("AlbumResponseWrapper"===e.__typename||"PlaylistResponseWrapper"===e.__typename||"EpisodeOrChapterResponseWrapper"===e.__typename)switch(e.data.__typename){case"Album":case"Playlist":{const t=(e.data.previewItems?.items||[]).reduce(((e,t)=>{if("TrackResponseWrapper"!==t.__typename)return e;if("Track"!==t.data.__typename)return e;const a=(0,ze.g)(t.data.albumOfTrack?.coverArt?.sources||[])?.url||null,r=t.data.albumOfTrack?.coverArt?.extractedColors?.colorDark?.hex||null,n=t.data.previews?.audioPreviews.items?.[0];return e.push({name:t.data.name,uri:t.data.uri,canvas:t.data.canvas?{uri:t.data.canvas.uri,type:t.data.canvas.type,fileId:t.data.canvas.fileId,url:t.data.canvas.url,thumbnailUrl:(0,ze.g)(t.data.canvas.thumbnail?.sources)?.url}:null,background:{color:r,imageUrl:a},audio:n?{url:n.url,startOffsetMs:0,endOffsetMs:0,transcriptUrl:null}:null,video:null}),e}),[]);a.set(e._uri,t);break}case"Episode":{const{audioPreview:t,videoPreview:r}=e.data.previewPlayback??{};a.set(e._uri,[{name:e.data.name,uri:e.data.uri,canvas:null,background:null,audio:t?.cdnUrl?{url:t.cdnUrl,startOffsetMs:t.offset?.startTime?.totalMilliseconds??0,endOffsetMs:t.offset?.endTime?.totalMilliseconds??0,transcriptUrl:t.transcriptUrl}:null,video:r?{fileId:r.fileId,thumbnailUrl:"ImageV2"===r.placeholderImage?.data.__typename?(0,ze.g)(r.placeholderImage?.data.sources)?.url??null:null,startOffsetMs:r.offset?.startTime?.totalMilliseconds??0,endOffsetMs:r.offset?.endTime?.totalMilliseconds??0,transcriptUrl:r.transcriptUrl}:null}]);break}}})),a}var Ke=a(14146),Qe=a(53575),qe=a(16077),Ze=a(75657),Je=a(39876),Xe=a(82362),et=a(18374);let tt=function(e){return e.VideoEpisode="VideoEpisode",e.Carousel="Carousel",e.AudioEpisode="AudioEpisode",e}({});const at=({layout:e,onClick:t=()=>{},onPlay:a=()=>{},onContextMenu:n=()=>{},uri:i,headerText:s,renderFooter:o,isPlayable:l,isAddable:c,renderSubtitle:d,className:u,testId:m,ariaPlayLabel:p,ariaPauseLabel:g,index:h,requestId:f,images:y,parentImages:x,color:C,dragMimeType:b,onMoreButtonClick:w,menu:N,audioPreviewInLoop:E,logCardImpressions:k})=>{const _=(0,r.useRef)(null),{previewItems:D,currentPreviewItemIndex:M,setCurrentPreviewItemIndex:U,currentPreviewItem:B}=(e=>{const t=(0,v.NC)(ue.o5i),[a,n]=(0,r.useState)(0),i=(0,r.useContext)($e),s=!i.has(e),{data:o}=He({uris:[e]},{enabled:s}),l=(0,r.useMemo)((()=>{let a=[];return a=i.has(e)?i.get(e)??[]:Ye([e],o).get(e)??[],t?a:a.slice(0,1)}),[o,t,i,e]);return{previewItems:l,currentPreviewItem:l[a]??null,currentPreviewItemIndex:a,setCurrentPreviewItemIndex:n}})(i),{dynamicColors:O}=(0,se.q)(),F=O?.higherContrast.backgroundBase.toCSS(ie.a.RGBA)??C,H=`BigCard_${i.replace("spotify:","").replace(/:/g,"_")}`,{isPlaying:V,isActive:W,togglePlay:G}=(0,pe.P)({uri:i},{featureIdentifier:"home"}),z=e===tt.AudioEpisode,{durationMs:$,isListeningToPreview:Y,togglePreview:K,pausePreview:q,overture:Z,userHasCompletedPreview:J,previewState:X,isPreviewAvailable:ee,playPreview:te,transcriptUrl:ae,shiftTranscriptByOffsetFromURL:re,onPointerEnter:le,onPointerLeave:ce,analyser:de}=Oe({uri:i,currentPreviewItem:B,hasAudioWave:z,loop:E,playerContainerClass:H}),me=(0,P.Zp)(),ge=(0,qe.W)({type:"link",uri:i}),{spec:he,logger:fe,UBIFragment:ye}=(0,Xe.r)(S.y,{data:{uri:i,position:h,reason:f??""}}),ve=(0,Je.t)(he),{draggable:xe,onDragStart:Ce}=(0,Qe.P)({itemUris:[i],itemMimeTypes:b?[b]:[],dragLabelText:s}),be=(0,r.useCallback)((()=>{let e=he.cardPlayButtonFactory().hitPause({itemToBePaused:i});V||(e=W?he.cardPlayButtonFactory().hitResume({itemToBeResumed:i}):he.cardPlayButtonFactory().hitPlay({itemToBePlayed:i}));const t=fe.logInteraction(e);a(i,t)?.preventDefault||(G({loggingParams:t}),q())}),[he,i,V,fe,a,G,W,q]),je=(0,r.useCallback)((()=>{let e=he.cardPlayButtonFactory().hitPause({itemToBePaused:i});V||(e=W?he.cardPlayButtonFactory().hitResume({itemToBeResumed:i}):he.cardPlayButtonFactory().hitPlay({itemToBePlayed:i}));const t=fe.logInteraction(e);a(i,t),G({loggingParams:t})}),[W,V,fe,a,he,G,i]),Pe=(0,r.useCallback)((()=>{const e=he.hitUiNavigate({destination:i});fe.logInteraction(e)}),[fe,he,i]),Ie=(0,r.useCallback)((()=>{t(i),Pe()}),[t,i,Pe]),Se=(0,L.o_h)(i)?.toURLPath(!0)??"",Le=ge?(0,et.hF)(Se):Se,[we,Ne]=(0,r.useState)(!1),Te=e===tt.VideoEpisode||e===tt.Carousel,Re={...(0,Ze.w)({contrast:"higherContrast"}),"--background-color":F||"","--background-base-high-contrast":O?.highContrast.backgroundBase.toCSS(ie.a.RGBA)||"","--higher-contrast-text-base-color":O?.higherContrast.textSubdued.toCSS(ie.a.RGBA)||""};return(0,A.jsx)(ye,{spec:he,children:(0,A.jsx)(Ke.E,{uri:i,trigger:Ke.l.OnMouseDown,children:(0,A.jsxs)(I.a,{variant:"naked",onClick:()=>{Ie(),me(Le)},ref:_,className:j()(T.card,u,"encore-medium-devices-theme",{[T.isPlayingContext]:V,[T.isListeningToPreview]:Y,[T.isExpandedFooter]:we,[T.withHeaderImage]:Te}),style:Re,"data-testid":m,draggable:xe,onDragStart:Ce,onContextMenu:n,onPointerEnter:le,onPointerLeave:ce,children:[(0,A.jsx)("div",{"aria-hidden":!0,"data-uri":i,className:T.fillSpaceAbsolute,ref:k?ve:null}),e===tt.Carousel?(0,A.jsx)(De,{cardRef:_,isListeningToPreview:Y,playPreview:te,playerContainerClass:H,previewItems:D,setCurrentPreviewItemIndex:U,currentPreviewItemIndex:M}):null,(0,A.jsx)(oe,{carouselLayout:e===tt.Carousel,withFooterOverlay:Boolean(o)}),(0,A.jsx)(ne,{uri:i,text:s,images:y,imageColor:F,renderSubtitle:d,cardRef:_}),e===tt.VideoEpisode&&B?.video?(0,A.jsx)(Be,{userHasCompletedPreview:J,handleContinuePlayingButtonClick:je,overture:Z,transcriptUrl:ae,shiftTranscriptByOffsetFromURL:re,uri:i,playerContainerClass:H,handleCardClick:Ie,entityUrl:Le,fileId:B.video.fileId,poster:B.video.thumbnailUrl,startOffsetMs:B.video.startOffsetMs,endOffsetMs:B.video.endOffsetMs}):null,e===tt.AudioEpisode?(0,A.jsx)(Ae,{hasAudioWave:z,analyser:de,userHasCompletedPreview:J,handleContinuePlayingButtonClick:je,overture:Z,playerContainerClass:H,transcriptUrl:ae,shiftTranscriptByOffsetFromURL:re,uri:i,previewState:X,parentImages:x,images:y,imageColor:F,handleCardClick:Ie,entityUrl:Le}):null,(0,A.jsxs)("footer",{className:T.footer,children:[(0,A.jsx)(R,{isExpandedFooter:we,setIsExpandedFooter:Ne,children:o?.()}),(0,A.jsx)(Q,{uri:i,overture:Z,isPreviewAvailable:ee,isPlayingContext:V,isListeningToPreview:Y,durationMs:$,togglePreview:K,userHasCompletedPreview:J,currentPreviewItem:B,isAddable:c,isPlayable:l,ariaPlayLabel:p,ariaPauseLabel:g,onMoreButtonClick:w,handlePlayButtonClick:be,menu:N})]})]})})})};var rt=a(60452),nt=a(12367),it=a(56463),st=a(5928),ot=a(92734),lt=a(26630),ct=a(35393),dt=a(38377),ut=a(47701),mt=a(3568),pt=a(1112),gt=a(28019),ht=a(11002),ft=a(7428),yt=a(19665),vt=a(88176),xt=a(53858),Ct=a(65810),bt=a(51836),jt=a(48268),Pt=a(64640),It=a(72242),St=a(98628),Lt=a(52596),wt=a(53780);const Nt="SsbbQFeJun2Ts_EIktpr",Tt="c9BGAQRNNsdwX3UTMr6I",At="uywGjRMxNHg8g1bYlRCw",Rt="lx7nfGbsUkI_2pC6caw9",Et="xrnpBm515hmJJbcxfudp",kt="zEXW4c9SPtH2KBs6ziag",_t="bAtY2R6yehmYQinDdUo8",Dt="kKlHj6lIKU67CC1irRYP",Mt="dwXI_X_KOCLVx2Ki1h9R",Ut="vK47ZfLVzR4LfUvpNy5z",Bt="CZnhsxKzhvTg17LEWR7Y";function Ot({data:e,index:t,shelfIndex:a}){const r=t,o=(0,ut.f0)(e),l=(0,ut.o8)(e),c=(0,ut.Uk)(e)??null,d=(0,v.NC)(Pt.BC),u=(0,n.wA)(),m=(0,v.NC)(ue.x8);let p;switch(e.__typename){case"Album":p=(0,A.jsx)(it.h,{uri:e.uri});break;case"Audiobook":p=(0,A.jsx)(st.p,{uri:e.uri});break;case"Episode":p=(0,A.jsx)(ot.b,{uri:e.uri});break;case"Playlist":p=(0,A.jsx)(lt.W,{uri:e.uri});break;default:return(0,Lt.k)(e),null}switch(e.__typename){case"Album":return(0,A.jsx)(nt.h,{menu:p,children:(0,A.jsx)(at,{index:t,shelfIndex:a,headerText:e.name,uri:e.uri,images:o,color:c,isPlayable:!0,isAddable:!0,audioPreviewInLoop:!0,layout:tt.Carousel,renderFooter:()=>null,renderSubtitle:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(rt.t,{children:e.albumType===vt._m.Single?x.Ru.get("single"):x.Ru.get("card.tag.album")}),(0,A.jsx)("div",{className:Bt,children:(0,xt.K)(e.artists).map(((e,t)=>[t>0&&x.Ru.getSeparator(),(0,A.jsx)(J.N,{to:e.uri,stopPropagation:!0,children:(0,A.jsx)(i.E,{variant:"bodySmall",className:Dt,children:e.name})},e.uri)]))})]}),menu:p,logCardImpressions:d})},r);case"Audiobook":{const n=(0,Ct.e)(e.accessInfo),l=!!n?()=>(u((0,C._3)(n)),{preventDefault:!0}):void 0;return(0,A.jsx)(se.d,{dynamicColors:(0,ft.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),children:(0,A.jsx)(nt.h,{menu:p,children:(0,A.jsx)(at,{index:t,shelfIndex:a,headerText:e.name,uri:e.uri,images:o,color:c,isAddable:!0,isPlayable:!0,audioPreviewInLoop:!1,layout:tt.AudioEpisode,onPlay:l,renderFooter:()=>{const t=e.rating?.averageRating,a=e.accessInfo?.signifier?.text,r=(e.description||"").replace(/<[^>]*>?/gm,""),n=(0,jt.JO)(e.publishDate),o=n?new Date(n):void 0;return(0,A.jsxs)(A.Fragment,{children:[a&&(0,A.jsx)(i.E,{variant:"bodySmall",as:"div",semanticColor:"textBrightAccent",children:a}),o&&!isNaN(o.getTime())&&(0,A.jsx)(rt.t,{semanticColor:"textBase",className:Ut,children:(0,wt.gD)(o)}),e.audiobookDuration&&!isNaN(e.audiobookDuration.totalMilliseconds)&&(0,A.jsx)(rt.t,{semanticColor:"textBase",className:Ut,children:(0,A.jsx)(ht.d,{durationMs:e.audiobookDuration.totalMilliseconds})}),!0===t?.showAverage&&void 0!==t.average&&(0,A.jsxs)(rt.t,{semanticColor:"textBase",className:Ut,children:[(0,A.jsx)(s.j,{size:"xsmall"}),"Â ",x.Ru.formatNumber(t.average,{maximumFractionDigits:1})]}),(0,A.jsx)("span",{children:(0,A.jsx)(gt.N,{source:r??"",LinkComponent:J.N})})]})},renderSubtitle:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(rt.t,{children:x.Ru.get("card.tag.audiobook")}),(0,A.jsx)("span",{children:e.authors?.[0]?.name})]}),menu:p,logCardImpressions:d})},r)})}case"Episode":{const n=e.mediaTypes?.includes(It.C.Video),s=n&&m;return(0,A.jsx)(se.d,{dynamicColors:(0,ft.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),children:(0,A.jsx)(nt.h,{menu:p,children:(0,A.jsx)(at,{index:t,shelfIndex:a,headerText:e.name,uri:e.uri,images:o,parentImages:l,color:c,isAddable:!0,isPlayable:!0,audioPreviewInLoop:!1,layout:s?tt.VideoEpisode:tt.AudioEpisode,renderSubtitle:()=>(0,A.jsxs)(A.Fragment,{children:[(0,bt.V)(e.contentRating)&&(0,A.jsx)(mt.U,{}),n?(0,A.jsx)(dt.T,{className:Mt}):(0,A.jsx)(rt.t,{children:x.Ru.get("card.tag.episode")}),(0,A.jsx)("div",{className:Bt,children:"Podcast"===e.podcastV2.data.__typename?(0,A.jsx)(J.N,{to:e.podcastV2.data.uri,stopPropagation:!0,children:(0,A.jsx)(i.E,{variant:"bodySmall",className:_t,children:e.podcastV2.data.name})}):""})]}),renderFooter:()=>{const t=(0,jt.JO)(e.releaseDate),a=t?new Date(t):void 0;return(0,A.jsxs)(A.Fragment,{children:[a&&!isNaN(a.getTime())&&(0,A.jsx)(rt.t,{semanticColor:"textBase",className:Ut,children:(0,wt.gD)(a)}),!isNaN(e.duration.totalMilliseconds)&&(0,A.jsx)(rt.t,{semanticColor:"textBase",className:Ut,children:(0,A.jsx)(ht.d,{durationMs:e.duration.totalMilliseconds})}),(0,A.jsx)("span",{children:(0,A.jsx)(gt.N,{source:e.description??"",LinkComponent:J.N})})]})},menu:p,logCardImpressions:d})},r)})}case"Playlist":return(0,A.jsx)(nt.h,{menu:p,children:(0,A.jsx)(at,{index:t,shelfIndex:a,headerText:e.name,uri:e.uri,images:o,color:c,isAddable:!0,audioPreviewInLoop:!0,layout:tt.Carousel,isPlayable:!(0,yt.p)(e?.attributes),renderSubtitle:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(rt.t,{children:x.Ru.get("card.tag.playlist")}),"User"===e.ownerV2.data.__typename&&(0,A.jsx)("div",{className:Bt,children:e.ownerV2.data.name})]}),renderFooter:()=>(0,A.jsx)(gt.N,{source:e.description??"",LinkComponent:J.N,onLinkClick:e=>{e.stopPropagation()}}),menu:p,logCardImpressions:d})},r);default:return(0,Lt.k)(e),null}}const Ft=({icon:e})=>{switch(e){case"trending":return(0,A.jsx)(o.L,{size:"small"});case"briefcase":return(0,A.jsx)(l.o,{size:"small"});case"enhance":return(0,A.jsx)(c.M,{size:"small"});case"headphones":return(0,A.jsx)(d.r,{size:"small"});case"add-to-playlist":return(0,A.jsx)(u.u,{size:"small"});case"album":return(0,A.jsx)(m.I,{size:"small"});case"edit":return(0,A.jsx)(p.G,{size:"small"});case"lab":return(0,A.jsx)(g.X,{size:"small"});case"light-bulb":return(0,A.jsx)(h.N,{size:"small"});case"preview":return(0,A.jsx)(f.W,{size:"small"});case"star":return(0,A.jsx)(y.a,{size:"small"});default:return null}},Ht=({title:e,icon:t})=>(0,A.jsxs)("header",{className:Et,children:[e&&t&&(0,A.jsx)(Ft,{icon:t}),e&&(0,A.jsx)(i.E,{variant:"bodySmall",semanticColor:"textSubdued",className:kt,children:e})]});const Vt=({section:e,index:t})=>{const a=e.items.map(((e,a)=>(({item:e,index:t,shelfIndex:a})=>(0,Ge.vd)(e.content)&&function(e){switch(e.__typename){case"Album":case"Audiobook":case"Episode":case"Playlist":return!0;default:return!1}}(e.content.data)?(0,A.jsx)("div",{className:Tt,children:(0,A.jsx)("div",{className:At,children:(0,A.jsxs)("div",{className:Rt,children:[(0,A.jsx)(Ht,{icon:e.recsplanation?.iconName,title:e.recsplanation.title?.transformedLabel}),(0,A.jsx)(Ot,{data:e.content.data,index:t,shelfIndex:a})]})})},t):null)({item:e,index:a,shelfIndex:t}))).filter(St.P);return 0===a.length?null:(0,A.jsx)(pt.x,{config:(0,te.s1)(te.yV.HOME_FEED_BASELINE),children:(0,A.jsx)(ct.p,{id:e.uri,className:Nt,index:t,total:a.length,rowTruncationMethod:"floor",children:a})})};var Wt=a(69766),Gt=a(57730),zt=a(2169),$t=a(86496),Yt=a(37267);var Kt=a(25776);var Qt=a(32377),qt=a(95059),Zt=a(14341);const Jt=()=>{const e=(t=(0,Qt.J)(),!(0,Kt.w)(navigator.userAgent)&&(1===t.length||1===window.navigation?.entries().length));var t;const a=(0,qt.c)()&&e,[n,i]=(0,r.useState)(a?(()=>{try{const e=window.innerHeight-$t.uC-$t.fO;return Math.ceil(e/zt.Y)}catch(e){return e instanceof Error&&(0,Yt.fE)({metric_type:Gt.MetricTypes.COUNTER,tags:{message:e.message,source:"deriveLimit"},what:"dwp-lazy-shelves-error",value:1}),null}})():null),s=(e=>(0,r.useCallback)((()=>{try{e()}catch(e){e instanceof Error&&(0,Yt.fE)({metric_type:Gt.MetricTypes.COUNTER,tags:{message:e.message,source:"useHandleTrigger"},what:"dwp-lazy-shelves-error",value:1})}}),[e]))((0,r.useCallback)((()=>{n&&i(null)}),[n,i]));return((e,t)=>{(0,Zt.i)((()=>t("scroll")),{disabled:null===e})})(n,s),((e,t)=>{(0,r.useEffect)((()=>{if(null===e)return;const a=setTimeout((()=>t("timeout")),3e3);return()=>{clearTimeout(a)}}),[e,t])})(n,s),n};const Xt=({greeting:e,container:t,enableFeedBaseline:a})=>{const n=(0,r.useMemo)((()=>((e,t)=>{const a=[];let r=[],n=null;const i=e.sections.items.reduce(((e,a)=>{switch(a.data?.__typename){case"HomeFeedBaselineSectionData":if(!t)break;null===n&&(n={uri:`spotify:home:feed-baseline-unified-shelf:${e.length}`,items:[]},e.push({localOverrideTypename:"HomeFeedBaselineUnifiedShelf",localItem:n})),a.sectionItems.items.forEach((e=>{n&&n.items.push({uri:e.uri,content:e.content,recsplanation:a.data})}));break;default:n=null,e.push({localOverrideTypename:!1,item:a})}return e}),[]);return r=function(e){const t=e.sections.items;return t.length>0&&"HomeShortsSectionData"===t[0].data?.__typename}(e)?[i[0],...a,...i.slice(1)]:[...a,...i],r})(t,a)),[t,a]),i=Jt(),s=i?n.slice(0,i):n,o=function(e,t){const a=(0,r.useMemo)((()=>t?e.sections.items.reduce(((e,t)=>("HomeFeedBaselineSectionData"===t.data?.__typename&&(0,Ve.M)(t,t.data).sectionItems.items.forEach((t=>{const{content:a}=t;if((0,Ge.vd)(a)){const{data:t}=a;"GenericError"!==t.__typename&&"NotFound"!==t.__typename&&"RestrictedContent"!==t.__typename&&"DiscoveryFeed"!==t.__typename&&e.push(t.uri)}})),e)),[]):[]),[e,t]),{data:n}=He({uris:a},{enabled:a.length>0,gcTime:We.gO,staleTime:We.jl});return(0,r.useMemo)((()=>Ye(a,n)),[n,a])}(t,a);return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)($e.Provider,{value:o,children:s.map(((t,a)=>"HomeFeedBaselineUnifiedShelf"===t.localOverrideTypename?(0,A.jsx)(Vt,{section:t.localItem,index:a},`${a}-${t.localItem.uri}`):(0,A.jsx)(Wt.Q,{greeting:e,section:t.item,index:a},`${a}-${t.item.uri}`)))})})}},50325:(e,t,a)=>{a.d(t,{f:()=>o});var r=a(30758),n=a(87917),i=a(2522),s=a(86070);const o=(0,r.memo)((({cardCount:e,showAll:t,withTitle:a})=>(0,s.jsx)(i._,{isLoading:!0,withTitle:a,showAll:t??!1,children:[...new Array(e).keys()].map(((e,t)=>(0,s.jsx)(n.u,{isLoading:!0},t)))})))},46106:(e,t,a)=>{a.d(t,{$I:()=>s,Qv:()=>i,R2:()=>n});var r=a(45176);const n=(e,t)=>{const a=e.contextMenuButtonFactory().hitUiReveal();t.logInteraction(a)},i=(e,t,a,n)=>{let i;e===r.NV.ADD?i=t.hitDownload({itemToDownload:n}):e===r.NV.REMOVE?i=t.hitRemoveDownload({itemToRemoveFromDownloads:n}):e===r.NV.NO_PERMISSION&&(i=t.hitUiReveal?.()),i&&a.logInteraction(i)},s=({isPlaying:e,isActive:t,spec:a,logger:r,uri:n})=>{let i;return i=e?a.hitPause({itemToBePaused:n}):t?a.hitResume({itemToBeResumed:n}):a.hitPlay({itemToBePlayed:n}),r.logInteraction(i)}},29442:(e,t,a)=>{a.d(t,{b:()=>s});var r=a(79711),n=a(13867),i=a(29844);const s=e=>{const t=(0,n.W)();(0,i.w)({refOrElement:e,observeOnly:"width",observeOnMount:!0,onResize:()=>{const a=e.current?.querySelectorAll(":scope > [data-shelf='carousel']");if(a?.length)for(const e of a)if(e instanceof HTMLElement){(0,r.X)(e,t)?e.removeAttribute("data-shelf-notatedge"):e.setAttribute("data-shelf-notatedge","true")}}})}},56454:(e,t,a)=>{a.d(t,{v:()=>s});var r=a(71086),n=a(23046),i=a(75784);function s(e){if("string"==typeof e)return(0,r.g)(e);const t=e;return(0,i.v)(t)||(0,n.p)(t)}},31531:(e,t,a)=>{a.d(t,{g:()=>r.g});var r=a(27)},96205:(e,t,a)=>{a.d(t,{v:()=>r.v});var r=a(56454)},35117:(e,t,a)=>{a.d(t,{f:()=>c});var r=a(3118),n=a(52733),i=a(6583),s=a(12100),o=a(90630),l=a(59764);const c=()=>{const e=(0,s.f)(),t=(0,r.NC)(o.wWq),a={timeZone:(0,i.Ff)(),sp_t:(0,l.v8)("sp_t")??"",facet:e,sectionItemsLimit:t??10},c={gcTime:i.gO,staleTime:i.jl};return(0,n.B8)(a,c)}},24335:(e,t,a)=>{a.r(t),a.d(t,{RecentlyPlayedHomeCarouselShelf:()=>_,RecentlyPlayedHomeGridShelf:()=>k,default:()=>D});var r=a(30758),n=a(97500),i=a.n(n),s=a(75635),o=a(3118),l=a(93492),c=a(54916),d=a(60308),u=a(2055),m=a(92907),p=a(74918),g=a(84736),h=a(10893),f=a(73966),y=a(35393),v=a(67047),x=a(33350),C=a(1526),b=a(90630),j=a(1112),P=a(58452),I=a(19665),S=a(27775),L=a(20196);function w(e=!0){const t=(0,L.j)(),[a,n]=(0,r.useState)((()=>t.getContexts()));return(0,r.useEffect)((()=>{if(!e)return;return t.getEvents().addListener(S.m5.UPDATE,(({data:e})=>{n(e)}))}),[t,e]),a}var N=a(52596);const T="wu4hGzXkWRNdY0UX1MJa";var A=a(86070);function R(e){const t=new Set;return e.filter((e=>{if(e.type===S.d2.LIKED_SONGS){if(t.has(e.type))return!1;t.add(e.type)}return!0}))}const E=(e,t,a,r=!1)=>{const n=e.uri;switch(e.type){case S.d2.LIKED_SONGS:return(0,A.jsx)(v.o,{index:t,variant:a},n);case S.d2.YOUR_EPISODES:return(0,A.jsx)(C.e,{index:t,variant:a},n);case S.d2.ALBUM:return(0,A.jsx)(c.a,{index:t,name:e.name,uri:e.uri,images:e.images,artists:e.artists,sharingInfo:null,variant:a,logCardImpressions:r},n);case S.d2.ARTIST:return(0,A.jsx)(d.a,{index:t,name:e.name,uri:e.uri,images:e.images,variant:a,logCardImpressions:r},n);case S.d2.PLAYLIST:return(0,A.jsx)(p.B,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,authorUri:e.owner.uri,isPlayable:!(0,I.p)(e.attributes),variant:a,logCardImpressions:r,leaveTitleVisible:!0},n);case S.d2.SHOW:return(0,A.jsx)(g.o,{index:t,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,variant:a,logCardImpressions:r},n);case S.d2.AUDIOBOOK:return(0,A.jsx)(u.M,{index:t,name:e.name,uri:e.uri,images:e.images,authorName:e.authors?.[0]??"",signifierText:e.signifierText,variant:a,logCardImpressions:r,consumptionCapExplanation:e.consumptionCapExplanation,isPlayable:e.isPlayable},n);case S.d2.TRACK:return(0,A.jsx)(h.w,{index:t,name:e.name,uri:e.uri,images:e.images,is19PlusOnly:e.isMOGEFRestricted,artists:e.artists,album:null,isExplicit:e.isExplicit,sharingInfo:null,variant:a,logCardImpressions:r},n);default:return(0,N.k)(e),null}},k=({title:e,index:t,id:a})=>{const n=w(!0),i=(0,o.NC)(b.BCG),s=(0,o.NC)(b.WAq),l=(0,r.useMemo)((()=>{if(!n)return[];return R(n).map(((e,t)=>E(e,t,s?m._.Compact:m._.Default,i)))}),[n,s,i]);return 0===l.length?null:(0,A.jsx)(j.x,{config:(0,P.s1)(s?P.yV.HOME_HIGH_DENSITY:P.yV.HOME_REGULAR_DENSITY),children:(0,A.jsx)(y.p,{id:a,index:t,total:l.length,seeAllUri:`/genre/${x.r}`,title:e,children:l})})},_=({title:e,className:t,index:a,id:n})=>{const i=w(!0),s=(0,o.NC)(b.BCG),l=(0,r.useMemo)((()=>{if(!i)return[];return R(i).map(((e,t)=>E(e,t,m._.Compact,s)))}),[i,s]);return 0===l.length?null:(0,A.jsx)(f.R,{index:a,id:n,title:e,seeAllUri:`/genre/${x.r}`,className:t,children:l})},D=()=>{const e=w(!0);if(!e)return[];const t=R(e);return null===e?null:(0,A.jsx)("section",{className:i()("contentSpacing",T),children:(0,A.jsx)(y.p,{id:"recently-played",title:l.Ru.get("view.recently-played"),showAll:!0,index:0,rowGap:s.lT,fullPage:!0,children:t.map(((e,t)=>E(e,t,m._.Default)))})})}},46514:(e,t,a)=>{a.d(t,{R:()=>n,Z:()=>r});const r="desktop-home-watch-feed",n="desktop-watch-feed"},76300:(e,t,a)=>{a.d(t,{_:()=>i});var r=a(3118),n=a(90630);const i=()=>(0,r.NC)(n.p5T,{loadingValue:!1})},20196:(e,t,a)=>{a.d(t,{j:()=>i});var r=a(27775),n=a(18308);function i(){return(0,n.N)(r.X6)}},17807:(e,t,a)=>{a.d(t,{L$:()=>l,Q2:()=>c,hV:()=>o,j2:()=>s,pr:()=>u,qc:()=>i,rO:()=>d});var r=a(88176),n=a(2036);const i=({albumArtists:e,albumName:t,albumType:a,shouldLocalize:i,i18n:s})=>{if(!a||!t||!e)return"";const o=a!==r._m.Ep?(e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1))(a):a,l=(0,n.C)(a),c=`${t} - ${o} by ${e} | Spotify`,d=s.get("i18n.meta.album.title",t,l,e);return i?d:c},s=({i18n:e,shouldLocalize:t,artistTitleTagExperimentVariants:a={artistTitleTagSongsVariantEnabled:!1,artistTitleTagSongsAndMoreVariantEnabled:!1,artistTitleTagSongsAndMusicVariantEnabled:!1},artistName:r})=>{if(!r)return"";const{artistTitleTagSongsVariantEnabled:n,artistTitleTagSongsAndMoreVariantEnabled:i,artistTitleTagSongsAndMusicVariantEnabled:s}=a;if(t){if(n)return e.get("i18n.meta.artist.title.artist-songs",r);if(s)return e.get("i18n.meta.artist.title.artist-songs-and-music",r);if(i)return e.get("i18n.meta.artist.title.artist-songs-and-more",r)}return`${r} | Spotify`},o=({showOrAudiobookName:e,type:t})=>e?`${e} | ${t} on Spotify`:"",l=({episodeOrChapterName:e,showOrAudiobookName:t,type:a})=>e&&t?`${e} - ${t} | ${a} on Spotify`:"",c=({playlistName:e,userName:t,isSpotifyOwned:a=!1,spotifyPlaylistTitleTagVariants:r={spotifyPlaylistTitleTagVariant1Enabled:!1,spotifyPlaylistTitleTagVariant2Enabled:!1,spotifyPlaylistTitleTagVariant3Enabled:!1},userPlaylistTitleTagVariants:n={userPlaylistTitleTagVariant1Enabled:!1,userPlaylistTitleTagVariant2Enabled:!1,userPlaylistTitleTagVariant3Enabled:!1},count:i})=>{if(!e||!t)return"";const{spotifyPlaylistTitleTagVariant1Enabled:s,spotifyPlaylistTitleTagVariant2Enabled:o,spotifyPlaylistTitleTagVariant3Enabled:l}=r,{userPlaylistTitleTagVariant1Enabled:c,userPlaylistTitleTagVariant2Enabled:d,userPlaylistTitleTagVariant3Enabled:u}=n;if(i){const r=i>1?"Songs":"Song",n=i>1?"songs":"song";if(a){if(s)return`${e} - ${i} ${r} | Spotify Playlist`;if(o)return`${e} - Top ${i} ${r} | Spotify Playlist`;if(l)return`${e} - ${i} ${r} - playlist by Spotify`}if(c)return`${e} - playlist by ${t} - ${i} ${n} | Spotify`;if(d)return`${e} - ${i} ${n} - playlist by ${t} | Spotify`;if(u)return`${e} - ${i} ${n} | Spotify`}return`${e}${a?"":` - playlist by ${t}`} | ${a?"Spotify Playlist":"Spotify"}`},d=({i18n:e,trackArtistsList:t,trackName:a,shouldLocalize:r,disabled:n=!1})=>{if(!t||!a)return"";let i=`${a} - song and lyrics by ${t} | Spotify`,s=e.get("i18n.meta.track-lyrics.title",a,t);return n&&(i=`${a} - song by ${t} | Spotify`,s=e.get("i18n.meta.track.title",a,t)),r?s:i},u=({i18n:e,shouldLocalize:t})=>{const a=e.get("i18n.meta.home.title");return t?a:"Spotify - Web Player: Music for everyone"}}}]);