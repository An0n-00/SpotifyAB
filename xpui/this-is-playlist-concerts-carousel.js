"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3632],{21996:(e,t,a)=>{a.d(t,{d:()=>r});const r=new(a(44947).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},85782:(e,t,a)=>{a.d(t,{$:()=>r});const r=new(a(44947).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},19469:(e,t,a)=>{a.d(t,{$V:()=>r,Bw:()=>l,Lw:()=>i,V5:()=>u,dR:()=>o,eO:()=>c,m4:()=>m,se:()=>s,w1:()=>d,ys:()=>n});const r=e=>"data"in e&&Object.keys(e.data).length>0,n=e=>"concerts"in(e??{}),s=e=>null!=e,o=e=>"__typename"in e&&"AllEvents"===e.__typename,c=e=>"__typename"in e,i=e=>"__typename"in e,l=e=>!!e&&"sections"in e,d=e=>"__typename"in e,u=e=>Object.keys(e).includes("data"),m=e=>void 0!==e&&Object.keys(e).includes("uri")},20950:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var r=a(30758),n=a(13505),s=a(81878),o=a(14259),c=a(93492),i=a(68692),l=a(21974),d=a(5119),u=a(99802),m=a(39876),h=a(6506),v=a(86070);const f=e=>{const{artistName:t,artistConcertsUri:a,position:r,spec:s}=e,o=(0,u.s)(),i=s.concertsCarouselFactory().allEventsCardFactory({position:r,uri:a}),f=(0,m.t)(i);return(0,v.jsx)("section",{ref:f,children:(0,v.jsx)("div",{className:h.A.cards,children:(0,v.jsx)("div",{className:h.A.allEventsCard,children:(0,v.jsxs)("div",{className:h.A.cardContent,children:[(0,v.jsx)(n.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:h.A.subtitle,children:c.Ru.get("concerts_on_tour")}),(0,v.jsx)(n.E,{as:"h1",variant:"bodyMediumBold",className:h.A.title,semanticColor:"textBase",children:t}),(0,v.jsx)(d.N,{to:a,className:h.A.cardLink,onClick:()=>{const e=i.hitUiNavigate({destination:a});o.logInteraction(e)},children:(0,v.jsx)(l.n,{as:"span",size:"small",className:h.A.cardButton,children:c.Ru.get("concerts_see_all_events")})})]})})})})},y=e=>e.artistName&&e.artistConcertsUri?(0,v.jsx)(f,{...e}):null;var b=a(30320),x=a(70257),g=a(21996),j=a(85782),C=a(69249),p=a(26906),N=a(71338);const D=e=>{const{concertUri:t,concertTitle:a,venue:s,imageUrl:o,date:i,spec:l,position:f}=e,{enqueueSnackbar:y}=(0,N.d)(),[D,R]=(0,r.useState)(e.saved),[A,w]=(0,r.useState)(!1),k=(0,C.l4)(i),_=(0,u.s)(),{getGraphQLLoader:B}=(0,p.mv)(),U=B(),I=l.concertsCarouselFactory().concertCardFactory({position:f,uri:t}),S=(0,m.t)(I),F=async()=>{w(!0);const e=I.interestedButtonFactory();if(!A)try{D?(await((e,t)=>e(j.$,{concertUri:t}))(U,t),R(!1),y(c.Ru.get("concerts_removed-from-your-saved-events")),_.logInteraction(e.hitRemoveInterest())):(await((e,t)=>e(g.d,{concertUri:t}))(U,t),R(!D),y(c.Ru.get("concerts_added-to-your-saved-events")),_.logInteraction(e.hitAddInterest()))}finally{w(!1)}};return(0,v.jsx)("section",{ref:S,children:(0,v.jsx)("div",{className:h.A.cards,children:(0,v.jsxs)("div",{className:h.A.tourCard,"data-testid":"on-tour-card",children:[o&&(0,v.jsx)("img",{className:h.A.cardImage,src:o,alt:""}),(0,v.jsx)(d.N,{to:t,className:h.A.eventCard,onClick:()=>{const e=I.hitUiNavigate({destination:t});_.logInteraction(e)},children:(0,v.jsxs)("div",{className:h.A.cardContent,children:[(0,v.jsx)(n.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:h.A.subtitle,children:[(0,C.Y)(k),(0,C.WB)(k)].join(" • ")}),(0,v.jsx)(n.E,{as:"h1",variant:"bodyMediumBold",className:h.A.title,semanticColor:"textBase",children:a}),(0,v.jsx)(n.E,{as:"h3",variant:"bodyMediumBold",semanticColor:"textSubdued",className:h.A.venue,children:s})]})}),(0,v.jsx)("div",{className:h.A.interestedIcon,onClick:F,onKeyPress:F,role:"button",tabIndex:0,children:D?(0,v.jsx)(b.k,{semanticColor:"textBrightAccent"}):(0,v.jsx)(x.P,{semanticColor:"textBase"})})]})})})},R=e=>e.concertTitle&&e.concertUri?(0,v.jsx)(D,{...e}):null,A=e=>{const{liveEvents:t,artistConcertsUri:a,artistName:l,spec:d}=e,m=(0,r.useRef)(null),f=(0,u.s)();return(0,v.jsxs)("div",{className:h.A.concertsCarousel,children:[(0,v.jsx)(n.E,{as:"h1",variant:"bodyMediumBold",semanticColor:"textBase",children:c.Ru.get("concerts")}),(0,v.jsxs)("div",{className:h.A.carouselContent,ref:m,children:[t.map(((e,t)=>(0,v.jsx)("div",{className:h.A.eventCard,children:(0,v.jsx)(R,{concertUri:e.uri,concertTitle:e.title,venue:e.venue,imageUrl:e.imageUrl,date:e.startDate,position:t+1,spec:d,saved:e.saved})},t))),(0,v.jsx)("div",{className:h.A.eventCard,children:(0,v.jsx)(y,{artistConcertsUri:a,artistName:l,spec:d,position:t.length+1})})]}),t.length>0&&(0,v.jsxs)("div",{className:h.A.concertsCarouselControls,children:[(0,v.jsx)(i.a,{size:"sm",onClick:()=>{m.current?.scrollBy({left:-420,behavior:"smooth"});const e=d.concertsCarouselFactory().previousButtonFactory().hitUiReveal();f.logInteraction(e)},icon:s.g,ariaLabel:c.Ru.get("carousel.left"),tabIndex:-1,className:h.A.carouselControlPrev}),(0,v.jsx)(i.a,{size:"sm",onClick:()=>{m.current?.scrollBy({left:420,behavior:"smooth"});const e=d.concertsCarouselFactory().nextButtonFactory().hitUiReveal();f.logInteraction(e)},icon:o.V,ariaLabel:c.Ru.get("carousel.right"),tabIndex:-1,className:h.A.carouselControlNext})]})]})}},69249:(e,t,a)=>{a.d(t,{Fn:()=>m,MW:()=>h,Py:()=>d,VJ:()=>u,Vi:()=>b,WB:()=>v,WZ:()=>f,Y:()=>c,dp:()=>i,l4:()=>o,m7:()=>y,tX:()=>g,tj:()=>l});var r=a(12058),n=a(93492),s=a(19469);const o=e=>new Date(e.substring(0,16)),c=e=>n.Ru.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),i=e=>n.Ru.formatDate(e,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),l=e=>n.Ru.formatDate(e,{month:"short"}),d=e=>n.Ru.formatDate(e,{day:"numeric"}),u=e=>n.Ru.formatDate(e,{weekday:"short"}),m=e=>n.Ru.formatDate(e,{month:"short",day:"numeric"}),h=e=>n.Ru.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"}),v=e=>n.Ru.formatDate(e,{hour:"numeric",minute:"numeric"}),f=(e,t)=>{if(e.toDateString()===t.toDateString())return c(e);if(e.getMonth()===t.getMonth()){return`${n.Ru.formatDate(e,{day:"numeric",month:"short"})}–${n.Ru.formatDate(t,{day:"numeric"})}`}return`${n.Ru.formatDate(e,{day:"numeric",month:"short"})}–${n.Ru.formatDate(t,{day:"numeric",month:"short"})}`},y=e=>{if(!e)return!1;const t=new Date(e);return new Date>t},b=e=>{const[t]=e,a=e[e.length-1];return(0,s.$V)(t)&&(0,s.$V)(a)?{startDate:o(t.data.startDateIsoString),endDate:o(a.data.startDateIsoString)}:{startDate:new Date,endDate:new Date}},x={month:"short",day:"numeric"},g=e=>{if((0,r.r)(e.from,e.to))return n.Ru.formatDate(e.from,x);return`${n.Ru.formatDate(e.from,x).replace(/ /g," ")} - ${n.Ru.formatDate(e.to,x).replace(/ /g," ")}`}},12058:(e,t,a)=>{a.d(t,{r:()=>n});var r=a(10849);function n(e,t){return+(0,r.o)(e)==+(0,r.o)(t)}},10849:(e,t,a)=>{a.d(t,{o:()=>n});var r=a(72849);function n(e){const t=(0,r.a)(e);return t.setHours(0,0,0,0),t}},72849:(e,t,a)=>{function r(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}a.d(t,{a:()=>r})}}]);