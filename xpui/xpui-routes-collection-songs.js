"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8828],{72418:(e,t,a)=>{a.d(t,{M:()=>A,f:()=>R});var l=a(30758),s=a(97500),r=a.n(s),n=a(61e3),i=a(11205),o=a(106),c=a(93492),d=a(80600),u=a(38557),m=a(45176);var g=a(89913),h=a(19554),f=a(95722),p=a(97137),y=a(49753),x=a(48975),b=a(16674),k=a(46440);const C="BKsbV2Xl786X9a09XROH",T="HbKLiGoYM4dpuK8L4TMX",I="VmwiDoU6RpqyzK_n7XRO",S="rEx3EYgBzS8SoY7dmC6x";var w=a(86070);let A=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});const j=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},R=({uri:e,isFollowing:t,onFollow:a,size:s=A.sm,className:R,onClick:v=()=>{},showUpsell:E=!0,canDownload:N=!0,condensedAll:D,condensed:F})=>{const[L,P]=(0,l.useState)(!1),{capability:M,availability:_,addDownload:O}=(0,b.$)(e,N),B=!(0,x.n)(),U=(0,y.V)(),H=(0,k.e)(e);((e,t)=>{const a=(0,d.i)(),s=(0,l.useRef)(!1);(0,l.useEffect)((()=>{e===m.kw.DOWNLOADING&&!1===s.current&&(s.current=!0,a.say(c.Ru.get("download.downloading",t.totalItems)))}),[a,e,t]);const r=(0,u.Z)(e);(0,l.useEffect)((()=>{r===m.kw.DOWNLOADING&&e===m.kw.YES&&(s.current=!1,a.say(c.Ru.get("download.complete")))}),[a,r,e])})(_,H);const $=(0,l.useCallback)((e=>{e.preventDefault(),M===m.vs.NO_PERMISSION?v(e,m.NV.NO_PERMISSION):(!1===t?(a(),P(!0)):O(),v(e,m.NV.ADD)),j(e)}),[O,M,t,v,a]),z=(0,l.useCallback)((t=>{t.preventDefault(),U(e),j(t),v(t,m.NV.REMOVE)}),[e,U,v]);if((0,l.useEffect)((()=>{!0===L&&!0===t&&(O(),P(!1))}),[t,L,O]),_===m.kw.YES)return(0,w.jsx)(g.Zp,{label:c.Ru.get("download.remove"),children:(0,w.jsx)(n.H,{className:R,onClick:z,iconOnly:i.F,semanticColor:"textBrightAccent",size:s,"aria-label":c.Ru.get("download.remove"),"aria-checked":!0,condensedAll:D,condensed:F})});if(M===m.vs.NO_CAPABILITY||M===m.vs.NO_PERMISSION_HIDE)return null;if(M===m.vs.NO_PERMISSION)return E?(0,w.jsx)("div",{className:r()(C,R),children:(0,w.jsx)(p.y,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,w.jsx)(f.z,{children:(0,w.jsx)("span",{children:c.Ru.get("download.upsell")})}),renderInline:!1,children:(0,w.jsx)("div",{children:(0,w.jsx)(g.Zp,{label:c.Ru.get("download.download"),children:(0,w.jsx)(n.H,{onClick:$,iconOnly:o.i,size:s,"aria-label":c.Ru.get("download.download"),"aria-checked":!1,condensedAll:D,condensed:F,disabled:B})})})})}):null;if(_===m.kw.NO)return(0,w.jsx)(g.Zp,{label:c.Ru.get("download.download"),children:(0,w.jsx)(n.H,{className:R,onClick:$,iconOnly:o.i,size:s,"aria-label":c.Ru.get("download.download"),"aria-checked":!1,condensedAll:D,condensed:F,disabled:B})});let V;switch(s){case A.xs:V=16;break;case A.sm:V=24;break;default:V=32}return(0,w.jsxs)("div",{className:r()(I,R),role:"switch","aria-checked":!0,children:[(0,w.jsx)(g.Zp,{label:c.Ru.get("download.cancel"),children:(0,w.jsx)("button",{style:{height:V,width:V},className:r()(T,R),onClick:z,"aria-label":c.Ru.get("download.cancel")})}),(0,w.jsx)("span",{className:r()(S),children:(0,w.jsx)(h.C,{"aria-valuetext":c.Ru.get("progress.downloading-tracks"),percentage:H.percentage,size:V})})]})}},56773:(e,t,a)=>{a.d(t,{s:()=>f});var l=a(30758),s=a(97500),r=a.n(s),n=a(45143),i=a(43683),o=a(42746),c=a(70824);const d="IVnoxrO3iL_tz5ULI8g_";var u=a(86070);const m={marginBlockEnd:0,willChange:"transform, opacity"},g=({filterId:e=null,isPrimaryFilter:t,isPlaceholder:a,resetFilterIds:s,toggleFilterId:i,className:o,innerRef:c,onFilterClick:g,index:h=0,...f})=>{const p=f.selected,y=(0,l.useCallback)((()=>{if(!e)return s(),void g(null,!1,h);g(e,!!p,h),i(e)}),[e,s,i,g,p,h]),x=(0,l.useCallback)((e=>{e.detail>1||a||y()}),[a,y]);return(0,u.jsx)(n.v,{...f,className:r()(o,{[d]:a}),onClick:x,selectedColorSet:"invertedLight",secondary:p&&!t,style:m,ref:c,tabIndex:-1})},h=({filterId:e=null,isPlaceholder:t,resetFilterIds:a,toggleFilterId:s,className:n,innerRef:o,onFilterClick:c,index:g=0,...h})=>{const f=h.selected,p=(0,l.useCallback)((()=>{if(!e)return a(),void c(null,!1,g);c(e,!!f,g),s(e)}),[e,a,s,c,f,g]),y=(0,l.useCallback)((e=>{e.detail>1||t||p()}),[t,p]);return(0,u.jsx)(i.m,{...h,"aria-label":h["aria-label"],className:r()(n,{[d]:t}),onClick:y,style:m,ref:o,tabIndex:-1})},f=(0,l.memo)((function({placeholderFilters:e=[],availableFilters:t,selectedFilters:a,toggleFilterId:s,resetFilterIds:r,onFilterClick:n,ariaLabel:i,clearBtnAriaLabel:d,className:m,applyLightThemeControls:f=!1}){const p=!(a||t),y=p?e:[...a??[],...t??[]],x=(0,l.useRef)(null),b=(0,l.useCallback)((()=>{(0,c.MS)(x.current,x.current?.nextElementSibling instanceof HTMLElement?x.current?.nextElementSibling:null),r()}),[r]);return 0===y.length?null:(0,u.jsxs)(o.FN,{className:m,ariaLabel:i,applyLightThemeControls:f,children:[!!a?.length&&(0,u.jsx)(h,{resetFilterIds:b,toggleFilterId:s,onFilterClick:n,"aria-label":d??i,innerRef:x}),y.map(((e,t)=>{const l=a?.includes(e),i=0===t;return(0,u.jsx)(g,{filterId:e.id,isPrimaryFilter:i,isPlaceholder:p,onFilterClick:n,resetFilterIds:r,toggleFilterId:s,selected:l,index:t,children:e.getName()},e.id)}))]})}))},72869:(e,t,a)=>{a.d(t,{q:()=>c});var l=a(30758),s=a(97500),r=a.n(s),n=a(9880),i=a(38795),o=a(86070);const c=l.memo(l.forwardRef((function({html:e,onTimeStampClick:t,enableTimestamps:a=!1,enableAutomaticLinkification:s=!1,semanticColor:c="textSubdued",className:d,asTextContent:u=!1},m){const g=(0,l.useMemo)((()=>(0,n.v)(e,t,a,c,s,u)),[a,s,e,t,c,u]);return(0,o.jsx)("div",{ref:m,className:r()(i.A.HTMLDescription,d),children:g})})))},9880:(e,t,a)=>{a.d(t,{v:()=>p});var l=a(30758),s=a(6936),r=a.n(s),n=a(13505);const i=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var o=a(5119),c=a(86070);const d=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,u=/^https?:\/\//;function m(e){return"string"==typeof e?(0,c.jsx)(c.Fragment,{children:e.split(d).map(((e,t)=>t%2?(0,c.jsx)(o.N,{to:`${u.test(e)?"":"https://"}${e}`,rel:"nofollow",children:e},t):e))}):e}var g=a(37982),h=a(38795);const f=(e=()=>{},t,a,s)=>{let r=0;const i={_:(e,t,n)=>{const i=void 0===t?e:n;return(0,c.jsx)(l.Fragment,{children:a&&!s?m(i):i},"fragment"+r++)}};if(s)return i;return{...i,p:e=>(0,c.jsx)(n.E,{as:"p",variant:"bodyMedium",semanticColor:t,className:h.A.Paragraph,children:a?m(e.children):e.children}),a:t=>t.href?.startsWith("#t=")?(0,c.jsx)(g.D,{onClick:e,children:t.children}):t.href?(0,c.jsx)(o.N,{to:t.href,rel:t.rel,children:t.children}):(0,c.jsx)(c.Fragment,{children:t.children}),ul:e=>(0,c.jsx)("ul",{className:h.A.List,children:e.children}),ol:e=>(0,c.jsx)("ol",{className:h.A.List,children:e.children}),li:e=>(0,c.jsx)(n.E,{as:"li",variant:"bodyMedium",semanticColor:t,className:h.A.ListItem,children:a?m(e.children):e.children}),br:()=>(0,c.jsx)("br",{}),h1:e=>(0,c.jsx)(n.E,{as:"h1",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h2:e=>(0,c.jsx)(n.E,{as:"h2",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h3:e=>(0,c.jsx)(n.E,{as:"h3",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h4:e=>(0,c.jsx)(n.E,{as:"h4",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h5:e=>(0,c.jsx)(n.E,{as:"h5",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h6:e=>(0,c.jsx)(n.E,{as:"h6",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),time:t=>(0,c.jsx)(g.D,{onClick:e,children:t.children})}},p=(e,t=()=>{},a=!1,l="textSubdued",s=!1,n=!1)=>{const o=a?e.split(i).map((e=>e.match(i)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e)).join(""):e;let c;try{c=r()(o,{transform:f(t,l,s,n),dangerouslySetChildren:[]})}catch{c=e}return c}},3204:(e,t,a)=>{a.d(t,{b:()=>I});var l=a(30758),s=a(93492),r=a(70225),n=a(26687),i=a(464),o=a(13417),c=a(84676),d=a(78281),u=a(24651),m=a(40997),g=a(33279),h=a(71924),f=a(24395),p=a(36663),y=a(99802),x=a(98628),b=a(95717),k=a(86070);const C=new Set(o.gc),T=new Set([]),I=l.memo((function({nrTracks:e,collectionUri:t,initialItems:a,uri:I,sortable:S=!0,scrollToUri:w,usePlayContextItem:A,outerDomRef:j,spec:R,isCompactMode:v=!1,tagFilter:E}){const N=(0,p.f)(),D=(0,l.useRef)(null),{filter:F}=(0,l.useContext)(i.g),L=(0,l.useRef)((()=>{})),[P,M]=(0,l.useState)([]),{sortState:_,setSortState:O}=(0,l.useContext)(o.cL),B=(0,y.s)(),U=(0,c.w)(),H=(0,l.useCallback)(((e,t)=>{e===g.$.ADDED_AT?O({column:g.$.ADDED_AT,order:_.order===g.H.ASC?g.H.DESC:g.H.ASC}):O((0,r.So)(e,_)),R&&B.logInteraction(R.columnHeaderFactory({identifier:e,position:t||0}).hitSort())}),[B,O,_,R]);(0,l.useEffect)((()=>{D.current&&w&&D.current.scrollToItem({uri:w})}),[w]);const $=(0,l.useCallback)((e=>{const t=e.map((e=>e.uri));L.current(),N.remove({uris:t})}),[N]),z=(0,l.useCallback)(((e,t)=>{L.current=t,e.length>1?M(e):$(e)}),[$]),[,V]=(0,d.z)(),X=(0,l.useCallback)((async(e,t)=>{const a=await N.getTracks({offset:e,limit:t,uri:I,sort:(0,h.c)(_),filters:[F??null,E??null].filter(x.P)}),l=a?.totalLength??0;return{items:a?.items??[],totalLength:l}}),[F,E,N,_,I]),K=(0,l.useCallback)(((e,a)=>{const l=(0,b.g)(e.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,k.jsx)(u.W,{index:a,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:[],dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:l?.url||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:A,allowedDropTypes:[],isDisliked:!1,playlistName:s.Ru.get("sidebar.liked_songs"),isOwnedBySelf:!0,isCompactMode:v,hasAssociatedVideo:e.hasAssociatedVideo},a+e.uri)}),[t,A,v]),q=(0,l.useCallback)((e=>({uri:e.uri,uid:e.uri})),[]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.pZ,{value:"liked-songs-tracklist",children:(0,k.jsx)(m.S4,{ariaLabel:s.Ru.get("sidebar.liked_songs"),hasHeaderRow:!0,columns:U,sortableColumns:N.getCapabilities().canSortTracksAndEpisodes&&S?C:T,sortState:_,onSort:H,renderRow:K,resolveItem:q,onRemove:z,nrTracks:e,fetchTracks:X,limit:50,canFetchAllTracks:N.getCapabilities().canFetchAllItems,outerRef:D,outerDomRef:j,tracks:a,onNrValidItemsChange:V,isCompactMode:v,columnPersistenceKey:"liked-songs-tracklist"},t)}),(0,k.jsx)(n.F,{title:s.Ru.get("remove_from_your_liked_songs"),isOpen:P.length>0,tracks:P,onClose:e=>{e.stopPropagation(),M([])},onRemove:$})]})}))},11002:(e,t,a)=>{a.d(t,{d:()=>c});var l=a(97500),s=a.n(l),r=a(2312),n=a(22805);const i="UyzJidwrGk3awngSGIwv";var o=a(86070);const c=({durationMs:e,className:t,displaySeconds:a})=>{const{hours:l,minutes:c,seconds:d}=(0,r.S)(e);return a=!1!==a&&!l&&d,(0,o.jsx)("span",{className:s()(i,t),children:(0,n.j)({h:l,m:c,s:a?d:0})})}},80600:(e,t,a)=>{a.d(t,{i:()=>r});var l=a(30758);class s{constructor(e={}){this.settings={level:e.level||"polite",parent:e.parent||document.body,idPrefix:e.idPrefix||"live-region-",delay:e.delay||0},this.currentRegion=document.createElement("span")}say(e,t=this.settings.delay){this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());const a="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",a),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((()=>{this.currentRegion.textContent=e}),t)}clearNode(){const e=this.settings.parent.querySelector(`[id^="${this.settings.idPrefix}"]`);e&&this.settings.parent.removeChild(e)}}const r=({delay:e,idPrefix:t,level:a,parent:r}={})=>{const n=(0,l.useMemo)((()=>new s({delay:e,idPrefix:t,level:a,parent:r})),[e,t,a,r]);return(0,l.useEffect)((()=>()=>{n.clearNode()}),[n]),n}},71924:(e,t,a)=>{a.d(t,{c:()=>i});var l=a(70225),s=a(21950),r=a(28954);const n={[r.nw.ADDED_AT]:s.Sw.ADDED_AT,[r.nw.ADDED_BY]:null,[r.nw.ALBUM]:s.Sw.ALBUM_NAME,[r.nw.ARTIST]:s.Sw.ARTIST_NAME,[r.nw.DURATION]:null,[r.nw.TITLE]:s.Sw.NAME,[r.nw.SHOW_NAME]:null,[r.nw.PUBLISH_DATE]:null},i=e=>{const t=(0,l.Xt)(e);if(!t)return;const a=n[t.field],s=t.order;return a&&s?{field:a,order:s}:void 0}},53340:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Xe});var l=a(30758),s=a(62411),r=a(85387),n=a(32825),i=a(3118),o=a(72672),c=a(72574),d=a(93492),u=a(64359),m=a(13437),g=a(99035),h=a(464),f=a(13417),p=a(78281),y=a(5537),x=a(33279),b=a(42297),k=a(85277),C=a(72418),T=a(92533),I=a(53185),S=a(71858),w=a(32485),A=a(13706),j=a(79059),R=a(84676),v=a(82362),E=a(7282),N=a(86070);const D=l.memo((({tracklistDomRef:e})=>{const{spec:t,logger:a}=(0,v.r)(w.E,{}),s=(0,l.useCallback)((()=>{a.logInteraction(t.filterFieldFactory().keyStrokeFilter())}),[a,t]),r=(0,l.useCallback)((()=>{a.logInteraction(t.filterFieldFactory().hitClearFilter())}),[a,t]),n=(0,R.w)().filter((({columnType:e})=>f.gc.includes(e))).map((({columnType:e})=>e));return(0,N.jsxs)("div",{className:E.A.searchBoxContainer,children:[(0,N.jsx)(l.Suspense,{fallback:null,children:(0,N.jsx)(A.S,{placeholder:d.Ru.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:e,onFilter:s,onClear:r})}),(0,N.jsx)(j.d,{columns:n})]})}));var F=a(97500),L=a.n(F),P=a(56773),M=a(98929),_=a(46710),O=a(68813),B=a(90630),U=a(9875),H=a(36663),$=a(26239),z=a(72288);const V="liked-songs-tags";function X(){const e=(0,i.NC)(B.cLA),[t,a]=(0,z.x)("liked-songs-current-tag-filter",null);return[e?t:null,a]}var K=a(99802);const q="q_yjkS1y6URH4Xm7gZfw",Z=e=>({id:e.filter,getName:()=>e.name,ubiId:e.name}),G=(0,l.memo)((({spec:e,nrTracks:t})=>{const{tags:a,currentTag:s,setCurrentTag:r}=function({nrTracks:e}){const t=(0,H.f)(),a=(0,M.jE)(),[s,r]=X(),[n,i]=(0,l.useState)([]),{data:o}=(0,_.I)({queryKey:[V],queryFn:()=>t?.getTracksFilterTags(),staleTime:0,gcTime:864e5,placeholderData:O.rX,refetchOnWindowFocus:!1});(0,l.useLayoutEffect)((()=>{const t=o?.find((e=>e.filter===s));if(!t&&s){if(e>0&&o?.length)return;r(null)}i(o??[])}),[s,r,e,o]);const c=(0,l.useCallback)((({data:{list:e}})=>{e===U.Ir.TRACKS&&a.invalidateQueries({queryKey:[V]})}),[a]);(0,$.l)(U.UV.UPDATE,c);const d=(0,l.useMemo)((()=>n.find((e=>e.filter===s))),[s,n]),u=(0,l.useCallback)((e=>{r(e?.filter??null)}),[r]);return{tags:s||e?n:[],currentTag:d,setCurrentTag:u}}({nrTracks:t}),n=(0,K.s)(),i=(0,l.useCallback)(((t,l,s)=>{let i;if(!t)return i=e.clearButtonFactory().hitClearFilter(),void n.logInteraction(i);const o=a.find((({filter:e})=>e===t));if(!o)return;const c=e.filterChipFactory({identifier:o.name,position:s});l?(i=c.hitClearFilter(),r(null)):(i=c.hitFilter(),o&&r(o)),n.logInteraction(i)}),[n,r,e,a]),o=s?[]:a.map(Z),c=s?[Z(s)]:[];return a.length?(0,N.jsx)(k.S,{children:(0,N.jsx)(P.s,{availableFilters:o,selectedFilters:c,toggleFilterId:()=>{},resetFilterIds:()=>r(null),onFilterClick:i,ariaLabel:d.Ru.get("web-player.liked-songs.liked-songs-filter-tags"),clearBtnAriaLabel:d.Ru.get("web-player.liked-songs.clear-filter"),className:L()(q),applyLightThemeControls:!0})}):null}));var W=a(52224),Q=a(15508),Y=a(12200),J=a(96437),ee=a(45176),te=a(28954),ae=a(42262),le=a(64640);const se="ivuDaTbfBpBewwr39aDQ",re=l.memo((function({metadata:e,onClickTogglePlay:t,isPlaying:a,spec:s,logger:r,backgroundColor:n,canSort:o,canFilter:c}){const{uri:u,name:m,totalLength:g}=e,h=(0,l.useRef)(null),f=(0,l.useMemo)((()=>s.actionBarFactory()),[s]),p=(0,l.useMemo)((()=>f.shuffleButtonContainerFactory()),[f]),y=(0,l.useMemo)((()=>f.filtersFactory()),[f]),x=g>0,w=g>0,A=o&&c,j=(0,Y.X)(),R=(0,l.useCallback)(((e,t)=>{const a=f.downloadButtonFactory();t===ee.NV.ADD?r.logInteraction(a.hitDownload({itemToDownload:u})):t===ee.NV.REMOVE?r.logInteraction(a.hitRemoveDownload({itemToRemoveFromDownloads:u})):t===ee.NV.NO_PERMISSION&&r.logInteraction(a.hitUiReveal())}),[f,r,u]),v=(0,J.j)(),E=(0,i.NC)(B.cLA);return(0,N.jsxs)(b.E,{backgroundColor:n,children:[(0,N.jsxs)(k.S,{children:[w?(0,N.jsx)(I.D,{onClick:t,isPlaying:a,size:v,uri:u,ariaPauseLabel:d.Ru.get("playlist.a11y.pause",m),ariaPlayLabel:d.Ru.get("playlist.a11y.play",m)}):null,j&&(0,N.jsx)(ae.r,{spec:p,children:(0,N.jsx)(Q.Y,{entityName:m,contextUri:u,activationPlacement:"bottomEnd",size:v})}),(0,N.jsx)(C.f,{uri:u,canDownload:x,isFollowing:!0,onFollow:()=>{},size:v,onClick:R,condensed:!0}),A?(0,N.jsx)(ae.r,{spec:f,children:(0,N.jsx)(T.u,{property:B.IZ_,renderNewExperience:()=>(0,N.jsx)("div",{className:se,children:(0,N.jsx)(W.d,{sortOptions:[te.nw.TITLE,te.nw.ADDED_AT,te.nw.ARTIST,te.nw.ALBUM,te.nw.DURATION],defaultSortField:te.nw.ADDED_AT,filterPlaceholder:d.Ru.get("playlist.search_in_playlist"),enableViewModeMenu:!0})}),renderOldExperience:()=>(0,N.jsx)(D,{tracklistDomRef:h})})}):(0,N.jsx)("div",{className:se,children:(0,N.jsx)(T.u,{property:le.mA,renderNewExperience:()=>(0,N.jsx)(S.g,{options:[],onSelect:()=>{},selected:null,enableViewModeMenu:!0})})})]}),E&&(0,N.jsx)(G,{spec:y,nrTracks:g})]})}));var ne=a(71924),ie=a(24651),oe=a(40997);var ce=a(53629),de=a(82619);var ue=a(80563),me=a(37723),ge=a(86422),he=a(27653);const fe=({ariaLabel:e,columns:t,columnPersistenceKey:a,renderItem:s,defaultSortField:n})=>{const{playlist:i}=(0,me.g)(),o=(0,he.m)(),{canFetchAllTracks:c}=o.getCapabilities(),d=(0,ue.K)(),u=(0,l.useRef)(null),{isCompactMode:m}=(0,ge.a)(),g="custom-order"===n;(e=>{const t=(0,r.wQ)(),a=(0,r.zy)(),s="POP"!==t?new URLSearchParams(a.search).get("uid"):null;(0,l.useLayoutEffect)((()=>{e.current&&s&&e.current.scrollToItem({uid:s})}),[s,e])})(u);const{trackListSortState:h,onSort:f}=((e,t)=>{const{sortState:a,setSortState:s}=(0,ce.k)(),r=(0,l.useMemo)((()=>(0,de.Ap)(e,a)),[e,a]),n=(0,l.useCallback)((e=>{s((0,de.hK)(e,r,t))}),[t,s,r]);return{trackListSortState:r,onSort:n}})(t,g),p=(0,l.useCallback)((e=>({uri:e.uri,uid:e.uid,type:e.type})),[]),x=(0,l.useMemo)((()=>new Set((0,de.g6)(t))),[t]);return(0,N.jsx)(y.a,{columns:t,children:(0,N.jsx)(oe.g0,{ariaLabel:e,hasHeaderRow:!0,columns:t,sortableColumns:x,sortState:h,onSort:f,renderRow:s,resolveItem:p,itemsCache:d,canFetchAllTracks:c,isCompactMode:m,columnPersistenceKey:a,outerRef:u},i.metadata.uri+m)})};var pe=a(24395),ye=a(65494),xe=a(95717);const be=[x.$.INDEX,x.$.TITLE_AND_ARTIST,x.$.ALBUM,x.$.ADDED_AT,x.$.DURATION],ke=l.memo((function({usePlayContextItem:e}){const{isCompactMode:t}=(0,ge.a)(),a=(({isCompactMode:e=!1})=>{const t=[...be];return e&&t.splice(t.indexOf(x.$.TITLE_AND_ARTIST),1,x.$.TITLE,x.$.ARTIST),t})({isCompactMode:t}),{playlist:{metadata:s}}=(0,me.g)(),r=(0,l.useCallback)(((a,l)=>{if(!(0,ye.Jy)(a))return(0,N.jsx)(N.Fragment,{});const r=(0,xe.g)(a.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,N.jsx)(ie.W,{index:l,contextUri:s.uri,uri:a.uri,isPlayable:a.isPlayable,duration_ms:a.duration.milliseconds,name:a.name,artists:a.artists,albumOrShow:a.album,isExplicit:a.isExplicit,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:a.isLocal,addedBy:[],dateAdded:a.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:a.is19PlusOnly,type:a.type,imgUrl:r?.url||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:e,allowedDropTypes:[],isDisliked:!1,playlistName:d.Ru.get("sidebar.liked_songs"),isOwnedBySelf:!0,isCompactMode:t,hasAssociatedVideo:a.hasAssociatedVideo},l+a.uri)}),[s.uri,e,t]);return(0,N.jsx)(pe.pZ,{value:"liked-songs-tracklist",children:(0,N.jsx)(fe,{ariaLabel:d.Ru.get("sidebar.liked_songs"),columns:a,renderItem:r,columnPersistenceKey:"liked-songs-tracklist",defaultSortField:te.nw.ADDED_AT})})}));var Ce=a(45361),Te=a(98846),Ie=a(46106),Se=a(46307),we=a(27931);const Ae=()=>{const{playlist:{metadata:e},contentsOptions:t}=(0,me.g)(),a=(0,he.m)(),{canSort:s,canFilter:r}=a.getCapabilities(),{uri:i,name:c,totalLength:g}=e,h=(0,Te.z)("#5038a0"),{spec:f,logger:y}=(0,v.r)(o.k,{data:{uri:i}}),x=l.useMemo((()=>f.headerFactory()),[f]),b=l.useMemo((()=>f.tracklistFactory()),[f]),{isPlaying:k,togglePlay:C,usePlayContextItem:T,isActive:I}=(0,Se.P)((0,we.A)(e.uri,t),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),S=()=>{const e=(0,Ie.$I)({isPlaying:k,isActive:I,spec:f.actionBarFactory().playButtonFactory(),logger:y,uri:i});C({loggingParams:e})},[w]=(0,p.z)();return(0,N.jsxs)("section",{role:"presentation","data-testid":"playlist-page",children:[(0,N.jsx)(u.Q,{children:d.Ru.get("playlist.page-title",c)}),(0,N.jsx)(Ce.x,{metadata:{...e,hasSpotifyTracks:!0},totalItems:w,isPlaying:k,togglePlay:S,backgroundColor:h,specLikedSongs:x}),(0,N.jsx)(re,{metadata:e,onClickTogglePlay:S,isPlaying:k,spec:f,logger:y,backgroundColor:h,canSort:s,canFilter:r}),(0,N.jsx)("div",{className:"contentSpacing",children:g>0?(0,N.jsx)(ae.r,{spec:b,children:(0,N.jsx)(ke,{usePlayContextItem:T})}):(0,N.jsx)(m.p,{message:d.Ru.get("collection.empty-page.songs-subtitle"),title:d.Ru.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:d.Ru.get("collection.empty-page.songs-cta"),renderInline:!0,children:(0,N.jsx)(n.v,{"aria-hidden":"true"})})})]})};var je=a(3204),Re=a(88308),ve=a(52514),Ee=a(31404);var Ne=a(9254),De=a(98962),Fe=a(79101),Le=a(42035),Pe=a(98628),Me=a(16514),_e=a(39182),Oe=a(46019);function Be(e,t){if(void 0===t||0===t.length)return;const a=function(e){return e.map((e=>{const{field:t,operator:a,value:l}=e;if(t!==Le.Hh.TEXT&&t!==Le.Hh.TAGS||a!==Le.tl.CONTAINS)throw new Error("Invalid filter params!");return`${Ue[t]} ${He[a]} "${l}"`})).join(",")}(t),l=(0,Oe.t)(t);e.url=`context://${e.uri}?filter=${encodeURIComponent(l)}`,e.metadata=e.metadata??{},e.metadata[_e.W.FILTERING_PREDICATE]=a,e.metadata[_e.W.LIST_UTIL_FILTER]=l}const Ue={[Le.Hh.TEXT]:"text",[Le.Hh.TAGS]:"tags"},He={[Le.tl.CONTAINS]:"=^#"};const $e=[x.$.INDEX,x.$.TITLE_AND_ARTIST,x.$.ALBUM,x.$.ADDED_AT,x.$.DURATION],ze=({data:e,canFilter:t,canSort:a})=>{const{uri:s,name:i,totalLength:c}=e.metadata,b=(0,l.useRef)(null),k=(0,Te.z)("#5038a0"),[C]=X(),{filter:T}=(0,l.useContext)(h.g),{sortState:I,setSortState:S}=(0,l.useContext)(f.cL),{spec:w,logger:A}=(0,v.r)(o.k,{data:{uri:s}}),j=l.useMemo((()=>w.headerFactory()),[w]),R=l.useMemo((()=>w.tracklistFactory()),[w]);(0,l.useEffect)((()=>{null===I.column&&S({column:x.$.ADDED_AT,order:x.H.DESC})}),[I,S]);const E=(0,r.wQ)(),D=(0,r.zy)(),F="POP"!==E?new URLSearchParams(D.search).get("uri"):null,{isPlaying:L,togglePlay:P,usePlayContextItem:M,isActive:_}=(0,Se.P)(function(e,t,a){const l={uri:e};return(0,Me.q)(l,t),Be(l,a?.map((e=>(0,Le.HI)(e)??null)).filter(Pe.P)),l}(s,(0,ne.c)(I),[T,C].filter(Pe.P)),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),O=()=>{const e=(0,Ie.$I)({isPlaying:L,isActive:_,spec:w.actionBarFactory().playButtonFactory(),logger:A,uri:s});P({loggingParams:e})},[B]=(0,p.z)(),{isCompactMode:U}=(0,ge.a)(),H=(({isCompactMode:e=!1})=>{const t=[...$e];return e&&t.splice(t.indexOf(x.$.TITLE_AND_ARTIST),1,x.$.TITLE,x.$.ARTIST),t})({isCompactMode:U});return(0,N.jsx)(y.a,{columns:H,children:(0,N.jsxs)("section",{role:"presentation","data-testid":"playlist-page",children:[(0,N.jsx)(u.Q,{children:d.Ru.get("playlist.page-title",i)}),(0,N.jsx)(Ce.x,{metadata:{...e.metadata,hasSpotifyTracks:!0},totalItems:B,isPlaying:L,togglePlay:O,backgroundColor:k,specLikedSongs:j}),(0,N.jsx)(re,{metadata:e.metadata,onClickTogglePlay:O,isPlaying:L,spec:w,logger:A,backgroundColor:k,canSort:a,canFilter:t}),(0,N.jsx)("div",{className:"contentSpacing",children:c>0?(0,N.jsx)(l.Suspense,{fallback:(0,N.jsx)(g.LoadingPage,{hasError:!1,errorMessage:d.Ru.get("error.request-collection-tracks-failure")}),children:(0,N.jsx)(ae.r,{spec:R,children:(0,N.jsx)(je.b,{nrTracks:c,collectionUri:s,scrollToUri:F,usePlayContextItem:M,outerDomRef:b,spec:R,initialItems:e.contents.items,isCompactMode:U,tagFilter:C})})}):(0,N.jsx)(m.p,{message:d.Ru.get("collection.empty-page.songs-subtitle"),title:d.Ru.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:d.Ru.get("collection.empty-page.songs-cta"),renderInline:!0,children:(0,N.jsx)(n.v,{"aria-hidden":"true"})})})]})})},Ve=l.memo((function({user:e,uri:t}){const{filter:a}=(0,l.useContext)(h.g),{sortState:s}=(0,l.useContext)(f.cL),[r]=X(),n=function(e,t,a){const s=(0,H.f)(),r=(0,M.jE)(),n=(0,Re.U0)((()=>["useLikedSongs",e,a]),[e,a]),{data:i}=(0,_.I)({queryKey:n(),queryFn:()=>s.getTracks(a),gcTime:18e5,placeholderData:O.rX,refetchOnWindowFocus:!1}),o=(0,l.useCallback)((()=>{r.invalidateQueries({queryKey:n()})}),[r,n]);(0,$.l)(U.UV.UPDATE,o);const c=(0,ve.$R)(t.id);return c&&i?{metadata:{uri:e,name:c.name,images:c.images,totalLength:i?.totalLength,unfilteredTotalLength:i.unfilteredTotalLength,owner:(0,Ee.w)(t)},contents:i}:null}(t,e,{offset:0,limit:25,sort:(0,ne.c)(s),filters:[a,r].filter(Pe.P)}),i=(0,H.f)().getCapabilities();return n?(0,N.jsx)(ze,{data:n,canFilter:i.canFilterTracksAndEpisodes&&n.metadata.unfilteredTotalLength>0,canSort:i.canSortTracksAndEpisodes&&n.metadata.unfilteredTotalLength>0}):(0,N.jsx)(g.LoadingPage,{hasError:!1,errorMessage:d.Ru.get("error.not_found.title.playlist"),loadOffline:i.canModifyOffline})})),Xe=()=>{const{user:e}=(0,s.d4)(De.Ht);if((0,i.NC)(B.IZ_,{loadingValue:!1}))return(0,N.jsx)(Ne.W,{uri:Fe.DK,children:(0,N.jsx)(Ae,{})});if(null===e)return null;const t=(0,c.fHB)(e.id).toURI();return(0,N.jsx)(f.sn,{uri:t,children:(0,N.jsx)(h.s,{uri:t,children:(0,N.jsx)(p.S,{children:(0,N.jsx)(Ve,{uri:t,user:e})})})})}},38557:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(30758);function s(e){const t=(0,l.useRef)();return(0,l.useEffect)((()=>{t.current=e}),[e]),t.current}},38795:(e,t,a)=>{a.d(t,{A:()=>l});const l={Heading:"QD13ZfPiO5otS0PU89wG",HTMLDescription:"xgmjVLxjqfcXK5BV_XyN",List:"ZbLneLRe2x_OBOYZMX3M",ListItem:"rjdQaIDkSgcGmxkdI2vU",Paragraph:"umouqjSkMUbvF4I_Xz6r"}}}]);