"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7790],{89264:(e,i,t)=>{t.d(i,{l:()=>d});var a=t(97500),s=t.n(a);const n="JWYoNAyrIIdW30u4PSGE",l="es9mguuOfkp6pBe1Bjlw",r="JCFCfOY_6UEZZSOO2xrl",o="Js64TOfWtHksI6TQ6knT",c="n8tsDTs8wDH73kejYfXs";var u=t(86070);const d=({value:e,disabled:i,onSelected:t,id:a,className:d,condensed:m=!1,inputRef:x})=>(0,u.jsxs)("label",{className:s()(n,d),children:[(0,u.jsx)("input",{id:a,className:c,type:"checkbox",disabled:i,checked:e,onChange:e=>{const i=e.target.checked;t(i)},ref:x}),(0,u.jsx)("span",{className:s()(o,{[r]:m}),children:(0,u.jsx)("span",{className:s()(l,{[r]:m})})})]})},76422:(e,i,t)=>{t.d(i,{$:()=>g});var a=t(30758),s=t(97500),n=t.n(s),l=t(40638),r=t(78245),o=t(56116),c=t(1091),u=t(22232),d=t(99802),m=t(80104),x=t(86070);const g=a.forwardRef((function({className:e="",children:i,onClick:t,isPlaying:a,isActive:s,isLocked:g=!1,playAriaLabel:h,uri:p,spec:y,playingIndicator:b=(0,x.jsx)(c.J,{className:m.A.playingIcon,animated:!0})},j){const C=(0,o.W)(),v=(0,d.s)(),N=(0,l.YQ)((e=>{const{currentTarget:i,detail:n}=e;let l;if(e.stopPropagation(),n>0&&i&&i.blur(),C({intent:a?"pause":"play",type:"click"}),y&&!g){const e=y.playbackButtonFactory();let i;i=s&&a?e.hitPause({itemToBePaused:p}):s&&!a?e.hitResume({itemToBeResumed:p}):e.hitPlay({itemToBePlayed:p}),l=v.logInteraction(i)}else y&&v.logInteraction(y.playbackButtonFactory().hitShowPaywall({paywalledItem:p}));t(e,l)}),u.d,{leading:!0,trailing:!1});return(0,x.jsxs)("div",{className:n()(m.A.rowMarker,e),children:[a?b:i,(0,x.jsx)(r.x,{className:m.A.rowPlayPauseButton,iconClassName:m.A.rowPlayPauseIcon,onClick:N,isPlaying:a,isLocked:g,playAriaLabel:h,ref:j})]})}))},37502:(e,i,t)=>{t.d(i,{a:()=>l});var a=t(13505),s=t(80104),n=t(86070);const l=({children:e})=>e?"number"==typeof e?(0,n.jsx)(a.E,{variant:"bodyMedium",className:s.A.number,children:e}):(0,n.jsx)("span",{className:s.A.icon,children:e}):null},98253:(e,i,t)=>{t.d(i,{p:()=>y});var a=t(30758),s=t(97500),n=t.n(s),l=t(13505),r=t(75635),o=t(61e3),c=t(555),u=t(93492),d=t(71353);const m="jAjrv_00X1qyxaEHmJCb",x="YVnLJCNcdaEeIGBQYqJS",g="pxocyhWhrvAeBiSlfjbd",h="aOt09fJWpST6CG8xfHuo";var p=t(86070);const y=a.memo((function({onClose:e,onConfirm:i,isOpen:t,itemCount:s}){const y=(0,a.useCallback)((t=>{i(),e(t)}),[i,e]),b=u.Ru.get("queue.confirm-title",s);return(0,p.jsx)(d.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:b,isOpen:t,children:(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",className:x,children:b}),(0,p.jsx)(l.E,{as:"p",variant:"bodySmall",className:g,paddingBottom:r.lT,children:u.Ru.get("queue.confirm-message")}),(0,p.jsxs)("div",{className:n()("encore-light-theme",h),children:[(0,p.jsx)(o.H,{onClick:e,children:u.Ru.get("queue.cancel-button")}),(0,p.jsx)(c.$,{onClick:y,children:u.Ru.get("queue.confirm-button")})]})]})})}))},71812:(e,i,t)=>{t.d(i,{K:()=>p});var a=t(30758),s=t(97500),n=t.n(s),l=t(345),r=t(13505),o=t(555),c=t(93492),u=t(5119),d=t(20951),m=t(98370),x=t(57957),g=t(86070);const h={[d.E.SMALL]:0,[d.E.MEDIUM]:480},p=()=>{const e=(0,a.useRef)(null),{breakpoint:i}=(0,m.c)(h,e);return(0,g.jsxs)("div",{className:n()(x.A.emptyContainer,i!==d.E.SMALL&&x.A.large),ref:e,children:[(0,g.jsx)(l.j,{size:i===d.E.SMALL?"large":"xlarge","aria-hidden":"true",className:x.A.icon}),(0,g.jsxs)("div",{className:x.A.titleContainer,children:[(0,g.jsx)(r.E,{as:"h1",variant:i===d.E.SMALL?"bodyMediumBold":"titleSmall",semanticColor:"textBase",children:c.Ru.get("queue.empty-title")}),(0,g.jsx)(r.E,{as:"p",variant:i===d.E.SMALL?"bodySmall":"bodyMedium",children:c.Ru.get("queue.empty-description")})]}),(0,g.jsx)(u.N,{to:"/search",children:(0,g.jsx)(o.$,{colorSet:"invertedLight",size:i===d.E.SMALL?"small":"medium",children:c.Ru.get("queue.fine-something")})})]})}},93794:(e,i,t)=>{t.d(i,{g:()=>g});var a=t(30758),s=t(97500),n=t.n(s),l=t(13505),r=t(93492),o=t(32284);const c="w0kwPDoelauN3C9dVoVe",u="xzLZD9uD3b4u9wecXAJY",d="DaFhhSm73r7rNpomErhI";var m=t(86070);const x=({children:e})=>(0,m.jsx)(m.Fragment,{children:e}),g=(0,a.forwardRef)((function({users:e,maxSlots:i=3,size:t,withoutOverflowBadge:a=!1,dropShadow:s=!1,AvatarWrapper:g=x},h){const p=Math.max(2,i),y=e.length>p?e.length-p+1:0,b=e.slice(0,p),{userIconSize:j,width:C,smallFontSize:v,largeFontSize:N}=(e=>{switch(e){case"xxlarge":return{userIconSize:"xlarge",width:64,smallFontSize:24,largeFontSize:32};case"xlarge":return{userIconSize:"large",width:48,smallFontSize:18,largeFontSize:24};case"large":return{userIconSize:"medium",width:32,smallFontSize:12,largeFontSize:16};case"medium":default:return{userIconSize:"small",width:24,smallFontSize:9,largeFontSize:12};case"small":return{userIconSize:"xsmall",width:18,smallFontSize:8,largeFontSize:10}}})(t),k=y>9?v:N,f=(0,m.jsx)("span",{className:n()(u,"encore-inverted-light-set"),style:{width:C,height:C},role:"presentation",children:(0,m.jsx)(l.E,{variant:"bodySmallBold",style:{fontSize:k},semanticColor:"textBase",children:`+${y}`})});return(0,m.jsx)("div",{className:n()(c),ref:h,children:b.map(((e,i)=>!a&&y>0&&i===p-1?(0,m.jsx)(g,{index:i,children:(0,m.jsx)(o.e,{images:[],userIconSize:j,label:r.Ru.get("web-player.social-connect.facepile.and-others",y),width:C,piled:!0,customPlaceholder:f})},"others"):(0,m.jsx)(g,{index:i,user:e,children:(0,m.jsx)(o.e,{images:e.images,userIconSize:j,label:e.displayName,displayName:e.displayName,username:e.username,width:C,piled:i>0,imageClassName:s?d:void 0})},e.displayName)))})}))},81152:(e,i,t)=>{t.d(i,{O:()=>c});var a=t(30758),s=t(85813),n=t(82050),l=t(28445),r=t(82362),o=t(86070);const c=()=>{const{spec:e,logger:i,UBIFragment:t}=(0,r.r)(s.J,{}),{uri:c}=(0,l.f)(),u=(0,a.useCallback)(((t,a)=>{const s=e.inviteButtonFactory().hitShare({entityToBeShared:t,shareId:a});i.logInteraction(s)}),[i,e]),d=(0,a.useCallback)((()=>{const t=e.endButtonFactory().hitUiReveal();i.logInteraction(t)}),[i,e]),m=(0,a.useCallback)((()=>{const t=e.leaveButtonFactory().hitUiReveal();i.logInteraction(t)}),[i,e]),x=(0,a.useCallback)((()=>{const t=e.facepileButtonFactory().hitUiNavigate({destination:n.S.PARTICIPANTS_PAGE});i.logInteraction(t)}),[i,e]),g=(0,a.useCallback)((i=>(0,o.jsx)(t,{spec:e,...i})),[t,e]);return{logInviteClick:u,logEndClick:d,logLeaveClick:m,logFacePileClick:x,logStartJam:(0,a.useCallback)((()=>{const t=e.createJamButtonFactory().hitUiNavigate({destination:c??""});i.logInteraction(t)}),[i,e,c]),UBIFragmentWithSpec:g}}},81109:(e,i,t)=>{t.d(i,{Z:()=>Y});var a=t(38167),s=t(30758),n=t(62411),l=t(13505),r=t(3118),o=t(93492),c=t(89264),u=t(97500),d=t.n(u),m=t(33242),x=t(50154),g=t(61e3),h=t(27508),p=t(555),y=t(3644);const b="_GA0LJ6qjoKBsWLq34XF",j="s_iKX8Su0w1W5b9yObSm",C="aQ5ntWUtU9bcqS9fS9aC",v="SxLR9RMcR2XyJCZuxYqv",N="vtk1i3JMLWObMppMQ0gH",k="x8qh9EgeC3AdLO0C54Og",f="Dm9gGjGoA7yNxClwSV24",S="MPtthrsnd9PdsCTssJqk";var A=t(86070);const I=({onClose:e,onCopyLink:i,inviteUrlQR:t})=>(0,A.jsxs)(x.a,{className:b,padding:"0",children:[(0,A.jsxs)("div",{className:j,children:[(0,A.jsxs)("div",{className:v,children:[(0,A.jsx)(l.E,{variant:"bodySmallBold",children:o.Ru.get("web-player.social-connect.invitation.qr-code.title")}),(0,A.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:o.Ru.get("web-player.social-connect.invitation.qr-code.description")})]}),(0,A.jsx)(g.H,{semanticColor:"textSubdued",iconOnly:h.M,size:"small",onClick:e,condensedAll:!0,"aria-label":o.Ru.get("web-player.social-connect.invitation-modal.button-tertiary")})]}),(0,A.jsx)("div",{className:N}),(0,A.jsxs)("div",{className:d()(j,C,k),children:[(0,A.jsx)(p.$,{iconLeading:y._,colorSet:"invertedLight",size:"small",onClick:i,className:f,children:o.Ru.get("web-player.social-connect.invitation-modal.button-primary")}),(0,A.jsx)("div",{className:S,children:(0,A.jsx)(m.Ay,{value:t,size:100})})]})]});var E=t(21974),w=t(12032),R=t(90843);const P=({onClick:e})=>{const i=(0,n.wA)(),t=(0,s.useCallback)((()=>{e(),i((0,w.A9)(R.EL.END_SESSION))}),[i,e]);return(0,A.jsx)(E.n,{size:"small",onClick:t,children:o.Ru.get("web-player.social-connect.end-session.end-session-button")})},U=({onClick:e})=>(0,A.jsx)(E.n,{size:"small",onClick:async i=>{e(i)},children:o.Ru.get("web-player.social-connect.invite-button")}),L=({onClick:e})=>{const i=(0,n.wA)(),t=(0,s.useCallback)((()=>{e(),i((0,w.A9)(R.EL.LEAVE_SESSION))}),[i,e]);return(0,A.jsx)(E.n,{size:"small",onClick:t,children:o.Ru.get("web-player.social-connect.leave-session.leave-session-button")})};var O=t(85387),B=t(7797),F=t(93794),T=t(98178),q=t(82050),z=t(90630);const M="E6U6SyOECK4IENpzZw2R",Q="rirXgOjB8QWiJWDk5hSD",D=({currentSession:e,username:i,onClick:t})=>{const{sessionMembers:a}=e,n=(0,O.Zp)(),c=(0,r.NC)(z.eWj),{setQueueView:u}=(0,B.m)(),d=a.length+2>3?a.length-3:0,m=(0,T.t)(e,i,{userFirst:!0}),x=(0,s.useCallback)((()=>{t&&t(),c?u(B.p.PARTICIPANT_LIST):n(q.S.PARTICIPANTS_PAGE)}),[c,n,t,u]);return(0,A.jsxs)(E.n,{size:"small",className:M,onClick:x,"aria-label":o.Ru.get("web-player.social-connect.participant-list.title"),children:[(0,A.jsx)(F.g,{users:m,maxSlots:3,withoutOverflowBadge:!0}),d>0&&(0,A.jsx)(l.E,{variant:"bodySmallBold",semanticColor:"textBase",className:Q,children:`+${d}`})]})};var $=t(73916),_=t(81152),J=t(94822);const G="CyBimvsotsoxqwtiZeAn",W="_GKa4bilkTYbQLgcLogI",Z="uXHR7rkHhuz9kVPNWwYW",H="KFGFA5pPG0hgIB97pZfI",X=({id:e,label:i,value:t,onChange:a})=>(0,A.jsxs)("label",{htmlFor:e,className:H,children:[(0,A.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:i}),(0,A.jsx)(c.l,{id:e,value:t,onSelected:a,condensed:!0})]}),V=({className:e,emptyStateComponent:i})=>{const{currentSession:t,setQueueOnlyMode:a,setParticipantVolumeControl:c}=(0,J.D)(),u=(0,n.d4)((({session:e})=>e.user?.id)),d=t?.joinSessionShortLink,m=t?.joinSessionShortLinkQR,{logFacePileClick:x,logInviteClick:g,logEndClick:h,logLeaveClick:p,UBIFragmentWithSpec:y}=(0,_.O)(),b=(0,$.Z)(),j=(0,r.NC)(z.eWj),[C,v]=(0,s.useState)(!0),N=(0,s.useCallback)((()=>{x()}),[x]),k=(0,s.useCallback)((async()=>{d&&await b(d),g(d?.spotifyUri??"",d?.shareId??"")}),[b,d,g]),f=(0,s.useCallback)((async()=>{j?v((e=>!e)):k()}),[k,j]),S=(0,s.useCallback)((()=>{h()}),[h]),E=(0,s.useCallback)((()=>{p()}),[p]);if(!t?.active)return i?(0,A.jsx)(A.Fragment,{children:i}):null;const w=t.sessionMembers.find((e=>e.id===t.sessionOwnerId));return(0,A.jsx)(y,{children:(0,A.jsxs)("div",{className:e,children:[(0,A.jsx)("div",{className:G,children:(0,A.jsx)(l.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",children:o.Ru.get("web-player.social-connect.session-info.title",{host:w?.displayName??""})})}),(0,A.jsxs)("div",{className:W,children:[(0,A.jsxs)("div",{className:Z,children:[(0,A.jsx)(D,{currentSession:t,username:u,onClick:N}),(0,A.jsx)(U,{onClick:f}),t.isSessionOwner?(0,A.jsx)(P,{onClick:S}):(0,A.jsx)(L,{onClick:E})]}),C&&(0,A.jsx)(I,{onClose:()=>v(!1),onCopyLink:k,inviteUrlQR:m?.shareableUrl??""}),t.isSessionOwner&&(0,A.jsxs)("div",{children:[(0,A.jsx)(X,{id:"queueOnlyMode",label:o.Ru.get("web-player.social-connect.controls.queue-only-mode"),value:!t.queueOnlyMode,onChange:e=>a(!e)}),"UNAVAILABLE"!==t.participantVolumeControl&&(0,A.jsx)(X,{id:"participantVolumeControl",label:o.Ru.get("web-player.social-connect.controls.participant-volume-control"),value:"ENABLED"===t.participantVolumeControl,onChange:e=>c(e)})]})]})]})})};var K=t(32824);const Y=e=>(0,A.jsx)(a.s,{onError:e=>{(0,K.Jy)(e,"JamQueueHeader")},suspenseFallback:e.emptyStateComponent,children:(0,A.jsx)(V,{...e})})},1091:(e,i,t)=>{t.d(i,{J:()=>c});var a=t(56266),s=t(63127),n=t(95573),l=t(86070);const r={animated:"images/equaliser-animated-green.gif",static:"images/equaliser-green.svg"},o={animated:"images/equaliser-animated-white.gif",static:"images/equaliser-white.svg"},c=({className:e,animated:i=!1,white:t=!1})=>{const c=(0,n.j)(),u=(0,s.j)(!c&&i),d=t?o:r;return(0,l.jsx)("img",{className:e,width:"14",height:"14",alt:"",src:(0,a.b)(u?d.animated:d.static)})}},88342:(e,i,t)=>{t.d(i,{$:()=>a});let a=function(e){return e[e.NowPlaying=0]="NowPlaying",e[e.NextInQueue=1]="NextInQueue",e[e.NextUp=2]="NextUp",e}({})},36408:(e,i,t)=>{t.d(i,{H:()=>l,K:()=>n});var a=t(77782),s=t(28445);function n(e){return"autoplay"===e?.provider}function l(){const{uri:e,description:i}=(0,s.f)(),{current:t,nextUp:l,queued:r}=(0,a.w)(),o=l.filter((e=>n(e)?e:"autoplay"!==e.provider)),c=!!r?.length,u=!!o?.length;return{uri:e,description:i,current:t,nextUp:o,queued:r,isEmpty:!1===(t||c||u),hasQueuedTracks:c,hasNextTracks:u}}},62348:(e,i,t)=>{t.r(i),t.d(i,{default:()=>Re});var a=t(30758),s=t(97500),n=t.n(s),l=t(13505),r=t(86323),o=t(27428),c=t(93492),u=t(64359),d=t(5119),m=t(21974),x=t(86070);const g=({onClick:e})=>(0,x.jsx)(m.n,{onClick:e,size:"small",children:c.Ru.get("queue.clear-queue")});var h=t(98253),p=t(71812),y=t(88342),b=t(43758),j=t(40997),C=t(33279),v=t(45325),N=t(46136),k=t(72574),f=t(12367),S=t(36019),A=t(92734),I=t(98955),E=t(82502),w=t(34978),R=t(30368),P=t(76762),U=t(54878),L=t(62355),O=t(22360),B=t(76422),F=t(83298),T=t(37502),q=t(97998),z=t(74618),M=t(1782),Q=t(8562),D=t(23602),$=t(61056),_=t(13670),J=t(53458),G=t(46198),W=t(12200),Z=t(53575),H=t(8766),X=t(3568),V=t(57836),K=t(39595),Y=t(24395),ee=t(21081),ie=t(64273),te=t(22408),ae=t(42262),se=t(99802),ne=t(82362),le=t(89979),re=t(80104);let oe=function(e){return e.TRACK="track",e.EPISODE="episode",e.CHAPTER="chapter",e.LOCAL="local",e.AD="ad",e}({});const ce=a.memo((function({uri:e,uid:i,contextUri:t,name:s,duration_ms:n,artists:l,index:r,rowNumberOffset:o,imgUrl:u,isExplicit:d,isPlayable:m,isMOGEFRestricted:g,album:h,type:p,section:b,usePlayContextItem:j,isAutoPlay:C=!1,isEnhanced:ce,queueSpec:ue,trackContextUri:de}){const me=(0,se.s)(),xe=(0,ie.z)(),{triggerPlay:ge,togglePlay:he}=j({uid:i,uri:e,index:r}),{spec:pe}=(0,ne.r)(N.i,{data:{position:r,reason:"",uri:e}}),{isActive:ye,isPlaying:be}=(0,te.te)(e),je=(0,a.useCallback)(((t,a)=>{i?ge({loggingParams:a},(()=>xe.skipToNext({uri:e,uid:i}))):ge({loggingParams:a})}),[xe,ge,e,i]),Ce=(0,a.useCallback)((t=>{i?he({loggingParams:t},(()=>ye?be?xe.pause():xe.resume():xe.skipToNext({uri:e,uid:i}))):he({loggingParams:t})}),[xe,he,e,i,ye,be]),ve=p===oe.TRACK,Ne=p===oe.EPISODE,ke=p===oe.CHAPTER,fe=Ne&&"video"===h?.mediaType,Se=p===oe.LOCAL,Ae=p===oe.AD,Ie=l?.map((e=>e.name)).join(c.Ru.getSeparator())||"",Ee=(0,ee.T)(e),{isPlayable:we,isAnyArtistBanned:Re}=(0,H.g)(e,{isPlayable:m,isLocal:(0,k.PkR)(e),isOutOfMarket:!1,artistUris:l?.map((e=>e.uri))}),{badges:Pe,hasBadges:Ue}=(0,le.b)({downloadAvailability:Ee,isExplicit:d,isMOGEFRestricted:g,isEnhanced:ce}),Le=(0,W.X)();let Oe;Oe=Ne?(0,x.jsx)(A.b,{uri:e,uid:C?void 0:i,showUri:h.uri,contextUri:t}):ke?(0,x.jsx)(S.r,{uri:e,removeFromQueueData:{uid:C?void 0:i,contextUri:t}}):Se?(0,x.jsx)(I.A,{uri:e,uid:C?void 0:i,contextUri:t}):Ae?null:(0,x.jsx)(E.P,{uri:e,uid:C?void 0:i,albumUri:h.uri,artists:l,contextUri:t,entityContextUri:de,isSmartRecommendation:ce});const Be=(0,a.useCallback)(((t,a)=>{const{meta:s,uris:n}=t,l=n.map((e=>({uri:e,uid:null})));let r;r=a===_.Y.Before?{before:{uri:e,uid:i??null}}:{after:{uri:e,uid:i??null}},s.section===y.$.NowPlaying?xe.addToQueue(l):s.origin===y.$.NowPlaying?xe.insertIntoQueue(l,r):xe.reorderQueue(l,r)}),[xe,i,e]),Fe=(0,a.useCallback)(((t,a)=>{const{items:s}=t;let n;n=a===_.Y.Before?{before:{uri:e,uid:i??null}}:{after:{uri:e,uid:i??null}},xe.reorderQueue(s,n)}),[xe,i,e]),Te=C?[]:[Z.O[k.NQG.TRACK],Z.O[k.NQG.EPISODE]];return(0,x.jsx)(Y.pZ,{value:"row",index:r,children:(0,x.jsx)(f.h,{menu:Oe,children:(0,x.jsxs)(_.w,{uri:e,contextUri:t,index:r,onTriggerPlay:je,isActive:b===y.$.NowPlaying&&ye,ariaRowIndex:r,isPlayable:we,isAnyArtistBanned:Re,ageRestricted:g,spec:pe,isExplicit:d,dragMetadata:{name:s,createdBy:Ie,sectionId:b},onInsert:(i,t,a,s,n)=>{Be({uris:i,dropIndex:t,meta:n},a),ue&&me.logInteraction(ue.dragAddItemToQueue({itemToAddToQueue:e}))},onMove:(e,i,t,a)=>{Fe({items:e,dropIndex:i,meta:a},t),ue&&me.logInteraction(ue.dragSort())},allowedDropTypes:Te,children:[(0,x.jsx)(z.y,{ariaColIndex:0,children:(0,x.jsx)(B.$,{uri:e,playAriaLabel:c.Ru.get("tracklist.a11y.play",s,Ie),isPlaying:b===y.$.NowPlaying&&be,isActive:b===y.$.NowPlaying&&ye,spec:pe,onClick:(e,i)=>{we&&Ce(i)},children:(0,x.jsx)(T.a,{children:r+o+1})})}),(0,x.jsxs)(M.U,{ariaColIndex:1,children:[(0,x.jsx)(L.e,{src:u,isVideo:fe,isEpisode:Ne||ke}),(0,x.jsxs)(O.l,{children:[(0,x.jsx)($.p,{titleText:s,children:s}),Ue&&(0,x.jsxs)(P.P,{children:[Pe.enhanced&&(0,x.jsx)(v.R,{size:"small",className:re.A.enhanced,title:c.Ru.get("web-player.smart-shuffle.icon-hover-label"),"aria-label":c.Ru.get("web-player.smart-shuffle.icon-hover-label")}),Pe.download&&(0,x.jsx)(V._,{}),Pe.explicit&&(0,x.jsx)(X.U,{}),Pe.nineteen&&(0,x.jsx)(K.q,{className:re.A.nineteen,size:16})]}),(0,x.jsxs)(D.p,{children:[ve&&(0,x.jsx)(R.l,{artists:l,spec:pe}),(Ne||Se)&&!fe&&Ie]})]})]}),(0,x.jsx)(Q.o,{ariaColIndex:2,children:(0,x.jsx)(w.g,{nonInteractive:Se,uri:h.uri,name:h.name,creatorUri:l?.[0]?.uri,spec:pe,children:h.name})}),(0,x.jsxs)(q.l,{ariaColIndex:3,children:[ce&&Le&&(0,x.jsx)(ae.r,{spec:pe,children:(0,x.jsx)(G.o,{className:re.A.rowFeedback,contextUri:de,id:i??void 0,uri:e,isActive:b===y.$.NowPlaying&&ye})}),!ke&&!ce&&(0,x.jsx)(J.d,{uri:e,type:p}),(0,x.jsx)(U.P,{duration:n}),(0,x.jsx)(F.Y,{menu:Oe,label:c.Ru.get("more.label.track",s,Ie),spec:pe})]})]})})})}),((e,i)=>e.uri===i.uri&&e.index===i.index&&e.name===i.name&&e.isEnhanced===i.isEnhanced));var ue=t(86324),de=t(82261),me=t(82414),xe=t(56226),ge=t(23046),he=t(75784),pe=t(24320),ye=t(78172),be=t(95717);const je=a.memo((function({tracks:e,ariaLabel:i,contextUri:t,currentlyPlayingContextUri:s=t,rowNumberOffset:n=0,section:l,usePlayContextItem:r}){const o=(0,ie.z)(),u=(0,a.useCallback)(((e,i)=>{o.removeFromQueue(e).then(i)}),[o]),d=(0,a.useCallback)(((e,i)=>{if((0,ge.p)(e)){const a=(0,be.g)(e.show?.images,{desiredSize:40});return(0,x.jsx)(ce,{index:i,rowNumberOffset:n,imgUrl:a?.url||"",uri:(0,de.a)(e),uid:e.uid??e.uri,contextUri:t,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.show.name,uri:e.show.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:oe.EPISODE,section:l,usePlayContextItem:r,isAutoPlay:"autoplay"===e.provider},`${i}${n}${e.uid}`)}if((0,xe.d)(e)){const a=(0,be.g)(e.images||void 0,{desiredSize:40});return(0,x.jsx)(ce,{index:i,rowNumberOffset:n,imgUrl:a?.url||"",uri:(0,de.a)(e),uid:e.uid??e.uri,contextUri:t,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.book.name,uri:e.book.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:oe.CHAPTER,section:l,usePlayContextItem:r,isAutoPlay:"autoplay"===e.provider},`${i}${n}${e.uid}`)}if((0,me.N)(e)){const a=(0,be.g)(e.images||void 0,{desiredSize:40});return(0,x.jsx)(ce,{index:i,rowNumberOffset:n,imgUrl:a?.url||"",uri:e.uri,uid:e.uid??e.uri,contextUri:t,duration_ms:e.duration.milliseconds,name:e.advertiser??e.title??c.Ru.get("ad-formats.advertisement"),artists:[],album:{name:"",uri:""},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:oe.AD,section:l,usePlayContextItem:r,isAutoPlay:"autoplay"===e.provider,isEnhanced:!1},`${i}${n}${e.uid}`)}if((0,he.v)(e)||(0,pe.v)(e)){const a=(0,be.g)(e?.album?.images,{desiredSize:40}),o=e.type===ye.c.TRACK?e:null;return(0,x.jsx)(ce,{index:i,rowNumberOffset:n,imgUrl:a?.url||"",uri:(0,de.a)(e),uid:e.uid??e.uri,contextUri:t,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:o?.isExplicit??!1,isPlayable:!0,isMOGEFRestricted:o?.is19PlusOnly??!1,type:o?.isLocal?oe.LOCAL:oe.TRACK,section:l,usePlayContextItem:r,isAutoPlay:"autoplay"===e.provider,isEnhanced:(0,ue.N)(e),trackContextUri:e.metadata?.context_uri??s},`${i}${n}${e.uid}`)}return(0,x.jsx)(b.nd,{height:`${j.FL}px`})}),[n,t,s,l,r]),m=(0,a.useMemo)((()=>[C.$.INDEX,C.$.TITLE_AND_ARTIST,C.$.ALBUM,C.$.DURATION]),[]),g=(0,a.useCallback)((e=>({uri:e.uri,uid:e.uid??e.uri})),[]);return(0,x.jsx)(j.S4,{ariaLabel:i,tracks:e,nrTracks:e.length,onRemove:u,renderRow:d,resolveItem:g,columns:m})}));var Ce=t(36408),ve=t(81109),Ne=t(46307);const ke="vLZJk3f3zoMmc3u9QMrc",fe="mP6tR7IgjiamGqpBW5ai",Se="LIaQPESoX4ijscRRn3lz",Ae="OXu31j8D4EtomwaNzbsk",Ie="eJ2FGCSzEv3Bta0m2Haf",Ee=()=>{const{uri:e,description:i,current:t,nextUp:s,queued:m,isEmpty:b,hasQueuedTracks:j,hasNextTracks:C}=(0,Ce.H)(),{spec:v,logger:N,UBIFragment:k}=(0,ne.r)(r.i,{data:{identifier:o.$h.NOWPLAYING_QUEUE,uri:e??""}}),f=(0,a.useMemo)((()=>v.nowPlayingSectionFactory()),[v]),S=(0,a.useMemo)((()=>v.nextInQueueSectionFactory()),[v]),A=(0,a.useMemo)((()=>v.nextFromSectionFactory()),[v]),I=(0,ie.z)(),[E,w]=(0,a.useState)(!1),R=(0,a.useCallback)((()=>{w(!1)}),[w]),P=(0,a.useCallback)((()=>{I.clearQueue(),w(!1)}),[I]),U=(0,a.useCallback)((()=>{let e;const i=S.clearQueueButtonFactory();m.length>0&&(e=i.hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:m.length}),N.logInteraction(e))}),[N,S,m.length]),L=(0,a.useCallback)((async()=>{U(),w(!0)}),[U]),{usePlayContextItem:O}=(0,Ne.P)({uri:e??""},{featureIdentifier:"queue"}),B=(0,a.useCallback)((async()=>{if(!C)return;const i=v.nextFromSectionFactory().queueContextLinkFactory().hitUiNavigate({destination:e??""});N.logInteraction(i)}),[C,N,v,e]);return b?(0,x.jsx)(p.K,{}):(0,x.jsxs)("div",{className:ke,children:[(0,x.jsx)(u.Q,{children:c.Ru.get("queue.page-title")}),(0,x.jsx)(k,{spec:v,children:(0,x.jsx)(ve.Z,{className:fe,emptyStateComponent:(0,x.jsx)(l.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:fe,children:c.Ru.get("playback-control.queue")})})}),t&&e&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Se,children:c.Ru.get("queue.now-playing")}),(0,x.jsx)(k,{spec:f,children:(0,x.jsx)(Y.pZ,{value:"now-playing",children:(0,x.jsx)(je,{ariaLabel:c.Ru.get("queue.now-playing"),tracks:[t],contextUri:e,section:y.$.NowPlaying,usePlayContextItem:O})})})]}),j&&e&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:n()(Ie,Se),children:[(0,x.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",children:c.Ru.get("queue.next-in-queue")}),j&&(0,x.jsx)(g,{onClick:L})]}),(0,x.jsx)(k,{spec:S,children:(0,x.jsx)(Y.pZ,{value:"next-in-queue",children:(0,x.jsx)(je,{ariaLabel:c.Ru.get("queue.next-in-queue"),tracks:m,rowNumberOffset:1,contextUri:"spotify:app:queue:NextInQueue",currentlyPlayingContextUri:e,section:y.$.NextInQueue,usePlayContextItem:O})})})]}),C&&e&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Se,children:i&&!(0,Ce.K)(t)?(0,x.jsxs)("span",{className:"standalone-ellipsis-one-line",children:[c.Ru.get("queue.next-from")," ",(0,x.jsx)(d.N,{className:Ae,to:e,onClick:B,children:i})]}):c.Ru.get("queue.next-up")}),(0,x.jsx)(k,{spec:A,children:(0,x.jsx)(Y.pZ,{value:"next-up",children:(0,x.jsx)(je,{ariaLabel:c.Ru.get("queue.next-up"),tracks:s,rowNumberOffset:1+(m?.length||0),contextUri:"spotify:app:queue:NextUp",currentlyPlayingContextUri:e,section:y.$.NextUp,usePlayContextItem:O})})})]}),(0,x.jsx)(h.p,{itemCount:m?.length||0,isOpen:E,onClose:R,onConfirm:P})]})};var we=t(85377);const Re=()=>(0,x.jsx)(we.U,{children:(0,x.jsx)(a.Suspense,{fallback:null,children:(0,x.jsx)(Ee,{})})})},38803:(e,i,t)=>{t.d(i,{X:()=>l});var a=t(3118),s=t(64640);let n=function(e){return e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e}({});const l=(e=!1)=>((e=!1)=>(0,a.NC)(s.uy,e?void 0:{loadingValue:!1})?n.ENABLED:n.DISABLED)(e)===n.ENABLED},46198:(e,i,t)=>{t.d(i,{o:()=>S});var a=t(30758),s=t(97500),n=t.n(s),l=t(61e3),r=t(78943),o=t(70257),c=t(37558),u=t(72574),d=t(93492),m=t(89913),x=t(23925),g=t(20951),h=t(33059),p=t(28445),y=t(86848),b=t(99802),j=t(82362);const C="VcqCvLW71lZT4kqnCgt0";var v=t(86070);const N=({contextUri:e="",uri:i,id:t=i,className:s,canAdd:u})=>{const{description:y}=(0,p.f)(),N=(0,b.s)(),{spec:k}=(0,j.r)(c.A,{data:{uri:e}}),f=(0,a.useCallback)((()=>{N.logInteraction(k.undoButtonFactory({uri:i}).hitUiHide())}),[N,k,i]),S=(0,a.useCallback)((()=>{N.logInteraction(k.removeRecommendationButtonFactory({uri:i}).hitRemoveRecommendation({recommendedItemUri:i,contextUri:e}))}),[e,N,k,i]),A=(0,a.useCallback)((()=>{N.logInteraction(k.addRecommendationButtonFactory({uri:i}).hitAddToPlaylist({playlist:e,itemToBeAdded:i}))}),[e,N,k,i]),{removeRecommendation:I,addRecommendation:E,canRemoveRecommendation:w,canAddRecommendation:R}=(0,x.t)({uri:i,uid:t,contextUri:e,onUndo:f,onRemoveRecommendation:S,onAddRecommendation:A}),P=(0,a.useCallback)((()=>y?d.Ru.get("web-player.smart-shuffle.add-to-playlist-button",y):d.Ru.get("web-player.smart-shuffle.add-to-playlist-button-fallback")),[y]),U=(0,h.y)();return(0,v.jsxs)("div",{className:n()(C,s),children:[w&&(0,v.jsx)(m.Zp,{label:d.Ru.get("web-player.smart-shuffle.removed-from-recommendations-button"),children:(0,v.jsx)(l.H,{onClick:I,iconOnly:r.P,size:U===g.E.MEDIUM?"medium":"small","aria-label":d.Ru.get("web-player.smart-shuffle.removed-from-recommendations-button"),condensedAll:!0})}),u&&R&&(0,v.jsx)(m.Zp,{label:P(),children:(0,v.jsx)(l.H,{onClick:E,iconOnly:o.P,size:U===g.E.MEDIUM?"medium":"small","aria-label":P(),condensedAll:!0})})]})},k=e=>{const i=(0,y.J)(e.contextUri);return(0,v.jsx)(N,{...e,canAdd:i?.canAdd??!1})},f=e=>(0,v.jsx)(N,{...e,canAdd:!0}),S=e=>e.contextUri&&(0,u.tbX)(e.contextUri)?(0,v.jsx)(k,{...e,contextUri:e.contextUri}):e.contextUri&&(0,u.Z0m)(e.contextUri)?(0,v.jsx)(f,{...e,contextUri:e.contextUri}):(0,v.jsx)(N,{...e,canAdd:!1})},12200:(e,i,t)=>{t.d(i,{X:()=>a.X});var a=t(38803)},98178:(e,i,t)=>{t.d(i,{c:()=>n,t:()=>l});var a=t(72574);const s=e=>({url:e}),n=e=>{const i=[];return e.largeImageUrl?i.push(s(e.largeImageUrl)):e.imageUrl&&i.push(s(e.imageUrl)),{displayName:e.displayName,images:i,username:e.username,uri:(0,a.Qjr)(e.username).toURI()}},l=(e,i,t)=>{const a=[],s=e.sessionMembers.find((({id:i})=>i===e.sessionOwnerId));s&&a.push(s);const l=e.isSessionOwner?void 0:e?.sessionMembers.find((({username:e})=>e===i));l&&(t?.userFirst?a.unshift(l):a.push(l));const r=e.sessionMembers.filter((({username:t,id:a})=>a!==e.sessionOwnerId&&t!==i));return[...a,...r].map(n)}},77782:(e,i,t)=>{t.d(i,{w:()=>r});var a=t(30758),s=t(75843),n=t(64273),l=t(78233);function r(){const e=(0,n.z)(),[i,t]=(0,a.useState)(e.getQueue());return(0,l.p)(s.gd.QUEUE_UPDATE,(e=>t(e.data))),i}}}]);