"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6863],{60308:(e,a,s)=>{s.d(a,{a:()=>p});var t=s(26411),i=s(93492),r=s(92907),n=s(30848),l=s(36776),o=s(61894),c=s(60452),d=s(12367),u=s(96691),m=s(86070);const p=e=>{const{name:a,uri:s,images:p,isHero:x,onClick:h,testId:g,index:y,requestId:j,color:b,variant:v,logCardImpressions:k=!1}=e;let f;return f=x?(0,m.jsx)(o.A,{index:y,onClick:h,headerText:a,featureIdentifier:"artist",uri:s,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:x,isCircular:!0,images:p,color:b,FallbackComponent:e=>(0,m.jsx)(t.r,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,m.jsx)(l.c,{isHero:!0,children:(0,m.jsx)(c.t,{children:i.Ru.get("card.tag.artist")})}),testId:g,requestId:j,logCardImpressions:k}):(0,m.jsx)(r.Z,{variant:v,index:y,onClick:h,headerText:a,featureIdentifier:"artist",uri:s,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:x,isCircular:!0,images:p,color:b,FallbackComponent:e=>(0,m.jsx)(t.r,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,m.jsx)(l.c,{children:(0,m.jsx)("span",{children:i.Ru.get("card.tag.artist")})}),testId:g,requestId:j,logCardImpressions:k}),(0,m.jsx)(d.h,{menu:(0,m.jsx)(u.t,{uri:s}),children:f})}},80918:(e,a,s)=>{s.d(a,{X:()=>b});var t=s(30758),i=s(62411),r=s(49263),n=s(93492),l=s(12032),o=s(56695),c=s(71338),d=s(56116),u=s(48975),m=s(24395),p=s(21053),x=s(49593),h=s(68055),g=s(80687),y=s(86070);const j=({currentUserUri:e,uri:a,name:s,divider:m,onBlock:j})=>{const b=(0,d.W)(),v=!(0,u.n)(),{isBlocked:k,blockUser:f,unblockUser:C}=function(e,a,s,r){const[o,d]=(0,t.useState)(!1),u=(0,i.wA)(),m=(0,p.a)(),y=(0,g.A)(),{enqueueSnackbar:j}=(0,c.d)();return(0,t.useEffect)((()=>{e&&(0,h.zP)(y,{currentUserUri:e,uri:a}).then((e=>{if(m()){if(200!==e.status)throw new Error("Invalid response from socialgraph");d(e.body?.[0]?.is_dismissed||!1)}}))}),[e,a,m,y]),{isBlocked:o,blockUser:()=>{e&&u((0,l.zj)(a,s,r))},unblockUser:async()=>{e&&(await(0,h.kV)(x.n.getInstance(),{currentUserUri:e,uri:a}),j(n.Ru.get("feedback.unblock-user")))}}}(e,a,s,j),I=(0,t.useCallback)((async()=>{b({targetUri:a,intent:k?"unblock":"block",type:"click"}),k?await C():await f()}),[b,a,f,C,k]);if(!e||e===a)return null;const R=k?n.Ru.get("contextmenu.unblock"):n.Ru.get("contextmenu.block");return(0,y.jsx)(o.D,{role:"menuitem",divider:m,disabled:v,onClick:I,leadingIcon:(0,y.jsx)(r.r,{semanticColor:"textSubdued",size:"small"}),children:R})},b=t.memo((function(e){return(0,y.jsx)(m.pZ,{value:"block-user",children:(0,y.jsx)(j,{...e})})}))},34855:(e,a,s)=>{s.d(a,{B:()=>B});var t=s(30758),i=s(62411),r=s(93492),n=s(55669),l=s(80918),o=s(42026),c=s(33650),d=s(56695),u=s(24395),m=s(86070);const p=t.memo((function({onClick:e,divider:a,canEdit:s}){return e&&s?(0,m.jsx)(u.pZ,{value:"edit-profile",children:(0,m.jsx)(d.D,{role:"menuitem",divider:a,onClick:e,leadingIcon:(0,m.jsx)(c.G,{semanticColor:"textSubdued",size:"small"}),children:r.Ru.get("contextmenu.edit-profile")})}):null}));var x=s(27508),h=s(96869),g=s(8950),y=s(56116),j=s(48975),b=s(306),v=s(98962),k=s(82362);const f=()=>{},C=({uri:e,divider:a,onRemoveCallback:s=f})=>{const{spec:n,logger:l}=(0,k.r)(g.F,{data:{uri:e}}),o=(0,y.W)(),c=!(0,j.n)(),u=(0,i.d4)(v.Ht).user,[p,C]=(0,b.Y)(e),I=(0,t.useCallback)((()=>{const a=n.followButtonFactory();o({targetUri:e,intent:p?"unfollow":"follow",type:"click"}),p?(C(!1),l.logInteraction(a.hitUnfollow({itemToBeUnfollowed:e})),s(e)):(C(!0),l.logInteraction(a.hitFollow({itemToBeFollowed:e})))}),[p,l,o,s,C,n,e]);if(u&&u.uri===e)return null;const R=p?r.Ru.get("contextmenu.unfollow"):r.Ru.get("contextmenu.follow");return(0,m.jsx)(d.D,{role:"menuitem",testid:"follow-user-context-menu-item",divider:a,disabled:c,onClick:I,leadingIcon:p?(0,m.jsx)(x.M,{semanticColor:"textBrightAccent",size:"small"}):(0,m.jsx)(h.h,{semanticColor:"textSubdued",size:"small"}),children:R})},I=t.memo((function(e){return(0,m.jsx)(u.pZ,{value:"follow-user",children:(0,m.jsx)(C,{...e})})}));var R=s(56032),A=s(5879),L=s(12032),w=s(90843),P=s(94822),N=s(75788),U=s(33887);function T({userUri:e}){const{currentSession:a}=(0,P.D)(),s=(0,N.d)(),n=(0,i.wA)(),l=(0,t.useCallback)((()=>{const s=(0,U.Bj)(a?.sessionMembers??[],e);s&&n((0,L.A9)(w.EL.REMOVE_PARTICIPANT,void 0,s))}),[a?.sessionMembers,n,e]),o=(0,U.kt)(s,e);return a?.active&&e&&o?(0,m.jsx)(d.D,{role:"menuitem",onClick:l,leadingIcon:(0,m.jsx)(A.f,{semanticColor:"textSubdued",size:"small"}),children:r.Ru.get("web-player.social-connect.kick-users.remove-the-user")}):(0,m.jsx)(m.Fragment,{})}var S=s(68055),E=s(43080),M=s(69611);const B=t.memo((function({uri:e,onEditProfileCallback:a}){const{user:s}=(0,i.d4)(v.Ht),{spec:t}=(0,M.o)(e),{data:c,loading:d}=(0,E.Z)(S.E$,[{uri:e}]);return d?null:c?(0,m.jsx)(u.pZ,{value:"user",children:(0,m.jsxs)(n.W,{children:[(0,m.jsx)(I,{uri:e}),(0,m.jsx)(T,{userUri:e}),(0,m.jsx)(l.X,{uri:c.uri,name:c.name,currentUserUri:s?.uri}),(0,m.jsx)(p,{onClick:a,canEdit:!(e!==s?.uri||c.edit_image_disabled&&c.edit_name_disabled)}),(0,m.jsx)(R.P,{spec:t,uri:e,canReportUser:!c.report_abuse_disabled,currentUserUri:s?.uri}),(0,m.jsx)(o.m,{spec:t,uri:e,displayText:r.Ru.get("contextmenu.share.copy-profile-link")})]})}):null}))},15810:(e,a,s)=>{s.d(a,{j:()=>w});var t=s(30758),i=s(97500),r=s.n(i),n=s(13505),l=s(24587),o=s(72574),c=s(93492),d=s(32284),u=s(12367),m=s(96691),p=s(34855),x=s(5119);var h=s(89232),g=s(20951),y=s(33059),j=s(54550),b=s(86070);function v(e){return e.displayName||e.name||""}const k=e=>{let a=null;return(0,o.ecE)(e)&&(a=(0,b.jsx)(m.t,{uri:e})),(0,o.APS)(e)&&(a=(0,b.jsx)(p.B,{uri:e})),a},f=({creator:e,onClick:a,position:s=0})=>{const i=(0,t.useCallback)((t=>{a?.(t,{position:s,creator:e})}),[e,a,s]);return(0,h.s)(e)?(0,b.jsx)(u.h,{menu:k(e.uri),children:(0,b.jsx)(n.E,{variant:"bodySmallBold",children:(0,b.jsx)(x.N,{"data-testid":"creator-link",to:e.uri,onClick:i,children:v(e)})})}):(0,b.jsx)(n.E,{variant:"bodySmall",children:v(e)})},C=({creator:e,onClick:a,isSmallIcon:s})=>{const[t,i]=c.Ru.get("playlist.header.made-for","USER").split("USER");return(0,b.jsxs)("div",{className:r()(j.A.metaDataText,j.A.creatorWrapper,{[j.A.smallMadeForIcon]:s}),children:[(0,b.jsx)(l.D,{semanticColor:"textBrightAccent"}),(0,b.jsx)(n.E,{variant:"bodySmall",children:t}),(0,b.jsx)(f,{creator:e,onClick:a}),i&&(0,b.jsx)(n.E,{variant:"bodySmall",children:i})]})},I=({creator:e,onClick:a,isSmallIcon:s,prefix:t})=>(0,b.jsxs)("div",{className:r()(j.A.metaDataText,j.A.creatorWrapper),children:[e.images.length>0&&(0,b.jsx)(d.e,{label:v(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:s?20:24,userIconSize:s?"xsmall":"small"}),t&&(0,b.jsx)(n.E,{variant:"bodySmall",children:t}),(0,b.jsx)(f,{creator:e,onClick:a})]}),R=({creators:e,onPiledCreatorsClick:a,isSmallIcon:s})=>{const t=(0,b.jsx)("div",{className:j.A.piled,children:e.slice(0,3).map(((e,a)=>(0,b.jsx)(d.e,{label:v(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:s?20:24,userIconSize:s?"xsmall":"small",piled:a>0},e.uri)))});let i=c.Ru.get("playlist.header.creator-and-others",v(e[0]),e.length-1);return 2===e.length&&(i=c.Ru.get("playlist.header.creator-and-co-creator",v(e[0]),v(e[1]))),a?(0,b.jsxs)("button",{className:r()(j.A.metaDataText,j.A.creatorWrapper,j.A.creatorButton),onClick:a,children:[t,i]}):(0,b.jsxs)("div",{className:r()(j.A.metaDataText,j.A.creatorWrapper),children:[t,i]})},A=({creators:e,onCreatorClick:a})=>(0,b.jsx)(b.Fragment,{children:e.map(((e,s)=>(0,b.jsxs)(t.Fragment,{children:[0!==s&&(0,b.jsx)("span",{className:j.A.divider}),(0,b.jsx)(f,{creator:e,onClick:a,position:s})]},e.id)))}),L=({creators:e,onPiledCreatorsClick:a,onCreatorClick:s,isTunaApplied:t})=>{const i=(0,y.y)(),r=i===(g.E.SMALL||i===g.E.XSMALL);if(1===e.length){const[a]=e;return a.isMadeFor?(0,b.jsx)(C,{creator:a,onClick:s,isSmallIcon:r}):(0,b.jsx)(I,{creator:a,onClick:s,isSmallIcon:r,prefix:t?"":void 0})}return e.length>0&&e.every((e=>(0,o.APS)(e.uri)))?(0,b.jsx)(R,{creators:e,onPiledCreatorsClick:a,isSmallIcon:r}):(0,b.jsx)(A,{creators:e,onCreatorClick:s})};function w({creators:e,onCreatorClick:a,onPiledCreatorsClick:s,isTunaApplied:i}){return(0,b.jsx)(t.Suspense,{fallback:null,children:(0,b.jsx)(L,{creators:e,onPiledCreatorsClick:s,onCreatorClick:a,isTunaApplied:i})})}},54513:(e,a,s)=>{s.d(a,{R:()=>r});var t=s(5119),i=s(86070);const r=({uri:e,enabled:a,className:s,children:r,onClick:n})=>a?(0,i.jsx)(t.N,{to:e,className:s,onClick:n,children:r}):(0,i.jsx)(i.Fragment,{children:r})},53185:(e,a,s)=>{s.d(a,{D:()=>l});var t=s(30758),i=s(37926),r=s(56116),n=s(86070);const l=t.memo((function({uri:e,ariaPlayLabel:a,ariaPauseLabel:s,onClick:t,isPlaying:l,size:o,locked:c,...d}){const u=(0,r.W)();return(0,n.jsx)(i.R,{ariaPlayLabel:a,ariaPauseLabel:s,isPlaying:l,onClick:a=>{c||u({targetUri:e,intent:l?"pause":"play",type:"click",itemIdSuffix:"button"}),t(a)},size:o,locked:c,...d})}))},58711:(e,a,s)=>{s.d(a,{z:()=>W});var t=s(30758),i=s(13505),r=s(3118),n=s(93492),l=s(46136),o=s(12367),c=s(82502),d=s(5119),u=s(76762),m=s(54878),p=s(62355),x=s(22360),h=s(76422),g=s(83298),y=s(37502),j=s(80742),b=s(97998),v=s(74618),k=s(1782),f=s(8562),C=s(61056),I=s(13670),R=s(38377),A=s(53458),L=s(49157),w=s(95059),P=s(8766),N=s(3568),U=s(57836),T=s(39595),S=s(24395),E=s(21081),M=s(82362),B=s(88176),_=s(89979),F=s(80104),O=s(86070);const D=t.memo((function({uri:e,name:a,totalMilliseconds:s,artists:t,isPlayable:i,contentRating:r,imageUrl:D,albumUri:V,contextUri:z,index:q,playcount:$,usePlayContextItem:Z,hasAssociatedVideo:W}){const{spec:G}=(0,M.r)(l.i,{data:{position:q,reason:"",uri:e}}),{isActive:X,isPlaying:H,triggerPlay:Y,togglePlay:J}=Z({uri:e,index:q}),Q=(0,E.T)(e),{isPlayable:K,isAnyArtistBanned:ee}=(0,P.g)(e,{isPlayable:i,isLocal:!1,isOutOfMarket:!1,artistUris:t?.map((e=>e.uri))}),{unBanArtists:ae}=(0,L.M)(t.map((e=>e.uri))),{badges:se,hasBadges:te}=(0,_.b)({downloadAvailability:Q,contentRating:r,hasAssociatedVideo:W}),ie=r===B.x7.NineteenPlus,re=t.map((e=>e.name)).join(n.Ru.getSeparator()),ne=(0,w.c)();return(0,O.jsx)(S.pZ,{value:"row",index:q,children:(0,O.jsx)(o.h,{menu:(0,O.jsx)(c.P,{uri:e,contextUri:z,albumUri:V,artists:t}),children:(0,O.jsxs)(I.w,{uri:e,onTriggerPlay:(e,a)=>{Y({loggingParams:a})},isActive:X,contextUri:z,isPlayable:K,isAnyArtistBanned:ee,handleArtistBanUndoClick:ae,ageRestricted:ie,dragMetadata:{name:a,createdBy:re},index:q,ariaRowIndex:q,spec:G,isExplicit:r===B.x7.Explicit,children:[(0,O.jsx)(v.y,{ariaColIndex:0,children:(0,O.jsx)(h.$,{uri:e,playAriaLabel:n.Ru.get("tracklist.a11y.play",a,re),isPlaying:H,isActive:X,onClick:(e,a)=>{K&&J({loggingParams:a})},spec:G,children:(0,O.jsx)(y.a,{children:q+1})})}),(0,O.jsxs)(k.U,{ariaColIndex:1,children:[(0,O.jsx)(p.e,{src:D}),(0,O.jsxs)(x.l,{children:[ne?(0,O.jsx)(d.N,{to:e,className:F.A.rowTitle,"data-testid":"internal-track-link",children:(0,O.jsx)(C.p,{titleText:a,children:a})}):(0,O.jsx)(C.p,{titleText:a,children:a}),te&&(0,O.jsxs)(u.P,{children:[se.download&&(0,O.jsx)(U._,{}),se.explicit&&(0,O.jsx)(N.U,{}),se.nineteen&&(0,O.jsx)(T.q,{className:F.A.nineteen,size:16}),se.hasAssociatedVideo&&(0,O.jsx)(R.l,{separator:"",isCollapsible:!1})]})]})]}),(0,O.jsx)(f.o,{ariaColIndex:2,children:(0,O.jsx)(j.Y,{playcount:$})}),(0,O.jsxs)(b.l,{ariaColIndex:3,children:[(0,O.jsx)(A.d,{uri:e,spec:G}),(0,O.jsx)(m.P,{duration:s}),(0,O.jsx)(g.Y,{menu:(0,O.jsx)(c.P,{uri:e,albumUri:V,contextUri:z,artists:t}),label:n.Ru.get("more.label.track",a,re),spec:G})]})]})})})}),((e,a)=>e.uri===a.uri));var V=s(40997),z=s(33279),q=s(90630),$=s(46307);const Z="wi2HeHXOI471ZOh8ncCG",W=({uri:e,nrTracks:a,initialTracks:s})=>{const{usePlayContextItem:l}=(0,$.P)({uri:e},{featureIdentifier:"artist"}),o=(0,r.NC)(q.LX5),[c,d]=(0,t.useState)(!1),u=(0,t.useCallback)((()=>{d(!c)}),[c]),m=(0,t.useCallback)((({uri:e,contextUri:a,totalMilliseconds:s,name:t,artists:i,contentRating:r,isPlayable:n,playcount:c,imageUrl:d,albumUri:u,hasAssociatedVideo:m},p)=>(0,O.jsx)(D,{index:p,uri:e,contextUri:a,totalMilliseconds:s,name:t,artists:i,isPlayable:n,contentRating:r,playcount:c||0,imageUrl:d,albumUri:u,usePlayContextItem:l,hasAssociatedVideo:m&&o},e)),[l,o]),p=(0,t.useCallback)((e=>({uri:e.uri})),[]),x=(0,t.useMemo)((()=>[z.$.INDEX,z.$.TITLE_AND_ARTIST,z.$.PLAYS,z.$.DURATION]),[]),h=(0,t.useMemo)((()=>c?s:s.slice(0,5)),[c,s]);return(0,O.jsxs)(S.pZ,{value:"artist-popular-tracks-list",children:[(0,O.jsx)(V.S4,{ariaLabel:n.Ru.get("tracklist.popular-tracks"),renderRow:m,nrTracks:h.length,tracks:h,resolveItem:p,columns:x}),a>5?(0,O.jsx)("button",{"aria-expanded":c,className:Z,onClick:u,children:(0,O.jsx)(i.E,{as:"div",variant:"bodySmallBold",children:c?n.Ru.get("artist-page.tracks.showless"):n.Ru.get("artist-page.tracks.seemore")})}):null]})}},62355:(e,a,s)=>{s.d(a,{e:()=>m});var t=s(97500),i=s.n(t),r=s(32825),n=s(44397),l=s(17461),o=s(80104),c=s(86070);const d=({isVideo:e,isEpisode:a})=>{let s=r.v;return e?s=n.B:a&&(s=l.L),(0,c.jsx)("div",{className:i()(o.A.rowImage,o.A.rowImageFallback),style:{borderRadius:4},children:(0,c.jsx)(s,{size:"small"})})};var u=s(48450);const m=({src:e,isVideo:a=!1,isEpisode:s=!1})=>e?(0,c.jsx)(u._,{className:i()(o.A.rowImage,{[o.A.rowImageVideo]:a}),draggable:!1,src:e,loading:"eager",width:"40",height:"40",radius:4,children:(0,c.jsx)(d,{isVideo:a,isEpisode:s})}):(0,c.jsx)(d,{isVideo:a,isEpisode:s})},19146:(e,a,s)=>{s.d(a,{u:()=>p});var t=s(97500),i=s.n(t),r=s(40638),n=s(78245),l=s(62355),o=s(56116),c=s(22232),d=s(99802),u=s(80104),m=s(86070);const p=({uri:e,src:a,playAriaLabel:s,onClick:t,isPlaying:p,isActive:x,isLocked:h,isEpisode:g,isVideo:y,spec:j})=>{const b=(0,o.W)(),v=(0,d.s)(),k=(0,r.YQ)((a=>{let s;if(b({type:"click",intent:p?"pause":"play"}),j){const a=j.playbackButtonFactory();let t;t=x&&p?a.hitPause({itemToBePaused:e}):x&&!p?a.hitResume({itemToBeResumed:e}):a.hitPlay({itemToBePlayed:e}),s=v.logInteraction(t)}t(a,s)}),c.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,m.jsx)(l.e,{src:a,isEpisode:g,isVideo:y}),(0,m.jsx)(n.x,{className:i()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:k,isPlaying:p,isLocked:h,playAriaLabel:s})]})}},81493:(e,a,s)=>{s.d(a,{i:()=>c,p:()=>o});var t=s(3987),i=s(18317),r=s(93492),n=s(74598),l=s(86070);const o=[n.I.COMPACT,n.I.LIST],c=[{value:n.I.COMPACT,text:()=>r.Ru.get("web-player.your-library-x.sort-and-view-picker.compact"),icon:()=>(0,l.jsx)(t.d,{size:"small"})},{value:n.I.LIST,text:()=>r.Ru.get("web-player.your-library-x.sort-and-view-picker.list"),icon:()=>(0,l.jsx)(i.N,{size:"small"})}]},46106:(e,a,s)=>{s.d(a,{$I:()=>n,Qv:()=>r,R2:()=>i});var t=s(45176);const i=(e,a)=>{const s=e.contextMenuButtonFactory().hitUiReveal();a.logInteraction(s)},r=(e,a,s,i)=>{let r;e===t.NV.ADD?r=a.hitDownload({itemToDownload:i}):e===t.NV.REMOVE?r=a.hitRemoveDownload({itemToRemoveFromDownloads:i}):e===t.NV.NO_PERMISSION&&(r=a.hitUiReveal?.()),r&&s.logInteraction(r)},n=({isPlaying:e,isActive:a,spec:s,logger:t,uri:i})=>{let r;return r=e?s.hitPause({itemToBePaused:i}):a?s.hitResume({itemToBeResumed:i}):s.hitPlay({itemToBePlayed:i}),t.logInteraction(r)}},306:(e,a,s)=>{s.d(a,{Y:()=>o});var t=s(30758),i=s(72574),r=s(12469),n=s(37395),l=s(9043);const o=e=>{const a=(0,n.f)(),[s,o]=(0,t.useState)(!1);if(!(0,i.APS)(e))throw new Error(`Expected a Spotify uri in format 'spotify:user:***', got "${e}"`);const c=(0,t.useCallback)((t=>t&&!s?a.followUsers([e]):!t&&s?a.unfollowUsers([e]):Promise.resolve()),[a,s,e]);return(0,t.useEffect)((()=>{o(!1),a.isFollowing([e]).then((a=>{o(a[e]??!1)}))}),[a,e]),(0,l.N)(r.mc.OPERATION_COMPLETE,(a=>{a.data.uris.includes(e)&&!a.data.error&&(a.data.operation===r.JK.FOLLOW_USER?o(!0):a.data.operation===r.JK.UNFOLLOW_USER&&o(!1))})),[s,c]}},52090:(e,a,s)=>{s.d(a,{h:()=>i});var t=s(75773);function i(){const{ref:e,inView:a}=(0,t.Wx)({initialInView:!1}),{ref:s,inView:i}=(0,t.Wx)({initialInView:!1});return{titleRef:e,tracklistRef:s,displayTopBar:!a&&i}}},85981:(e,a,s)=>{s.d(a,{Z:()=>n});var t=s(87732);const i="rTMkDBDp47Eo12ZEQv4U";var r=s(86070);const n=({copyrights:e,courtesyLine:a})=>{const s=(e||[]).map(((e,a)=>{if(e.untyped)return(0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},a);const s=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let i;return i="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${s}`},a)}));return a&&s.unshift((0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:a},s.length)),(0,r.jsx)("div",{className:i,children:s})}},12888:(e,a,s)=>{s.d(a,{F:()=>t.F});var t=s(47066)},6256:(e,a,s)=>{s.d(a,{Lf:()=>c,Mz:()=>l,UT:()=>n,ay:()=>r,bj:()=>u,fX:()=>o,pe:()=>d});var t=s(88176),i=s(98628);const r=e=>`spotify:artist:${e}`,n=e=>({artists:e.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))),images:e.coverArt?.sources??[],name:e.name,uri:e.uri,sharingInfo:e.sharingInfo??null}),l=e=>({artists:e.artists?.items.map((e=>({uri:e.uri,name:e.profile?.name||""})))||[],images:e.coverArt?.sources||[],name:e.name,uri:e.uri,year:e.date?.year,type:e.type,sharingInfo:e.sharingInfo??null}),o=({track:{uri:e,name:a,playcount:s,duration:{totalMilliseconds:i},contentRating:r,artists:{items:n},albumOfTrack:l,playability:{playable:o},associationsV2:c}},d)=>({uri:e,contextUri:d,totalMilliseconds:i,name:a,contentRating:r?.label||t.x7.None,isPlayable:o,playcount:parseInt(s||"0",10),artists:n.map((e=>({uri:e.uri,name:e.profile.name}))),imageUrl:l?.coverArt?.sources?.length?l?.coverArt.sources[0].url:"",albumUri:l?.uri||"",hasAssociatedVideo:(c?.totalCount||0)>0}),c=e=>e?e.reduce(((e,a)=>(e.push(a.releases.items[0]),e)),[]):[],d=e=>e?e.reduce(((e,a)=>(e.push(a.releases.items[0]),e)),[]):[],u=e=>e.map((e=>"Playlist"!==e.data?.__typename?null:{uri:e.data.uri,name:e.data.name,description:e.data.description??"",images:e.data.images?.items?.[0]?.sources??[],authorName:"User"===e.data.ownerV2.data.__typename?e.data.ownerV2.data.name:null})).filter(i.P)},71297:(e,a,s)=>{s.r(a),s.d(a,{default:()=>mt});var t=s(30758),i=s(97500),r=s.n(i),n=s(85387),l=s(13505),o=s(75635),c=s(61e3),d=s(58105),u=s(72574),m=s(93492),p=s(12367),x=s(82502),h=s(64359),g=s(72163),y=s(3996),j=s(4378),b=s(11951),v=s(26641),k=s(30092),f=s(15810),C=s(39856),I=s(24477),R=s(5389),A=s(26101),L=s(63161),w=s(57730),P=s(38167),N=s(44947),U=s(49810);const T=new N.l("internalLinkRecommenderTrack","query","c77098ee9d6ee8ad3eb844938722db60570d040b49f41f5ec6e7be9160a7c86b",null);var S=s(3118),E=s(95059),M=s(90630),B=s(14867),_=s(98176);var F=s(62411),O=s(77721),D=s(21021),V=s(26906),z=s(60841),q=s(76252),$=s(98962),Z=s(59764),W=s(12959);var G=s(54513),X=s(30368),H=s(76762),Y=s(54878),J=s(19146),Q=s(22360),K=s(83298),ee=s(80742),ae=s(97998),se=s(1782),te=s(8562),ie=s(23602),re=s(61056),ne=s(13670),le=s(53458),oe=s(49157),ce=s(8766),de=s(3568),ue=s(57836),me=s(39595),pe=s(24395),xe=s(21081),he=s(89979);const ge="Z9Dr8PkXFtlO8KnnDcxp",ye="Bm0LUMlhVIcF5qusgdUP",je="GIyB7JDkRwjtVL6PSBbg",be="whTIka0YYAkqhqrs26Wa",ve="ulEQOyh4lZiAVbgiCfPQ";var ke=s(86070);const fe=t.memo((function({uri:e,name:a,imgUrl:s,artists:t,isExplicit:i,index:r,albumUri:n,contextUri:l,isPlayable:o,isMOGEFRestricted:c,totalMilliseconds:d,playcount:u,usePlayContextItem:h}){const{isActive:g,isPlaying:y,triggerPlay:j,togglePlay:b}=h({uri:e,index:r}),v=(0,xe.T)(e),{isPlayable:k,isAnyArtistBanned:f}=(0,ce.g)(e,{isPlayable:o,isLocal:!1,isOutOfMarket:!1,artistUris:t.map((e=>e.uri))}),{unBanArtists:C}=(0,oe.M)(t.map((e=>e.uri))),I=t.map((e=>e.name)).join(m.Ru.getSeparator()),{badges:R,hasBadges:A}=(0,he.b)({isMOGEFRestricted:c,downloadAvailability:v,isExplicit:i}),L=t.map((e=>e.name)).join(m.Ru.getSeparator()),w=(0,E.c)();return(0,ke.jsx)(pe.pZ,{value:"row",index:r,children:(0,ke.jsx)(p.h,{menu:(0,ke.jsx)(x.P,{uri:e,albumUri:n,artists:t,contextUri:l}),children:(0,ke.jsxs)(ne.w,{uri:e,contextUri:l,isPlayable:k,isAnyArtistBanned:f,handleArtistBanUndoClick:C,onTriggerPlay:(e,a)=>{j({loggingParams:a})},isActive:g,index:r,ariaRowIndex:r,dragMetadata:{name:a,createdBy:I},isExplicit:i,children:[(0,ke.jsxs)(se.U,{ariaColIndex:0,children:[(0,ke.jsx)(J.u,{uri:e,src:s,onClick:(e,a)=>{b({loggingParams:a})},isLocked:!1,isPlaying:y,isActive:g,playAriaLabel:m.Ru.get("tracklist.a11y.play",a,I)}),(0,ke.jsxs)(Q.l,{children:[(0,ke.jsx)(G.R,{uri:e,enabled:w,className:je,children:(0,ke.jsx)(re.p,{titleText:a,children:a})}),A&&(0,ke.jsxs)(H.P,{children:[R.download&&(0,ke.jsx)(ue._,{}),R.explicit&&(0,ke.jsx)(de.U,{}),R.nineteen&&(0,ke.jsx)(me.q,{className:be,size:16})]}),(0,ke.jsx)(ie.p,{children:(0,ke.jsx)(X.l,{artists:t})})]})]}),(0,ke.jsx)(te.o,{ariaColIndex:1,children:(0,ke.jsx)(ee.Y,{playcount:u})}),(0,ke.jsxs)(ae.l,{ariaColIndex:2,children:[(0,ke.jsx)(le.d,{uri:e}),(0,ke.jsx)(Y.P,{duration:d}),(0,ke.jsx)(K.Y,{menu:(0,ke.jsx)(x.P,{uri:e,albumUri:n,contextUri:l,artists:t}),label:m.Ru.get("more.label.track",a,L)})]})]})})})}),((e,a)=>e.uri===a.uri&&e.index===a.index));var Ce=s(43758),Ie=s(40997),Re=s(33279),Ae=s(46307),Le=s(37267),we=s(88176),Pe=s(78172);const Ne=t.memo((function({subtitle:e,uri:a}){const s=(()=>{const e=(0,E.c)(),a=(0,B.o)(_.P.ExtendTrackRecommendations,(0,n.zy)()),s=(0,S.NC)(M.FtF)===M.J9B.Enabled;return!!e&&(a||s)})(),{data:i}=(r={uri:a,limit:s?10:5},(0,U.I)(T,r,c));var r,c;const[d,u]=(0,t.useState)(!1),p=function(e){return(e||[]).filter((e=>(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Track"===e.__typename;var a})(e.data))).map((e=>e.data))}(i?.seoRecommendedTrack.items),x=(0,t.useMemo)((()=>p?.slice(0,Math.min(p.length,5))),[p]),h=(0,t.useMemo)((()=>d?p:x),[x,d,p]),g=(0,t.useCallback)((e=>({uri:"uri"in e?e.uri:""})),[]),y=(0,t.useMemo)((()=>[Re.$.TITLE_AND_ARTIST,Re.$.ALBUM,Re.$.DURATION]),[]),j=`${a}|[${(s?p:x).map((e=>e.uri))}]`,b=(e=>{const a=(0,S.NC)(M.FtF),s=(0,V.vh)(),t=(0,E.c)(),i=(0,z.V)(),r=(0,F.d4)($.F6),n=(0,F.d4)(q.JJ),l={category:"track_ilr_exposures",action:"track_page_visit",variant:a,label:"dwp",os:(0,W.f)(),context:e,country:r?n:"",sp_t:(0,Z.v8)("sp_t")};return()=>{t&&(i?s.send((0,D.r)(l)):s.send((0,O._)(l)))}})(j);(0,t.useEffect)((()=>{b()}),[b]);const{usePlayContextItem:v}=(0,Ae.P)({uri:"spotify:internal:recs:track-ilr",pages:[{items:p?.map((e=>({uri:e.uri,uid:null,type:Pe.c.TRACK,provider:null})))}]},{featureIdentifier:"ilr"}),k=(0,t.useCallback)(((e,s)=>(0,ke.jsx)(fe,{index:s,contextUri:a,uri:e.uri,name:e.name,totalMilliseconds:e.duration.totalMilliseconds,imgUrl:e.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:e.playability.playable,artists:e.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:e?.albumOfTrack?.uri||"",isExplicit:e.contentRating?.label===we.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===we.x7.NineteenPlus,playcount:parseInt(e.playcount||"0",10),usePlayContextItem:v},`${s}-${e.uri}`)),[a,v]);return p?.length?(0,ke.jsxs)("div",{className:ge,children:[(0,ke.jsxs)("div",{className:ye,children:[(0,ke.jsx)(l.E,{variant:"titleSmall",semanticColor:"textBase",children:m.Ru.get("playlist.extender.recommended.title")}),(0,ke.jsx)(l.E,{variant:"bodySmall",paddingBottom:o.CD,children:e})]}),(0,ke.jsx)(Ie.S4,{ariaLabel:m.Ru.get("playlist.extender.recommended.title"),nrTracks:h.length,rowPlaceholder:Ce.qq,tracks:h,renderRow:k,resolveItem:g,columns:y},"internal-link-recommender-track-list"),s&&(0,ke.jsx)("button",{"aria-expanded":d,className:ve,onClick:()=>{u(!d)},"data-testid":d?"show-less-button":"see-more-button",children:(0,ke.jsx)(l.E,{as:"div",variant:"bodySmallBold",children:d?m.Ru.get("artist-page.tracks.showless"):m.Ru.get("artist-page.tracks.seemore")})})]}):null})),Ue=e=>{const{entityType:a}=e;return(0,ke.jsx)(P.s,{onError:()=>{(0,Le.fE)({metric_type:w.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:a}})},children:(0,ke.jsx)(Ne,{...e})})};var Te=s(5119),Se=s(99035),Ee=s(53185),Me=s(53849),Be=s(2169),_e=s(66764);const Fe=({albums:e,artistName:a,artistId:s,artistUri:t,className:i})=>e?(0,ke.jsx)(pe.pZ,{value:"shelf/albums",children:(0,ke.jsx)(Be.$,{total:e.totalCount,title:m.Ru.get("rich-page.popular-albums-by-artist",{artist:a}),seeAllUri:`${(0,_e.Dh)(s)}:discography:${we._m.Album.toLowerCase()}`,seeAllLabel:m.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,children:(0,_e.Ey)(e.items).map(((e,a)=>(0,ke.jsx)(Me.K,{album:e,index:a,artistURI:t},e.uri)))})}):null;var Oe=s(60308);const De=({artistId:e,className:a,fansAlsoLike:s,title:t})=>(0,ke.jsx)(pe.pZ,{value:"shelf/fans-also-like",children:(0,ke.jsx)(Be.$,{total:s.length,title:t??m.Ru.get("rich-page.fans-also-like"),seeAllUri:`${(0,_e.Dh)(e)}:related`,className:a,children:s.map(((e,a)=>(0,ke.jsx)(pe.pZ,{value:"card",index:a,children:(0,ke.jsx)(Oe.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})});var Ve=s(58711);const ze="ERm7dIKbVoqGwPb_lXPH",qe=({artistName:e,artistUri:a,headerClassName:s,rowClassName:i,topTracks:r,topTracksTransformer:n,uri:o})=>{const c=(0,t.useMemo)((()=>r?.items.map((e=>n(e,o)))),[r?.items,n,o]);return c&&c.length>0?(0,ke.jsxs)("div",{className:i,children:[(0,ke.jsxs)("div",{children:[(0,ke.jsx)(l.E,{variant:"bodySmall",className:ze,children:m.Ru.get("rich-page.popular-tracks")}),(0,ke.jsx)(l.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:s,children:e})]}),(0,ke.jsx)(Ve.z,{uri:a,nrTracks:c.length,initialTracks:c})]}):null};var $e=s(51496);const Ze=({artistName:e,artistId:a,artistUri:s,className:i,releases:r,artistImages:n})=>{const l=(0,t.useMemo)((()=>n?{title:e,pretitle:m.Ru.get("artist-page.popular"),media:(0,$e.h)(n,{desiredSize:48})||""}:null),[n,e]);return r?(0,ke.jsx)(pe.pZ,{value:"shelf/releases",children:(0,ke.jsx)(Be.$,{total:10,title:m.Ru.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,_e.Dh)(a)}:discography:${we._m.Album.toLowerCase()}`,seeAllLabel:m.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,...l,children:r.items.map(((e,a)=>(0,ke.jsx)(Me.K,{album:e,index:a,artistURI:s},e.uri)))})}):null},We=({artistId:e,artistName:a,artistUri:s,className:t,singles:i})=>i?(0,ke.jsx)(pe.pZ,{value:"shelf/singles-and-eps",children:(0,ke.jsx)(Be.$,{total:i.totalCount,title:m.Ru.get("rich-page.popular-singles-and-eps-by-artist",{artist:a}),seeAllUri:`${(0,_e.Dh)(e)}:discography:${we._m.Single.toLowerCase()}`,seeAllLabel:m.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,children:(0,_e.Ey)(i.items).map(((e,a)=>(0,ke.jsx)(Me.K,{album:e,index:a,artistURI:s},e.uri)))})}):null;var Ge=s(6256),Xe=s(61895),He=s(5537),Ye=s(12888),Je=s(29208),Qe=s(26923),Ke=s(52090);const ea="VdIaMy6YRQX6cN5B7OVC",aa="LjkmarFarmUOq0nmv9iy",sa="VHigmLQwT1FxkKEbCs4H",ta="qX5K6LTMIuXG1gFBXzjZ",ia="fsH_X6pBkexdxtu19q5k",ra="sDbr7RxY_jjg1XXq8zU5",na="MiWZGlZeQCy1tibDTql5",la="uci6FedOoLZEL163ZR8k",oa="GDA6ugyRoV7ZiqIyOU4d",ca="IUBwxdZXklSkRPTZ9w_Q",da="f7XB243E_dNMV9dkUXV6",ua="gQQC7YFmzffMUaCqbx3o",ma="QJVNM_FcLpEHhjDc_FU3",pa="Vd2oInYt1Ynz9X6KgL7o",xa="yUA20RYjsLIb7xXNRlfn",ha="MVDvKVX1aJ05U9lmHzaz",ga=({richTrack:e})=>{const{search:a}=(0,n.zy)(),s=(0,t.useCallback)((()=>new URLSearchParams(a.slice(1)).get("highlight")||""),[a])(),{tracklistRef:i}=(0,Ke.h)(),r=e.albumOfTrack,{playUri:l,playOptions:o}=(0,Qe.J)(r?.uri||""),{usePlayContextItem:c}=(0,Ae.P)({uri:l},{featureIdentifier:"album"},o),d=(0,t.useMemo)((()=>({items:[],totalCount:0})),[]),u=(0,Je.t)();return r?(0,ke.jsx)("div",{ref:i,className:na,children:(0,ke.jsx)(He.a,{columns:u,children:(0,ke.jsx)(Ye.F,{albumName:r.name,nrTracks:r.tracks.totalCount,albumUri:r.uri,highlightUri:s,discs:d,usePlayContextItem:c,hasHeaderRow:!1})})}):null};var ya=s(35251),ja=s(42297),ba=s(85277),va=s(66917),ka=s(72418),fa=s(79202),Ca=s(585),Ia=s(9830),Ra=s(69623),Aa=s(96437),La=s(48975),wa=s(46106),Pa=s(68508),Na=s(67759),Ua=s(82362);const Ta=t.memo((function({uri:e,togglePlay:a,isPlaying:s,isActive:i,spec:r,logger:n,backgroundColor:l,name:o,isPlayable:c,albumUri:d,artists:u}){const p=(0,La.n)(),[h,g]=(0,Na.A)(e),y=(0,Ra.d$)(),{spec:j,logger:b}=(0,Ua.r)(ya.e,{data:{uri:e}});(0,t.useEffect)((()=>{y&&b.logImpression(j.impression())}),[y,b,j]);const v=(0,t.useCallback)((async()=>{const a=r.saveButtonFactory();n.logInteraction(h?a.hitRemoveLike({itemNoLongerLiked:e}):a.hitLike({itemToBeLiked:e})),h&&y&&b.logInteraction(j.hitAddToPlaylist({itemToBeAdded:e,playlist:Pa.BP}));try{await g(!h)}catch{}}),[e,h,r,n,g,y,b,j]),k=(0,t.useCallback)((()=>{const t=(0,wa.$I)({isPlaying:s,isActive:i,spec:r.playButtonFactory(),logger:n,uri:e});a({loggingParams:t})}),[i,s,n,r,a,e]),f=(0,t.useCallback)((()=>{n.logInteraction(r.contextButtonFactory().hitUiReveal())}),[n,r]),C=(0,Aa.j)();return(0,ke.jsx)(ja.E,{backgroundColor:l,children:(0,ke.jsxs)(ba.S,{children:[(0,ke.jsx)(Ia.e,{children:(0,ke.jsx)(Ee.D,{onClick:k,isPlaying:s,disabled:!c,size:C,uri:e})}),(0,ke.jsx)(Ia.e,{children:(0,ke.jsx)(va.M,{isAdded:h,onClick:v,disabled:!p,size:C,condensed:!0})}),(0,ke.jsx)(ka.f,{uri:e,isFollowing:h,onFollow:v,size:C,condensed:!0}),(0,ke.jsx)(Ca.b,{menu:(0,ke.jsx)(x.P,{uri:e,albumUri:d,artists:u}),onShow:f,children:(0,ke.jsx)(fa.e,{label:m.Ru.get("more.label.context",o),size:C})})]})})}));var Sa=s(87732);const Ea="OH5mnpJIVCJozYM3raMt",Ma="etw0slM6uVrCi5RR3iDi",Ba=({padded:e,providerDisplayName:a})=>a?(0,ke.jsx)(Sa.Z,{as:"p",dir:"auto",variant:"finale",className:`${Ea} ${e?Ma:""}`,children:m.Ru.get("web-player.lyrics.providedBy",a)}):null;var _a=s(52596);let Fa=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Oa=(e,a)=>{switch(a.type){case"LYRICS_LOADING":return{...e,[a.uri]:{status:Fa.LOADING}};case"LYRICS_LOADED":return{...e,[a.uri]:{status:Fa.LOADED,data:a.response}};case"LYRICS_ERROR":return{...e,[a.uri]:{status:Fa.UNAVAILABLE}};default:return(0,_a.d)(a,`Unhandled lyrics action with type: ${a.type}`)}};var Da=s(49593),Va=s(44816);var za=s(1681);const qa=async({trackUri:e,api:a,imageForLyricsRequest:s,isPlayable:t})=>{if(!t)return{hasLyrics:!1};const i=(0,u.o_h)(e);try{const e=await(async(e,a,s)=>(await e.build().withHost(Va.Hj).withPath(`/track/${encodeURIComponent(a)}/image/${encodeURIComponent(s)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(a||Da.n.getInstance(),i.id,s||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof za.O&&404===e.status)return{hasLyrics:!1};throw e}},$a={status:Fa.LOADING},Za={status:Fa.UNAVAILABLE},Wa=t.createContext(void 0),Ga=({children:e,initialState:a={}})=>{const s=t.useReducer(Oa,a);return(0,ke.jsx)(Wa.Provider,{value:s,children:e})},Xa=({uri:e,isNotPermittedToFetchLyrics:a,imageForLyricsRequest:s,isPlayable:i})=>{const r=t.useContext(Wa);if(void 0===r)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[n,l]=r,o=e?n[e]:null;return(0,t.useEffect)((()=>{a||!o&&e&&(l({type:"LYRICS_LOADING",uri:e}),qa({trackUri:e,imageForLyricsRequest:s,isPlayable:i}).then((a=>{l({type:"LYRICS_LOADED",uri:e,response:a})})).catch((()=>{l({type:"LYRICS_ERROR",uri:e})})))}),[l,s,a,i,o,e]),e&&(0,u.U_m)(e)&&!a&&i?o||$a:Za},Ha=({uri:e,imageForLyricsRequest:a,isPlayable:s})=>{const{data:t}=Xa({uri:e,imageForLyricsRequest:a,isPlayable:s});return t?.hasLyrics?(0,ke.jsx)(Ba,{providerDisplayName:t.providerDisplayName}):null};var Ya=s(555);const Ja="QhDsXG1Gmo7XmQWLggAO",Qa="bZgWQj7UxvK8GYKWDA7N",Ka="AW61P3tnW5cKJCWtbhFh",es=({buttonText:e,onSecondaryButtonClick:a,onPrimaryButtonClick:s,secondaryButtonText:t,text:i})=>(0,ke.jsxs)("div",{className:Ja,"data-testid":"static-activation-trigger",children:[(0,ke.jsx)(l.E,{className:Qa,variant:"bodyMediumBold",semanticColor:"textBase",children:i}),(0,ke.jsxs)("div",{className:Ka,children:[(0,ke.jsx)(c.H,{onClick:a,semanticColor:"textBase",children:t}),(0,ke.jsx)(Ya.$,{onClick:s,colorSet:"invertedLight",children:e})]})]});var as=s(71272);var ss=s(75773);const ts="EaTxqhHk6J4ecKHwpY5m",is="dUQl9yd5x_1oWk4L0Ntm",rs="xt5C47eHPYNiriMJxGnC";var ns=s(77568);const ls=({words:e,onObserve:a,lyricsInView:s,...i})=>{const{ref:r,inView:n}=(0,ss.Wx)({threshold:0}),o=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{s||(o.current=!1)}),[s]),(0,t.useEffect)((()=>{o.current||n&&(a({text:e,outOfView:!1}),o.current=!0)}),[n,a,e]),(0,ke.jsx)(l.E,{ref:r,as:"p",dir:"auto",variant:"bodyMedium",className:rs,"data-testid":i["data-testid"],children:e})},os="q1JbsdMqX7OImgIFWa6J",cs="hAGejMh7SncdbJ5wcfUi",ds="IaG9Zc3xGxeYjsn73RAz",us="zgSEYVU2gMYxihFVEJPn",ms="expandable-lyrics-container";const ps=({lyrics:e,lyricsInView:a,onObserve:s,previewCount:i})=>{const[n,o]=(0,t.useState)(!1),{visibleLyrics:c,collapsibleLyrics:d}=function(e,a){let s=0,t=-1;const i=e.filter((e=>!!e.words));for(const[e,r]of i.entries())if(s+=r.words.length,s>a){t=e;break}if(t>-1)return{visibleLyrics:i.slice(0,t),collapsibleLyrics:i.slice(t)};return{visibleLyrics:i,collapsibleLyrics:[]}}(e,i),u=d.length>0,p=n?m.Ru.get("show_less"):`…${m.Ru.get("show_more")}`;return(0,ke.jsxs)(ke.Fragment,{children:[c.map((({words:e},t)=>(0,ke.jsx)(ls,{onObserve:s,words:e,lyricsInView:a,"data-testid":"lyrics-line-always-visible"},`lyrics-seo-line-${t}`))),(0,ke.jsx)("span",{"aria-hidden":!n,className:r()(ds,{[us]:n}),children:d.map((({words:e},t)=>(0,ke.jsx)(ls,{onObserve:n?s:()=>{},words:e,lyricsInView:n&&a},`lyrics-seo-line-${t}`)))}),u&&(0,ke.jsx)("button",{className:os,onClick:()=>{o(!n)},"aria-controls":ms,"aria-owns":ms,"aria-label":p,children:(0,ke.jsx)(l.E,{variant:"bodyMediumBold",className:cs,children:p})})]})},xs=({data:e,eventSender:a,playbackId:s,previewCount:i,uri:r})=>{const{lyrics:n=[],provider:o,providerLyricsId:c,syncType:d}=e,{ref:u,inView:p}=(0,ss.Wx)({threshold:0}),x=function(e){const{trackUri:a,provider:s,providerLyricsId:i,syncType:r,eventSender:n,playbackId:l,isSnippet:o}=e,c=(0,t.useRef)(null),[d,u]=(0,t.useState)(!1),[m,p]=(0,t.useState)(0),[x,h]=(0,t.useState)(!1),g=(0,t.useMemo)((()=>(0,ns.W)({lyrics_format:"track-page",track_uri:a,provider:s,provider_lyrics_id:i,sync_type:r,playback_id:l,is_snippet:o})),[a,s,i,r,l,o]);return(0,t.useEffect)((()=>{u(!1),p(0),h(!1),c.current=null}),[a]),(0,t.useEffect)((()=>{d&&l&&u(!1)}),[l]),(0,t.useEffect)((()=>{d||m>=140&&x&&(n?.send(g),u(!0))}),[m,d,g,n,x]),(0,t.useCallback)((e=>{const{text:a,outOfView:s}=e;a&&a.length>1&&(p((e=>e+a.length)),d||null!==c.current||(c.current=setTimeout((()=>{h(!0)}),1500))),s&&(c.current&&clearTimeout(c.current),c.current=null,p(0))}),[p,d])}({trackUri:r,provider:o,providerLyricsId:c,syncType:d,eventSender:a,playbackId:s});return(0,t.useEffect)((()=>{p||x({outOfView:!0})}),[p,x]),(0,ke.jsxs)("div",{className:ts,ref:u,children:[(0,ke.jsx)(l.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:is,children:m.Ru.get("web-player.lyrics.title")}),(0,ke.jsx)(ps,{lyrics:n,lyricsInView:p,onObserve:x,previewCount:i})]})};var hs=s(40829),gs=s(34668),ys=s(58225);const js=({uri:e,imageForLyricsRequest:a,isPlayable:s})=>{const[i,r]=(0,t.useState)(420),{data:n}=Xa({uri:e,imageForLyricsRequest:a,isPlayable:s}),l=(0,V.vh)(),{isPaused:o,currentTrackUri:c,playbackId:d}=(0,gs.o)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),ys.a),u=!o&&c===e,m=(0,t.useCallback)((()=>{window.innerWidth<=768?r(280):window.innerWidth>768&&280===i&&r(420)}),[i]);return(0,t.useEffect)((()=>{m()}),[m]),(0,hs.s)(m),n&&n?.hasLyrics?(0,ke.jsx)(xs,{data:n,uri:e,eventSender:l,playbackId:u?d:void 0,previewCount:i}):null},bs=e=>{const a=(e=>{const a=(0,V.vh)(),s=(0,F.d4)($.F6),t=(0,F.d4)(q.JJ),i=(0,F.d4)($.oo),r=(0,z.V)();return()=>{if(r)return;(0,Le.fE)({metric_type:w.MetricTypes.COUNTER,what:"dwp-lyrics-component-error",value:1});const n={category:"lyrics_render_error",label:"dwp",os:(0,as.f)(),context:JSON.stringify({uri:e,product:i}),country:s?t:"",sp_t:(0,Z.v8)("sp_t")};a.send((0,O._)(n))}})(e.uri);return(0,ke.jsx)(P.s,{onError:a,children:(0,ke.jsx)(js,{...e})})};var vs=s(4895);const ks="T1nqQ4HEh3heHy4RCCKa",fs="L8zjshPVgUMXyZR4FtOk",Cs="YMn1FWcFmOz9osBrNvhF",Is="Inbyq3TnvKDOJtcKFTDQ",Rs="lWk5se4WETUOJwaEb8D6",As="i8DyQbWCmDV_8N5XGJQT",Ls="t5WPFlGTY6GCd9UOFfLu",ws="AGQ3wRyMVK1odq860qnT",Ps="ZX_r7uZgPgssaUplfpxT",Ns="qrqctaPu2XBpxsw23nPX",Us="XnWidTagai3nQwMPxIMF";var Ts=s(13317),Ss=s(75189),Es=s(81531),Ms=s(93311);let Bs=function(e){return e.SMALL="small",e.LARGE="large",e}({});const _s=e=>{const{disabled:a,images:s,LinkComponent:t,name:i,size:l,uri:o,enableI18nRoutes:c,enableI18nAdditionalPages:d}=e,p=l===Bs.SMALL,x=(0,n.Zp)(),h=(0,u.o_h)(o),g=h?.type,y=m.Ru.getLocaleForURLPath(),j=(0,Es.p)({localeFeatureFlag:c,entityFeatureFlag:d,urlLocale:y,entity:g,type:"link"});return(0,ke.jsxs)("div",{className:r()(fs,{[Cs]:a}),"data-testid":"track-artist-link-card",children:[(0,ke.jsx)(Ts.b,{shape:Ts.u.CIRCLE,images:s,size:Ss.Qe.SIZE_80,title:i,type:Pe.c.ARTIST}),(0,ke.jsxs)("div",{className:r()(Rs,{[As]:p}),children:[(0,ke.jsx)(Sa.Z,{variant:"mestoBold",className:Is,children:m.Ru.get("card.tag.artist")}),(0,ke.jsx)(t,{to:o,children:(0,ke.jsx)(Sa.Z,{as:"div",dir:"ltr",className:Ls,variant:"balladBold",children:i})})]}),(0,ke.jsx)("div",{onClick:()=>{const e=h?.toURL(`/${Ms.CT}${y}/`);if(h){const a=j?e:h.toURLPath(!0);x(a)}},className:ws})]})},Fs=({size:e=Bs.LARGE,disabled:a=!1,enableI18nRoutes:s,enableI18nAdditionalPages:i,...n})=>{const[l,o]=(0,t.useState)(!1),d=(0,t.useCallback)((()=>{o(!l)}),[l]),u=n.artists;return(0,ke.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,ke.jsx)("div",{className:ks,children:u.map(((t,o)=>(0,ke.jsx)("div",{className:r()({[Ns]:l&&o>5,[Ps]:o>5}),children:(0,ke.jsx)(_s,{name:t.name,uri:t.uri,images:t.images,size:e,LinkComponent:n.LinkComponent,disabled:a,enableI18nRoutes:s,enableI18nAdditionalPages:i},t.id)},`${t.uri}-${o}`)))}),u.length>6&&(0,ke.jsx)(c.H,{onClick:d,className:Us,children:(0,ke.jsx)(Sa.Z,{as:"p",variant:"violaBold",children:l?m.Ru.get("show_less"):m.Ru.get("mwp.search.artists.all")})})]})};var Os=s(89249);const Ds=e=>{const{albumArtists:a,columnCount:s,imageForLyricsRequest:i,isPlayable:n,uri:l}=e,o=s-2,c={"--column-count":s,"--left-column-end":o-2,"--right-column-start":o},{isAnonymous:d}=(0,F.d4)($.Ht),u=(0,La.n)(),{data:p,status:x}=Xa({uri:l,isNotPermittedToFetchLyrics:d,imageForLyricsRequest:i,isPlayable:n}),h=!!p&&p.hasLyrics&&x!==Fa.UNAVAILABLE||d,g=(0,F.d4)(vs.M),y=(0,F.d4)(vs.N);return(0,ke.jsxs)(t.Suspense,{fallback:null,children:[h&&(0,ke.jsx)("div",{className:r()(sa,{[ta]:s>5}),style:{...c},"data-testid":"lyrics-container",children:d?(0,ke.jsx)(es,{buttonText:m.Ru.get("sign_up"),secondaryButtonText:m.Ru.get("login"),text:m.Ru.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:Os.ie,onSecondaryButtonClick:Os.PW}):(0,ke.jsx)(bs,{uri:l,imageForLyricsRequest:i,isPlayable:n})}),(0,ke.jsx)("div",{className:r()(ea,{[aa]:s>5&&h}),style:{...c},children:(0,ke.jsx)(Fs,{artists:a,LinkComponent:Te.N,disabled:!u,enableI18nRoutes:g,enableI18nAdditionalPages:y})})]})};function Vs({playcount:e,durationMs:a}){return(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(I.q,{children:(0,$e.f)(a)}),e&&e>0?(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(R.J,{}),(0,ke.jsx)(I.q,{variant:"bodySmall","data-testid":"playcount",children:m.Ru.formatNumber(e)})]}):null]})}var zs=s(6443),qs=s(16077),$s=s(85981),Zs=s(32829);const Ws="o2TlnuNKxRO5RnB9BpHB",Gs="q0Ke_aAvTcc4dO4wCHQt",Xs="UlKUfS_GcROZmofuafOW",Hs="I5LORTI1u3A6VoUvRCBf",Ys="TS85Qkpioa31wR0p4kzT",Js="yL1DLXBc05CR_ACv_NhA",Qs="k5kRkUyoz9znqg_SGOVQ";var Ks=s(2036),et=s(37452);let at=function(e){return e.SMALL="small",e.LARGE="large",e}({});const st=({art:e,disabled:a=!1,LinkComponent:s,name:t,size:i=at.SMALL,type:l,uri:o})=>{const c=e?[e]:[],d=i===at.SMALL?(0,Ks.C)(l):function(e){switch(e){case et.s.SINGLE:return m.Ru.get("track-page.from-the-single");case et.s.EP:return m.Ru.get("track-page.from-the-ep");case et.s.COMPILATION:return m.Ru.get("track-page.from-the-compilation");case et.s.ALBUM:default:return m.Ru.get("track-page.from-the-album")}}(l),p=(0,n.Zp)();return(0,ke.jsxs)("div",{className:r()(Ws,{[Xs]:i===at.SMALL,[Gs]:a}),children:[(0,ke.jsx)("div",{className:Hs,children:(0,ke.jsx)(Ts.b,{images:c,size:Ss.Qe.SIZE_80,title:t,type:Pe.c.ALBUM})}),(0,ke.jsxs)("div",{className:Ys,children:[(0,ke.jsx)(Sa.Z,{variant:i===at.SMALL?"mestoBold":"finale",children:d}),(0,ke.jsx)(s,{to:o,children:(0,ke.jsx)(Sa.Z,{as:"div",className:Js,variant:"balladBold",dir:"auto",children:t})})]}),(0,ke.jsx)("div",{onClick:()=>{p((0,u.o_h)(o).toURLPath(!0))},className:Qs})]})};var tt=s(77612),it=s(13946),rt=s(7428),nt=s(73638),lt=s(17807),ot=s(53780);const ct=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),dt=e=>(e||[]).map((e=>e.profile.name)),ut=({uri:e,track:a})=>{const s=(0,La.n)(),i=(0,z.V)(),n=(0,qs.W)({type:"locale",uri:e}),u=m.Ru.getLocaleForTranslation(),w=parseInt(a.playcount||"0",10),{firstArtist:P,otherArtists:N,albumOfTrack:U,duration:T,name:S}=a,E=U?.coverArt,M=U?.copyright.items,B=U?.courtesyLine,_=U?.date,F=E?.extractedColors?.colorRaw.hex,O=(E?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),D=dt(P.items),V=dt(N.items),q=ct(P),$=ct(N),Z=[...q,...$],W=P.items[0],G=a.albumOfTrack,X=G?.playability?.playable,H={artistId:W?.id,artistName:W?.profile?.name,artistUri:W?.uri},Y=a.albumOfTrack?.coverArt?.sources,J=(0,$e.h)(Y||void 0,{desiredLabel:"large",desiredSize:600})??Y?.[0]?.url??"",[Q,K]=(0,t.useState)(!1),ee=(0,t.useCallback)((()=>{K(!Q)}),[Q]),ae=N&&N.items.length>5,{spec:se,logger:te}=(0,Ua.r)(d.y,{data:{uri:e}}),ie=a.playability.playable,{togglePlay:re,isPlaying:ne,isActive:le}=(0,Ae.P)({uri:e},{featureIdentifier:"track"}),oe=(0,t.useCallback)((()=>(0,lt.rO)({i18n:m.Ru,trackArtistsList:[...D,...V].join(m.Ru.getSeparator()),trackName:a.name,shouldLocalize:n})),[D,V,n,a.name]),ce=(0,t.useCallback)(((e,a)=>{te.logInteraction(se.headerFactory().artistLinkFactory({position:a.position,uri:a.creator.uri}).hitUiNavigate({destination:a.creator.uri}))}),[te,se]),de=(0,t.useCallback)((()=>{const a=(0,wa.$I)({isPlaying:ne,isActive:le,spec:se.actionBarFactory().playButtonFactory(),logger:te,uri:e});re({loggingParams:a})}),[le,ne,te,se,re,e]),ue=G?.uri,me=(0,t.useMemo)((()=>[...P.items,...N.items].map((e=>({uri:e.uri,name:e.profile.name})))),[P.items,N.items]),pe=(0,ke.jsx)(x.P,{uri:e,albumUri:ue,artists:me});return(0,ke.jsxs)("section",{"data-testid":"track-page",children:[(0,ke.jsx)(h.Q,{children:oe()}),(0,ke.jsx)(Xe.c,{artistOrShow:me.map((e=>e.name)).join(m.Ru.getSeparator()),title:S,uri:e,entityType:Xe.p.TRACK}),(0,ke.jsxs)(g.z,{backgroundColor:F,children:[(0,ke.jsxs)(b.h,{children:[(0,ke.jsx)(Ee.D,{size:"medium",onClick:de,disabled:!ie,isPlaying:ne,uri:e}),(0,ke.jsx)(p.h,{menu:pe,children:(0,ke.jsx)(v.X,{text:S,dragUri:e,dragLabel:S})})]}),(0,ke.jsx)(p.h,{menu:pe,children:(0,ke.jsx)(y.K,{dragUri:e,images:O,name:S,placeholderType:"album"})}),(0,ke.jsxs)(j.Y,{children:[(0,ke.jsx)(l.E,{variant:"bodySmallBold",children:m.Ru.get("song")}),(0,ke.jsx)(p.h,{menu:pe,children:(0,ke.jsx)(A.mm,{dragUri:e,dragLabel:S,children:S})}),(0,ke.jsxs)(k.X,{children:[(0,ke.jsx)(f.j,{creators:q,onCreatorClick:ce}),G&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(R.J,{}),(0,ke.jsx)(I.q,{children:(0,ke.jsx)(Te.N,{to:G.uri,children:G.name})})]}),(0,ke.jsx)(R.J,{}),(0,ke.jsx)(C.H,{releaseDate:_}),(0,ke.jsx)(R.J,{}),(0,ke.jsx)(Vs,{playcount:w,durationMs:T.totalMilliseconds})]})]})]}),(0,ke.jsx)(Ta,{uri:e,togglePlay:re,isPlaying:ne,isActive:le,spec:(0,t.useMemo)((()=>se.actionBarFactory()),[se]),logger:te,backgroundColor:F,name:S,isPlayable:ie,albumUri:ue,artists:me}),(0,ke.jsxs)(Ga,{children:[(0,ke.jsxs)("div",{className:"contentSpacing",children:[(0,ke.jsx)("div",{className:ia,children:(0,ke.jsx)(Zs.E,{render:({columnCount:a})=>(0,ke.jsx)(Ds,{imageForLyricsRequest:J,albumArtists:Z,columnCount:a,uri:e,isPlayable:ie}),rowGap:o.lT})}),(0,ke.jsx)(Ue,{subtitle:m.Ru.get("internal-link-recommender.based-on-this-song"),uri:a.uri,entityType:Pe.c.TRACK}),(0,ke.jsx)(qe,{artistName:W.profile.name,artistUri:W.uri,headerClassName:oa,rowClassName:ia,topTracks:W.discography.topTracks,topTracksTransformer:Ge.fX,uri:a.uri}),(0,ke.jsx)(Ze,{className:la,releases:W?.discography?.popularReleasesAlbums,...H}),(0,ke.jsx)(Fe,{albums:W?.discography?.albums,className:la,...H}),(0,ke.jsx)(We,{className:la,singles:W?.discography?.singles,...H}),N.items.length>0&&(0,ke.jsx)("div",{className:da,children:N.items.map(((e,a)=>(0,ke.jsx)(Ze,{className:r()(ca,{[ma]:a>4,[pa]:Q&&a>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),ae&&(0,ke.jsx)(c.H,{onClick:ee,className:xa,children:(0,ke.jsx)(l.E,{as:"h2",variant:"bodySmallBold",children:Q?m.Ru.get("show_less"):m.Ru.get("mwp.search.artists.all")})}),(0,ke.jsx)(L.b,{uri:e,className:la}),(0,ke.jsx)(De,{artistId:W.id,className:r()(la,{[ua]:N.items.length>0}),fansAlsoLike:W.relatedContent.relatedArtists.items,title:m.Ru.get("artist-page.fansalsolike")}),G&&(0,ke.jsx)(st,{art:G.coverArt?.sources[0],disabled:!X||!s,LinkComponent:Te.N,name:G.name,type:G.type,size:at.LARGE,uri:G.uri}),(0,ke.jsx)(ga,{richTrack:a})]}),(0,ke.jsx)("div",{className:"contentSpacing",children:(0,ke.jsxs)("div",{className:ra,children:[_?.isoString&&(0,ke.jsx)(l.E,{as:"p",variant:"bodySmall",className:ha,children:(0,ot.rh)((0,ot.ad)(_.isoString),u,{year:"numeric",month:"long",day:"numeric"},(0,ot.rk)(_.precision))}),(0,ke.jsx)($s.Z,{copyrights:M||[],courtesyLine:B}),!i&&(0,ke.jsx)(Ha,{uri:e,imageForLyricsRequest:J,isPlayable:ie})]})})]})]})},mt=(0,t.memo)((function(){const{trackId:e=""}=(0,n.g)(),a=(0,u.Mce)(e).toURI(),s=(0,zs.J)({uri:a}),t="Track"===s.data?.trackUnion?.__typename&&s.data?.trackUnion?.visualIdentity?.squareCoverImage?.extractedColorSet?(0,rt.V)(s.data?.trackUnion?.visualIdentity.squareCoverImage.extractedColorSet):null;return s.loading||s.error||"Track"!==s.data?.trackUnion?.__typename?(0,ke.jsx)(Se.LoadingPage,{hasError:!s.loading,errorMessage:m.Ru.get("track-page.error")}):(0,ke.jsx)(it.P,{surface:tt.u.TRACK,uris:[a,s.data.trackUnion.albumOfTrack?.uri??null],children:(0,ke.jsx)(nt.d,{dynamicColors:t,children:(0,ke.jsx)(ut,{uri:a,track:s.data.trackUnion})})})}))},6443:(e,a,s)=>{s.d(a,{J:()=>n});var t=s(44947),i=s(49810);const r=new t.l("getTrack","query","9c7858f12cbd045bb1a4473291e3076ab05dbd3247f8542a690d59afd1d26ae0",null),n=(e,a)=>(0,i.I)(r,e,a)},44183:(e,a,s)=>{s.d(a,{a:()=>n});var t=s(81493),i=s(74598),r=s(72288);const n=()=>{const[e,a]=(0,r.x)("view-mode",i.I.LIST);let s=e;return t.p.includes(s)||(s=i.I.LIST),{viewMode:s,isCompactMode:s===i.I.COMPACT,setViewMode:a}}},86422:(e,a,s)=>{s.d(a,{a:()=>t.a});var t=s(44183)},74598:(e,a,s)=>{s.d(a,{I:()=>t});let t=function(e){return e.LIST="list",e.COMPACT="compact",e}({})},37395:(e,a,s)=>{s.d(a,{f:()=>r});var t=s(68334),i=s(18308);const r=()=>(0,i.N)(t.t)},9043:(e,a,s)=>{s.d(a,{N:()=>r});var t=s(30758),i=s(37395);const r=(e,a)=>{const s=(0,i.f)();(0,t.useEffect)((()=>s.getEvents().addListener(e,a)),[e,s,a])}},33887:(e,a,s)=>{s.d(a,{Bj:()=>i,T4:()=>r,kt:()=>n});var t=s(72574);function i(e,a){if(!a)return null;const s=(0,t.o_h)(a);if(!s||!(0,t.APS)(s))return null;const i=(0,t.XIp)(s.username);return e.find((e=>e.username===i))??null}function r(e){const a=e.getCurrentSession(),s=a?.sessionOwnerId;return s?a.sessionMembers.find((e=>e.id===s))??null:null}function n(e,a){if(!a||!function(e){return e.getCurrentSession()?.isSessionOwner??!1}(e))return!1;const s=e.getCurrentSession(),t=i(s?.sessionMembers??[],a),n=r(e);return!!t&&t?.username!==n?.username}},66764:(e,a,s)=>{function t(e){return e?e.reduce(((e,a)=>(a.releases.items[0]&&e.push(a.releases.items[0]),e)),[]):[]}s.d(a,{Dh:()=>i,Ey:()=>t,ay:()=>r});const i=e=>`spotify:app:artist:${e}`,r=e=>`spotify:artist:${e}`}}]);