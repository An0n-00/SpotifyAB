"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4574],{20090:(e,o,s)=>{s.d(o,{YourSoundCapsuleModal:()=>j});var l=s(30758),n=s(62411),t=s(60749),u=s(74728),a=s(87732),r=s(30417);function i(e){return{name:"WwwAnalyticsNonAuth",environments:["browsernonauth"],data:e}}var c=s(3118),d=s(71353),p=s(26906),m=s(85387),y=s(61e3),b=s(555),_=s(93492),f=s(76252);const w=()=>{const e=["IN","BR","ID"],o=(0,n.d4)(f.JJ);return e.includes(o?.toUpperCase())};var g=s(60841),P=s(98962);let h=function(e){return e.NOT_AVAILABLE="not-available",e.PREMIUM="premium",e.OPEN_APP="open-app",e}({});const v=()=>{const e=w(),o=(0,n.d4)(P.Yb),s=(0,g.V)();return e?o||s?h.PREMIUM:h.OPEN_APP:h.NOT_AVAILABLE};var x=s(87511),C=s(50107);const A="BGbkTNBgT3ZySaYM4ufS";var k=s(86070);const E=({isPremium:e,onDismiss:o})=>{const s=(0,x.k)(),{url:l,isExternal:u}=s,a=(0,m.Zp)(),c=(0,n.wA)(),d=v(),f=(0,g.V)(),w=(0,p.vh)(),P=(e,o)=>{const s={category:"your_sound_capsule_modal",action:"click",label:e,destination_url:o},l=f?i(s):(0,r.Q)(s);w.send(l)};return(0,k.jsxs)("div",{className:A,children:[(0,k.jsx)(y.H,{condensed:!0,size:"small",onClick:()=>{P(`${d}-dismiss`),o(),c(C.XL.actions.close())},children:_.Ru.get("web-player.your-sound-capsule-modal.dismiss")}),e&&(0,k.jsx)(b.$,{size:"small",onClick:()=>{P(`${d}-get-premium`,`${l}?ref=your_sound_capsule_modal`),!1===u?a({pathname:"/premium",search:(0,t.PI)({ref:"your_sound_capsule_modal"}).toString()}):window.open(`${l}?ref=your_sound_capsule_modal`,"_blank")},children:_.Ru.get("web-player.your-sound-capsule-modal.get-premium")})]})},R=()=>{switch(v()){case h.PREMIUM:return{title:_.Ru.get("web-player.your-sound-capsule-modal.premium-title"),text:_.Ru.get("web-player.your-sound-capsule-modal.premium-text")};case h.OPEN_APP:return{title:_.Ru.get("web-player.your-sound-capsule-modal.open-app-title"),text:_.Ru.get("web-player.your-sound-capsule-modal.open-app-text")};default:return{title:_.Ru.get("web-player.your-sound-capsule-modal.not-available-title"),text:_.Ru.get("web-player.your-sound-capsule-modal.not-available-text")}}};var M=s(90630),N=s(45022),I=s(98176);const O=({onClose:e})=>{const o=(0,n.d4)(N.fl),s=(0,c.NC)(M.oFY),t=v(),{title:m,text:y}=R(),b=(0,p.vh)(),_=(0,g.V)();return(0,l.useEffect)((()=>{if(!o||!s)return;const e={category:"your_sound_capsule_modal",action:"view",label:`${t}-view`},l=_?i(e):(0,r.Q)(e);b.send(l)}),[o,s,_,b,t]),s?(0,k.jsx)(d.A,{isOpen:o,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:(0,k.jsx)(u.Q,{id:"your-sound-capsule-modal",dialogTitle:m,body:(0,k.jsx)(a.Z,{children:y}),footer:(0,k.jsx)(E,{isPremium:t===h.PREMIUM,onDismiss:e})})}):null},j=()=>{const e=(0,n.wA)(),[o,s]=(0,t.ok)(),u="1"===o.get(I.P.YourSoundCapsule);(0,l.useEffect)((()=>{u&&e(C.XL.actions.open())}),[e,u]);const a=(0,l.useCallback)((()=>{s((e=>(e.delete(I.P.YourSoundCapsule),e)))}),[s]);return(0,k.jsx)(O,{onClose:a})}}}]);